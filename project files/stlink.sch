EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title "ST-Link v2.1 Mini"
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Text Notes 650  700  0    100  ~ 0
USB Type C as USB 2.0
$Comp
L power:VBUS #PWR?
U 1 1 5E13DC98
P 1650 950
F 0 "#PWR?" H 1650 800 50  0001 C CNN
F 1 "VBUS" H 1665 1123 50  0000 C CNN
F 2 "" H 1650 950 50  0001 C CNN
F 3 "" H 1650 950 50  0001 C CNN
	1    1650 950 
	1    0    0    -1  
$EndComp
$Comp
L power:GNDREF #PWR?
U 1 1 5E13E375
P 650 2600
F 0 "#PWR?" H 650 2350 50  0001 C CNN
F 1 "GNDREF" H 655 2427 50  0000 C CNN
F 2 "" H 650 2600 50  0001 C CNN
F 3 "" H 650 2600 50  0001 C CNN
	1    650  2600
	1    0    0    -1  
$EndComp
$Comp
L power:GNDREF #PWR?
U 1 1 5E13ECD1
P 950 2600
F 0 "#PWR?" H 950 2350 50  0001 C CNN
F 1 "GNDREF" H 955 2427 50  0000 C CNN
F 2 "" H 950 2600 50  0001 C CNN
F 3 "" H 950 2600 50  0001 C CNN
	1    950  2600
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5E13FFFA
P 2000 1400
F 0 "R?" V 1900 1400 50  0000 C CNN
F 1 "5K1" V 2000 1400 50  0000 C CNN
F 2 "" V 1930 1400 50  0001 C CNN
F 3 "~" H 2000 1400 50  0001 C CNN
	1    2000 1400
	0    -1   -1   0   
$EndComp
Wire Wire Line
	1550 1400 1850 1400
Wire Wire Line
	1850 1300 2200 1300
Wire Wire Line
	2200 1300 2200 1400
Wire Wire Line
	2200 1400 2150 1400
Wire Wire Line
	2200 1400 2200 1450
Connection ~ 2200 1400
$Comp
L power:GNDREF #PWR?
U 1 1 5E1404B9
P 2200 1450
F 0 "#PWR?" H 2200 1200 50  0001 C CNN
F 1 "GNDREF" H 2205 1277 50  0000 C CNN
F 2 "" H 2200 1450 50  0001 C CNN
F 3 "" H 2200 1450 50  0001 C CNN
	1    2200 1450
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5E140D7A
P 1700 1300
F 0 "R?" V 1800 1300 50  0000 C CNN
F 1 "5K1" V 1700 1300 50  0000 C CNN
F 2 "" V 1630 1300 50  0001 C CNN
F 3 "~" H 1700 1300 50  0001 C CNN
	1    1700 1300
	0    -1   -1   0   
$EndComp
Wire Wire Line
	1550 1600 1600 1600
Wire Wire Line
	1600 1600 1600 1700
Wire Wire Line
	1600 1700 1550 1700
Wire Wire Line
	1550 1800 1600 1800
Wire Wire Line
	1600 1800 1600 1900
Wire Wire Line
	1600 1900 1550 1900
NoConn ~ 1550 2200
NoConn ~ 1550 2300
$Comp
L Connector:USB_C_Receptacle_USB2.0 J?
U 1 1 5E141D2F
P 950 1700
F 0 "J?" H 1057 2567 50  0000 C CNN
F 1 "USB_C_Receptacle_USB2.0" H 1057 2476 50  0000 C CNN
F 2 "" H 1100 1700 50  0001 C CNN
F 3 "https://www.usb.org/sites/default/files/documents/usb_type-c.zip" H 1100 1700 50  0001 C CNN
	1    950  1700
	1    0    0    -1  
$EndComp
Text Notes 650  3150 0    50   ~ 0
If used connector with ID pin: \npull it down with 100K resistor
Text Notes 2650 700  0    100  ~ 0
VCP interface
Wire Wire Line
	1550 1100 1650 1100
Wire Wire Line
	1650 1100 1650 950 
Text Label 1600 1700 0    50   ~ 0
D-
Text Label 1600 1900 0    50   ~ 0
D+
$Comp
L Transistor_BJT:MMBT3904 Q?
U 1 1 5E144756
P 3200 1200
F 0 "Q?" H 3391 1246 50  0000 L CNN
F 1 "MMBT9013" H 3391 1155 50  0000 L CNN
F 2 "Package_TO_SOT_SMD:SOT-23" H 3400 1125 50  0001 L CIN
F 3 "https://www.fairchildsemi.com/datasheets/2N/2N3904.pdf" H 3200 1200 50  0001 L CNN
	1    3200 1200
	-1   0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5E14689D
P 2950 1400
F 0 "R?" V 2900 1550 50  0000 C CNN
F 1 "1K5" V 2950 1400 50  0000 C CNN
F 2 "" V 2880 1400 50  0001 C CNN
F 3 "~" H 2950 1400 50  0001 C CNN
	1    2950 1400
	0    -1   1    0   
$EndComp
$Comp
L power:+3V3 #PWR?
U 1 1 5E1470C5
P 3100 950
F 0 "#PWR?" H 3100 800 50  0001 C CNN
F 1 "+3V3" H 3115 1123 50  0000 C CNN
F 2 "" H 3100 950 50  0001 C CNN
F 3 "" H 3100 950 50  0001 C CNN
	1    3100 950 
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5E147AAD
P 3650 1000
F 0 "R?" V 3600 850 50  0000 C CNN
F 1 "10K" V 3650 1000 50  0000 C CNN
F 2 "" V 3580 1000 50  0001 C CNN
F 3 "~" H 3650 1000 50  0001 C CNN
	1    3650 1000
	0    1    1    0   
$EndComp
$Comp
L Device:R R?
U 1 1 5E147F4B
P 3650 1200
F 0 "R?" V 3600 1050 50  0000 C CNN
F 1 "36K" V 3650 1200 50  0000 C CNN
F 2 "" V 3580 1200 50  0001 C CNN
F 3 "~" H 3650 1200 50  0001 C CNN
	1    3650 1200
	0    1    1    0   
$EndComp
$Comp
L power:+5V #PWR?
U 1 1 5E148E69
P 3850 950
F 0 "#PWR?" H 3850 800 50  0001 C CNN
F 1 "+5V" H 3865 1123 50  0000 C CNN
F 2 "" H 3850 950 50  0001 C CNN
F 3 "" H 3850 950 50  0001 C CNN
	1    3850 950 
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5E1475F2
P 3650 1100
F 0 "R?" V 3600 950 50  0000 C CNN
F 1 "100R" V 3650 1100 50  0000 C CNN
F 2 "" V 3580 1100 50  0001 C CNN
F 3 "~" H 3650 1100 50  0001 C CNN
	1    3650 1100
	0    1    1    0   
$EndComp
Wire Wire Line
	3800 1000 3850 1000
Wire Wire Line
	3850 1000 3850 950 
Wire Wire Line
	3800 1100 3900 1100
Text Label 3900 1100 0    50   ~ 0
USB_RENUMn
Wire Notes Line
	2550 550  2550 3150
Wire Notes Line
	4550 550  4550 3150
Text Notes 4700 700  0    100  ~ 0
Status LED
$Comp
L Device:LED D?
U 1 1 5E156BEA
P 5550 1350
F 0 "D?" H 5543 1095 50  0000 C CNN
F 1 "Red" H 5543 1186 50  0000 C CNN
F 2 "" H 5550 1350 50  0001 C CNN
F 3 "~" H 5550 1350 50  0001 C CNN
	1    5550 1350
	-1   0    0    1   
$EndComp
$Comp
L Device:LED D?
U 1 1 5E157862
P 6650 6800
F 0 "D?" H 6643 7016 50  0000 C CNN
F 1 "Power" H 6643 6925 50  0000 C CNN
F 2 "" H 6650 6800 50  0001 C CNN
F 3 "~" H 6650 6800 50  0001 C CNN
	1    6650 6800
	0    -1   -1   0   
$EndComp
$Comp
L Device:R R?
U 1 1 5E157BB6
P 5250 1000
F 0 "R?" V 5150 1000 50  0000 C CNN
F 1 "330R" V 5250 1000 50  0000 C CNN
F 2 "" V 5180 1000 50  0001 C CNN
F 3 "~" H 5250 1000 50  0001 C CNN
	1    5250 1000
	0    1    1    0   
$EndComp
$Comp
L Device:R R?
U 1 1 5E1582BC
P 5250 1350
F 0 "R?" V 5150 1350 50  0000 C CNN
F 1 "330R" V 5250 1350 50  0000 C CNN
F 2 "" V 5180 1350 50  0001 C CNN
F 3 "~" H 5250 1350 50  0001 C CNN
	1    5250 1350
	0    1    1    0   
$EndComp
$Comp
L power:+3V3 #PWR?
U 1 1 5E1591C8
P 5750 950
F 0 "#PWR?" H 5750 800 50  0001 C CNN
F 1 "+3V3" H 5765 1123 50  0000 C CNN
F 2 "" H 5750 950 50  0001 C CNN
F 3 "" H 5750 950 50  0001 C CNN
	1    5750 950 
	1    0    0    -1  
$EndComp
$Comp
L power:GNDREF #PWR?
U 1 1 5E1595DF
P 5750 1400
F 0 "#PWR?" H 5750 1150 50  0001 C CNN
F 1 "GNDREF" H 5755 1227 50  0000 C CNN
F 2 "" H 5750 1400 50  0001 C CNN
F 3 "" H 5750 1400 50  0001 C CNN
	1    5750 1400
	1    0    0    -1  
$EndComp
Wire Wire Line
	5700 1000 5750 1000
Wire Wire Line
	5750 1000 5750 950 
Wire Wire Line
	5100 1350 5050 1350
Wire Wire Line
	5050 1350 5050 1000
Wire Wire Line
	5050 1000 5100 1000
Wire Wire Line
	5700 1350 5750 1350
Wire Wire Line
	5750 1350 5750 1400
Text Notes 4700 1800 0    100  ~ 0
HSE
$Comp
L Device:Crystal Y?
U 1 1 5E15BF55
P 4950 2350
F 0 "Y?" H 4950 2618 50  0000 C CNN
F 1 "8MHz" H 4950 2527 50  0000 C CNN
F 2 "" H 4950 2350 50  0001 C CNN
F 3 "~" H 4950 2350 50  0001 C CNN
	1    4950 2350
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5E15D50F
P 5150 2550
F 0 "C?" H 5265 2596 50  0000 L CNN
F 1 "12pF" H 5265 2505 50  0000 L CNN
F 2 "" H 5188 2400 50  0001 C CNN
F 3 "~" H 5150 2550 50  0001 C CNN
	1    5150 2550
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5E15D93C
P 4750 2550
F 0 "C?" H 4865 2596 50  0000 L CNN
F 1 "12pF" H 4865 2505 50  0000 L CNN
F 2 "" H 4788 2400 50  0001 C CNN
F 3 "~" H 4750 2550 50  0001 C CNN
	1    4750 2550
	1    0    0    -1  
$EndComp
$Comp
L power:GNDREF #PWR?
U 1 1 5E15DD48
P 4750 2700
F 0 "#PWR?" H 4750 2450 50  0001 C CNN
F 1 "GNDREF" H 4755 2527 50  0000 C CNN
F 2 "" H 4750 2700 50  0001 C CNN
F 3 "" H 4750 2700 50  0001 C CNN
	1    4750 2700
	1    0    0    -1  
$EndComp
$Comp
L power:GNDREF #PWR?
U 1 1 5E15E327
P 5150 2700
F 0 "#PWR?" H 5150 2450 50  0001 C CNN
F 1 "GNDREF" H 5155 2527 50  0000 C CNN
F 2 "" H 5150 2700 50  0001 C CNN
F 3 "" H 5150 2700 50  0001 C CNN
	1    5150 2700
	1    0    0    -1  
$EndComp
Wire Wire Line
	5100 2350 5150 2350
Wire Wire Line
	5150 2350 5150 2400
Wire Wire Line
	4800 2350 4750 2350
Wire Wire Line
	4750 2350 4750 2400
Wire Wire Line
	4750 2350 4750 2000
Wire Wire Line
	4750 2000 5250 2000
Connection ~ 4750 2350
Wire Wire Line
	5150 2350 5150 2200
Wire Wire Line
	5150 2200 5250 2200
Connection ~ 5150 2350
Text Label 5250 2000 0    50   ~ 0
STLINK_OSC_IN
Text Label 5250 2200 0    50   ~ 0
STLINK_OST_OUT
Wire Notes Line
	5950 550  5950 3150
Text Notes 9700 700  0    100  ~ 0
Board identification
Text Notes 6100 700  0    100  ~ 0
Reset Circuit
Text Notes 6050 2000 0    100  ~ 0
Boot Options
Text Notes 7350 850  0    100  ~ 0
Target Voltage\nDetection
$Comp
L Device:R R?
U 1 1 5E1678D4
P 10100 850
F 0 "R?" V 10000 850 50  0000 C CNN
F 1 "10K" V 10100 850 50  0000 C CNN
F 2 "" V 10030 850 50  0001 C CNN
F 3 "~" H 10100 850 50  0001 C CNN
	1    10100 850 
	0    -1   1    0   
$EndComp
$Comp
L power:GNDREF #PWR?
U 1 1 5E16841E
P 10300 1000
F 0 "#PWR?" H 10300 750 50  0001 C CNN
F 1 "GNDREF" H 10305 827 50  0000 C CNN
F 2 "" H 10300 1000 50  0001 C CNN
F 3 "" H 10300 1000 50  0001 C CNN
	1    10300 1000
	1    0    0    -1  
$EndComp
Text Label 9950 850  2    50   ~ 0
PC13
$Comp
L Switch:SW_Push SW?
U 1 1 5E16B4A6
P 6200 1250
F 0 "SW?" V 6246 1202 50  0000 R CNN
F 1 "Reset" V 6155 1202 50  0000 R CNN
F 2 "" H 6200 1450 50  0001 C CNN
F 3 "~" H 6200 1450 50  0001 C CNN
	1    6200 1250
	0    -1   -1   0   
$EndComp
$Comp
L Device:C C?
U 1 1 5E16BE82
P 6550 1250
F 0 "C?" H 6665 1296 50  0000 L CNN
F 1 "100nF" H 6665 1205 50  0000 L CNN
F 2 "" H 6588 1100 50  0001 C CNN
F 3 "~" H 6550 1250 50  0001 C CNN
	1    6550 1250
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5E16C5AC
P 6800 1000
F 0 "R?" V 6700 1000 50  0000 C CNN
F 1 "100K" V 6800 1000 50  0000 C CNN
F 2 "" V 6730 1000 50  0001 C CNN
F 3 "~" H 6800 1000 50  0001 C CNN
	1    6800 1000
	0    -1   -1   0   
$EndComp
$Comp
L power:+3V3 #PWR?
U 1 1 5E16CE06
P 7000 950
F 0 "#PWR?" H 7000 800 50  0001 C CNN
F 1 "+3V3" H 7015 1123 50  0000 C CNN
F 2 "" H 7000 950 50  0001 C CNN
F 3 "" H 7000 950 50  0001 C CNN
	1    7000 950 
	1    0    0    -1  
$EndComp
Wire Wire Line
	6200 1000 6550 1000
Wire Wire Line
	6550 1000 6550 1100
Wire Wire Line
	6200 1000 6200 1050
Wire Wire Line
	6550 1400 6550 1500
Wire Wire Line
	6550 1500 6200 1500
Wire Wire Line
	6200 1500 6200 1450
$Comp
L power:GNDREF #PWR?
U 1 1 5E1712AC
P 6200 1500
F 0 "#PWR?" H 6200 1250 50  0001 C CNN
F 1 "GNDREF" H 6205 1327 50  0000 C CNN
F 2 "" H 6200 1500 50  0001 C CNN
F 3 "" H 6200 1500 50  0001 C CNN
	1    6200 1500
	1    0    0    -1  
$EndComp
Connection ~ 6200 1500
$Comp
L Switch:SW_Push SW?
U 1 1 5E1756D6
P 6250 2550
F 0 "SW?" V 6296 2502 50  0000 R CNN
F 1 "Boot0" V 6205 2502 50  0000 R CNN
F 2 "" H 6250 2750 50  0001 C CNN
F 3 "~" H 6250 2750 50  0001 C CNN
	1    6250 2550
	0    -1   -1   0   
$EndComp
$Comp
L Device:C C?
U 1 1 5E1756DC
P 6600 2550
F 0 "C?" H 6715 2596 50  0000 L CNN
F 1 "100nF" H 6715 2505 50  0000 L CNN
F 2 "" H 6638 2400 50  0001 C CNN
F 3 "~" H 6600 2550 50  0001 C CNN
	1    6600 2550
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5E1756E2
P 6750 2300
F 0 "R?" V 6650 2300 50  0000 C CNN
F 1 "100K" V 6750 2300 50  0000 C CNN
F 2 "" V 6680 2300 50  0001 C CNN
F 3 "~" H 6750 2300 50  0001 C CNN
	1    6750 2300
	0    -1   -1   0   
$EndComp
$Comp
L power:+3V3 #PWR?
U 1 1 5E1756E8
P 6950 2250
F 0 "#PWR?" H 6950 2100 50  0001 C CNN
F 1 "+3V3" H 6965 2423 50  0000 C CNN
F 2 "" H 6950 2250 50  0001 C CNN
F 3 "" H 6950 2250 50  0001 C CNN
	1    6950 2250
	1    0    0    -1  
$EndComp
Wire Wire Line
	6250 2300 6600 2300
Wire Wire Line
	6600 2300 6600 2400
Wire Wire Line
	6250 2300 6250 2350
Wire Wire Line
	6600 2700 6600 2800
Wire Wire Line
	6600 2800 6250 2800
Wire Wire Line
	6250 2800 6250 2750
$Comp
L power:GNDREF #PWR?
U 1 1 5E1756F6
P 6250 2800
F 0 "#PWR?" H 6250 2550 50  0001 C CNN
F 1 "GNDREF" H 6255 2627 50  0000 C CNN
F 2 "" H 6250 2800 50  0001 C CNN
F 3 "" H 6250 2800 50  0001 C CNN
	1    6250 2800
	1    0    0    -1  
$EndComp
Connection ~ 6250 2800
Text Label 6500 1000 2    50   ~ 0
STLINK_NRST
Text Label 6550 2300 2    50   ~ 0
BOOT_0
Text Label 6650 2800 0    50   ~ 0
BOOT_1
$Comp
L Device:R R?
U 1 1 5E1818FA
P 7500 1300
F 0 "R?" V 7400 1300 50  0000 C CNN
F 1 "4K7" V 7500 1300 50  0000 C CNN
F 2 "" V 7430 1300 50  0001 C CNN
F 3 "~" H 7500 1300 50  0001 C CNN
	1    7500 1300
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5E181C44
P 7500 1600
F 0 "R?" V 7400 1600 50  0000 C CNN
F 1 "4K7" V 7500 1600 50  0000 C CNN
F 2 "" V 7430 1600 50  0001 C CNN
F 3 "~" H 7500 1600 50  0001 C CNN
	1    7500 1600
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR?
U 1 1 5E181F63
P 7500 1150
F 0 "#PWR?" H 7500 1000 50  0001 C CNN
F 1 "+3V3" H 7515 1323 50  0000 C CNN
F 2 "" H 7500 1150 50  0001 C CNN
F 3 "" H 7500 1150 50  0001 C CNN
	1    7500 1150
	1    0    0    -1  
$EndComp
$Comp
L power:GNDREF #PWR?
U 1 1 5E182305
P 7500 1750
F 0 "#PWR?" H 7500 1500 50  0001 C CNN
F 1 "GNDREF" H 7505 1577 50  0000 C CNN
F 2 "" H 7500 1750 50  0001 C CNN
F 3 "" H 7500 1750 50  0001 C CNN
	1    7500 1750
	1    0    0    -1  
$EndComp
Connection ~ 7500 1450
Text Label 7600 1450 0    50   ~ 0
AIN
Text Notes 7050 4900 0    100  ~ 0
Self-programming
Text GLabel 7650 5200 0    50   Input ~ 0
Self_SWOh
Text GLabel 7650 5300 0    50   Input ~ 0
Self_SWDIOh
Text GLabel 7650 5400 0    50   Input ~ 0
Self_SWDCLKh
Wire Wire Line
	7650 5200 7750 5200
Wire Wire Line
	7650 5300 7750 5300
Wire Wire Line
	7650 5400 7750 5400
Text Label 7750 5200 0    50   ~ 0
SWO
Text Label 7750 5300 0    50   ~ 0
SWDIO
Text Label 7750 5400 0    50   ~ 0
SWDCLK
Text Notes 7300 5050 0    50   ~ 0
SWD
Text Notes 8100 5050 0    50   ~ 0
UART
Text GLabel 8450 5250 0    50   Input ~ 0
Self_RXh
Text GLabel 8450 5350 0    50   Input ~ 0
Self_TXh
Wire Wire Line
	8450 5250 8550 5250
Wire Wire Line
	8450 5350 8550 5350
Text Label 8550 5250 0    50   ~ 0
RX
Text Label 8550 5350 0    50   ~ 0
TX
Text Notes 9350 5900 0    100  ~ 0
Target SWD interface
Text GLabel 10600 6400 2    50   Input ~ 0
T_SWOh
Text GLabel 10600 6300 2    50   Output ~ 0
T_SWDIOh
Text GLabel 10600 6200 2    50   Output ~ 0
T_SWDCLKh
Text GLabel 10600 6100 2    50   Output ~ 0
T_NRST_SWDh
Text GLabel 10600 6000 2    50   Input ~ 0
T_Vref_SWDh
Text Notes 9300 4900 0    100  ~ 0
Target SWIM interface
Text GLabel 10600 5400 2    50   Input ~ 0
T_SWIMh
Text GLabel 10600 5500 2    50   Output ~ 0
T_NRST_SWIMh
Text GLabel 7650 5500 0    50   Input ~ 0
Self_NRSTh
Text Label 7750 5500 0    50   ~ 0
STLINK_NRST
Wire Wire Line
	7750 5500 7650 5500
Text Notes 7050 5900 0    100  ~ 0
Target UART interface
Text GLabel 7650 6000 0    50   Input ~ 0
T_VCP_RXh
Text GLabel 7650 6100 0    50   Input ~ 0
T_VCP_TXh
Text Label 7750 6000 0    50   ~ 0
STLINK_TX
Text Label 7750 6100 0    50   ~ 0
STLINK_RX
Wire Wire Line
	7750 6000 7650 6000
Wire Wire Line
	7750 6100 7650 6100
$Comp
L MCU_ST_STM32F1:STM32F103CBTx U?
U 1 1 5E1A6683
P 1850 5350
F 0 "U?" H 2100 3800 50  0000 C CNN
F 1 "STM32F103CBTx" H 2350 3900 50  0000 C CNN
F 2 "Package_QFP:LQFP-48_7x7mm_P0.5mm" H 1250 3950 50  0001 R CNN
F 3 "http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/CD00161566.pdf" H 1850 5350 50  0001 C CNN
	1    1850 5350
	1    0    0    -1  
$EndComp
Text Label 1150 4050 2    50   ~ 0
STLINK_NRST
Text Label 1150 4250 2    50   ~ 0
BOOT_0
Text Label 1150 5350 2    50   ~ 0
BOOT_1
Text Label 1150 4450 2    50   ~ 0
STLINK_OSC_IN
Text Label 1150 4550 2    50   ~ 0
STLINK_OST_OUT
Text Label 1150 4750 2    50   ~ 0
PC13
NoConn ~ 1150 4950
$Comp
L power:+3V3 #PWR?
U 1 1 5E1AC69A
P 1650 3750
F 0 "#PWR?" H 1650 3600 50  0001 C CNN
F 1 "+3V3" H 1665 3923 50  0000 C CNN
F 2 "" H 1650 3750 50  0001 C CNN
F 3 "" H 1650 3750 50  0001 C CNN
	1    1650 3750
	1    0    0    -1  
$EndComp
Wire Wire Line
	1650 3850 1650 3800
Wire Wire Line
	1650 3800 1750 3800
Wire Wire Line
	2050 3800 2050 3850
Connection ~ 1650 3800
Wire Wire Line
	1650 3800 1650 3750
Wire Wire Line
	1950 3850 1950 3800
Connection ~ 1950 3800
Wire Wire Line
	1950 3800 2050 3800
Wire Wire Line
	1850 3850 1850 3800
Connection ~ 1850 3800
Wire Wire Line
	1850 3800 1950 3800
Wire Wire Line
	1750 3850 1750 3800
Connection ~ 1750 3800
Wire Wire Line
	1750 3800 1850 3800
$Comp
L Device:C C?
U 1 1 5E1B53F0
P 2500 3950
F 0 "C?" H 2615 3996 50  0000 L CNN
F 1 "100nF" H 2615 3905 50  0000 L CNN
F 2 "" H 2538 3800 50  0001 C CNN
F 3 "~" H 2500 3950 50  0001 C CNN
	1    2500 3950
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5E1B5956
P 2950 3950
F 0 "C?" H 3065 3996 50  0000 L CNN
F 1 "100nF" H 3065 3905 50  0000 L CNN
F 2 "" H 2988 3800 50  0001 C CNN
F 3 "~" H 2950 3950 50  0001 C CNN
	1    2950 3950
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5E1B5C37
P 3400 3950
F 0 "C?" H 3515 3996 50  0000 L CNN
F 1 "100nF" H 3515 3905 50  0000 L CNN
F 2 "" H 3438 3800 50  0001 C CNN
F 3 "~" H 3400 3950 50  0001 C CNN
	1    3400 3950
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5E1B607E
P 3850 3950
F 0 "C?" H 3965 3996 50  0000 L CNN
F 1 "100nF" H 3965 3905 50  0000 L CNN
F 2 "" H 3888 3800 50  0001 C CNN
F 3 "~" H 3850 3950 50  0001 C CNN
	1    3850 3950
	1    0    0    -1  
$EndComp
$Comp
L Device:C C?
U 1 1 5E1B635D
P 4300 3950
F 0 "C?" H 4415 3996 50  0000 L CNN
F 1 "100nF" H 4415 3905 50  0000 L CNN
F 2 "" H 4338 3800 50  0001 C CNN
F 3 "~" H 4300 3950 50  0001 C CNN
	1    4300 3950
	1    0    0    -1  
$EndComp
Wire Wire Line
	4300 3800 3850 3800
Connection ~ 2050 3800
Connection ~ 2500 3800
Wire Wire Line
	2500 3800 2050 3800
Connection ~ 2950 3800
Wire Wire Line
	2950 3800 2500 3800
Connection ~ 3400 3800
Wire Wire Line
	3400 3800 2950 3800
Connection ~ 3850 3800
Wire Wire Line
	3850 3800 3400 3800
$Comp
L power:GNDREF #PWR?
U 1 1 5E1B872E
P 2500 4100
F 0 "#PWR?" H 2500 3850 50  0001 C CNN
F 1 "GNDREF" H 2505 3927 50  0000 C CNN
F 2 "" H 2500 4100 50  0001 C CNN
F 3 "" H 2500 4100 50  0001 C CNN
	1    2500 4100
	1    0    0    -1  
$EndComp
$Comp
L power:GNDREF #PWR?
U 1 1 5E1B8CEB
P 2950 4100
F 0 "#PWR?" H 2950 3850 50  0001 C CNN
F 1 "GNDREF" H 2955 3927 50  0000 C CNN
F 2 "" H 2950 4100 50  0001 C CNN
F 3 "" H 2950 4100 50  0001 C CNN
	1    2950 4100
	1    0    0    -1  
$EndComp
$Comp
L power:GNDREF #PWR?
U 1 1 5E1B901D
P 3400 4100
F 0 "#PWR?" H 3400 3850 50  0001 C CNN
F 1 "GNDREF" H 3405 3927 50  0000 C CNN
F 2 "" H 3400 4100 50  0001 C CNN
F 3 "" H 3400 4100 50  0001 C CNN
	1    3400 4100
	1    0    0    -1  
$EndComp
$Comp
L power:GNDREF #PWR?
U 1 1 5E1B9333
P 3850 4100
F 0 "#PWR?" H 3850 3850 50  0001 C CNN
F 1 "GNDREF" H 3855 3927 50  0000 C CNN
F 2 "" H 3850 4100 50  0001 C CNN
F 3 "" H 3850 4100 50  0001 C CNN
	1    3850 4100
	1    0    0    -1  
$EndComp
$Comp
L power:GNDREF #PWR?
U 1 1 5E1B9698
P 4300 4100
F 0 "#PWR?" H 4300 3850 50  0001 C CNN
F 1 "GNDREF" H 4305 3927 50  0000 C CNN
F 2 "" H 4300 4100 50  0001 C CNN
F 3 "" H 4300 4100 50  0001 C CNN
	1    4300 4100
	1    0    0    -1  
$EndComp
$Comp
L power:GNDREF #PWR?
U 1 1 5E1B9966
P 1650 6950
F 0 "#PWR?" H 1650 6700 50  0001 C CNN
F 1 "GNDREF" H 1655 6777 50  0000 C CNN
F 2 "" H 1650 6950 50  0001 C CNN
F 3 "" H 1650 6950 50  0001 C CNN
	1    1650 6950
	1    0    0    -1  
$EndComp
Wire Wire Line
	1950 6850 1950 6900
Wire Wire Line
	1950 6900 1850 6900
Wire Wire Line
	1650 6900 1650 6850
Wire Wire Line
	1650 6950 1650 6900
Connection ~ 1650 6900
Wire Wire Line
	1750 6900 1750 6850
Connection ~ 1750 6900
Wire Wire Line
	1750 6900 1650 6900
Wire Wire Line
	1850 6850 1850 6900
Connection ~ 1850 6900
Wire Wire Line
	1850 6900 1750 6900
Text Label 2450 5150 0    50   ~ 0
AIN
NoConn ~ 2450 5250
Text Label 2450 5350 0    50   ~ 0
STLINK_TX
Text Label 2450 5450 0    50   ~ 0
STLINK_RX
NoConn ~ 2450 5550
NoConn ~ 2450 5750
NoConn ~ 2450 5850
Wire Wire Line
	10600 5500 10500 5500
Wire Wire Line
	10600 5400 10500 5400
Text Label 10200 5400 2    50   ~ 0
T_SWIM
Text Label 10200 5500 2    50   ~ 0
T_NRST_SWIM
Wire Wire Line
	10600 6400 10500 6400
Wire Wire Line
	10600 6300 10500 6300
Wire Wire Line
	10600 6200 10500 6200
Wire Wire Line
	10600 6100 10500 6100
Wire Wire Line
	10600 6000 10500 6000
Text Label 10200 6400 2    50   ~ 0
T_SWO
Text Label 10200 6300 2    50   ~ 0
T_SWDIO
Text Label 10200 6200 2    50   ~ 0
T_SWDCLK
Text Label 10200 6100 2    50   ~ 0
T_NRST_SWD
Text Label 10500 6000 2    50   ~ 0
T_Vref_SWD
NoConn ~ 1150 5550
NoConn ~ 1150 6650
Text Label 1150 5450 2    50   ~ 0
SWO
Text Label 2450 6450 0    50   ~ 0
SWDIO
Text Label 2450 6550 0    50   ~ 0
SWDCLK
Text Label 2450 6150 0    50   ~ 0
RX
Text Label 2450 6050 0    50   ~ 0
TX
Text Label 2450 6350 0    50   ~ 0
STLINK_USB_D+
Text Label 2450 6250 0    50   ~ 0
STLINK_USB_D-
Text Label 2450 6650 0    50   ~ 0
USB_RENUMn
Wire Wire Line
	2450 6150 2750 6150
Wire Wire Line
	2450 6050 2750 6050
Text Label 2750 6150 0    50   ~ 0
T_SWO
$Comp
L Device:R R?
U 1 1 5E200C9F
P 2650 5950
F 0 "R?" V 2550 5950 50  0000 C CNN
F 1 "100R" V 2650 5950 50  0000 C CNN
F 2 "" V 2580 5950 50  0001 C CNN
F 3 "~" H 2650 5950 50  0001 C CNN
	1    2650 5950
	0    1    1    0   
$EndComp
Wire Wire Line
	2500 5950 2450 5950
NoConn ~ 1150 5250
$Comp
L Device:R R?
U 1 1 5E239BA0
P 10350 6400
F 0 "R?" V 10400 6550 50  0000 C CNN
F 1 "22R" V 10350 6400 50  0000 C CNN
F 2 "" V 10280 6400 50  0001 C CNN
F 3 "~" H 10350 6400 50  0001 C CNN
	1    10350 6400
	0    1    -1   0   
$EndComp
$Comp
L Device:R R?
U 1 1 5E241EAA
P 10350 6300
F 0 "R?" V 10400 6450 50  0000 C CNN
F 1 "22R" V 10350 6300 50  0000 C CNN
F 2 "" V 10280 6300 50  0001 C CNN
F 3 "~" H 10350 6300 50  0001 C CNN
	1    10350 6300
	0    1    -1   0   
$EndComp
$Comp
L Device:R R?
U 1 1 5E241FEE
P 10350 6200
F 0 "R?" V 10400 6350 50  0000 C CNN
F 1 "22R" V 10350 6200 50  0000 C CNN
F 2 "" V 10280 6200 50  0001 C CNN
F 3 "~" H 10350 6200 50  0001 C CNN
	1    10350 6200
	0    1    -1   0   
$EndComp
$Comp
L Device:R R?
U 1 1 5E242103
P 10350 6100
F 0 "R?" V 10400 6250 50  0000 C CNN
F 1 "22R" V 10350 6100 50  0000 C CNN
F 2 "" V 10280 6100 50  0001 C CNN
F 3 "~" H 10350 6100 50  0001 C CNN
	1    10350 6100
	0    1    -1   0   
$EndComp
Text Label 1150 6450 2    50   ~ 0
T_SWDCLK
Text Label 10500 6000 2    50   ~ 0
T_Vref_SWD
$Comp
L Device:R R?
U 1 1 5E2426E2
P 9700 6300
F 0 "R?" V 9600 6300 50  0000 C CNN
F 1 "100R" V 9700 6300 50  0000 C CNN
F 2 "" V 9630 6300 50  0001 C CNN
F 3 "~" H 9700 6300 50  0001 C CNN
	1    9700 6300
	0    -1   1    0   
$EndComp
Text Label 9550 6300 2    50   ~ 0
T_SWDIO_IN
Text Label 1150 6350 2    50   ~ 0
T_SWDIO_IN
Text Label 1150 6550 2    50   ~ 0
T_SWDIO
Wire Wire Line
	10200 6300 9850 6300
Text Label 2450 5650 0    50   ~ 0
T_SWDCLK
$Comp
L Device:R R?
U 1 1 5E1605A4
P 9550 5500
F 0 "R?" V 9450 5500 50  0000 C CNN
F 1 "220R" V 9550 5500 50  0000 C CNN
F 2 "" V 9480 5500 50  0001 C CNN
F 3 "~" H 9550 5500 50  0001 C CNN
	1    9550 5500
	0    -1   -1   0   
$EndComp
$Comp
L Device:R R?
U 1 1 5E160EE0
P 9550 5400
F 0 "R?" V 9450 5400 50  0000 C CNN
F 1 "220R" V 9550 5400 50  0000 C CNN
F 2 "" V 9480 5400 50  0001 C CNN
F 3 "~" H 9550 5400 50  0001 C CNN
	1    9550 5400
	0    -1   1    0   
$EndComp
$Comp
L Device:R R?
U 1 1 5E1611CA
P 10350 5500
F 0 "R?" V 10250 5500 50  0000 C CNN
F 1 "47R" V 10350 5500 50  0000 C CNN
F 2 "" V 10280 5500 50  0001 C CNN
F 3 "~" H 10350 5500 50  0001 C CNN
	1    10350 5500
	0    -1   -1   0   
$EndComp
$Comp
L Device:R R?
U 1 1 5E1614A7
P 10350 5400
F 0 "R?" V 10250 5400 50  0000 C CNN
F 1 "47R" V 10350 5400 50  0000 C CNN
F 2 "" V 10280 5400 50  0001 C CNN
F 3 "~" H 10350 5400 50  0001 C CNN
	1    10350 5400
	0    -1   1    0   
$EndComp
$Comp
L power:+3V3 #PWR?
U 1 1 5E194620
P 10550 5150
F 0 "#PWR?" H 10550 5000 50  0001 C CNN
F 1 "+3V3" H 10565 5323 50  0000 C CNN
F 2 "" H 10550 5150 50  0001 C CNN
F 3 "" H 10550 5150 50  0001 C CNN
	1    10550 5150
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5E194F79
P 10350 5200
F 0 "R?" V 10250 5200 50  0000 C CNN
F 1 "680R" V 10350 5200 50  0000 C CNN
F 2 "" V 10280 5200 50  0001 C CNN
F 3 "~" H 10350 5200 50  0001 C CNN
	1    10350 5200
	0    -1   1    0   
$EndComp
Wire Wire Line
	10200 5400 9800 5400
Wire Wire Line
	9700 5500 10200 5500
Wire Wire Line
	9800 5400 9800 5200
Wire Wire Line
	9800 5200 10200 5200
Connection ~ 9800 5400
Wire Wire Line
	9800 5400 9700 5400
Wire Wire Line
	10500 5200 10550 5200
Wire Wire Line
	10550 5200 10550 5150
Text Label 9400 5400 2    50   ~ 0
T_SWIM_IN
Text Label 9400 5500 2    50   ~ 0
T_NRST_SWIM_IN
Text Label 1150 6150 2    50   ~ 0
T_SWIM_IN
Text Label 1150 6250 2    50   ~ 0
T_SWIM
Text Label 1150 6050 2    50   ~ 0
T_SWIM_IN
Text Label 1150 5950 2    50   ~ 0
T_SWIM
Text Label 1150 5850 2    50   ~ 0
T_SWIM_IN
Text Label 1150 5750 2    50   ~ 0
T_NRST_SWIM
Text Label 1150 5650 2    50   ~ 0
T_SWIM_IN
Text Label 1150 5150 2    50   ~ 0
T_NRST_SWD
$Comp
L Device:C C?
U 1 1 5E1A6774
P 7800 1600
F 0 "C?" H 7915 1646 50  0000 L CNN
F 1 "100nF" H 7915 1555 50  0000 L CNN
F 2 "" H 7838 1450 50  0001 C CNN
F 3 "~" H 7800 1600 50  0001 C CNN
	1    7800 1600
	1    0    0    -1  
$EndComp
$Comp
L power:GNDREF #PWR?
U 1 1 5E1A725D
P 7800 1750
F 0 "#PWR?" H 7800 1500 50  0001 C CNN
F 1 "GNDREF" H 7805 1577 50  0000 C CNN
F 2 "" H 7800 1750 50  0001 C CNN
F 3 "" H 7800 1750 50  0001 C CNN
	1    7800 1750
	1    0    0    -1  
$EndComp
Wire Wire Line
	7500 1450 7800 1450
$Comp
L Device:R R?
U 1 1 5E1ACA14
P 10100 950
F 0 "R?" V 10000 950 50  0000 C CNN
F 1 "10K" V 10100 950 50  0000 C CNN
F 2 "" V 10030 950 50  0001 C CNN
F 3 "~" H 10100 950 50  0001 C CNN
	1    10100 950 
	0    -1   -1   0   
$EndComp
Text Label 9950 950  2    50   ~ 0
PC14
Text Notes 10350 1000 0    50   ~ 0
Don't solder\nresistor for PC14!
Text Label 1150 4850 2    50   ~ 0
PC14
Text Notes 600  3500 0    100  ~ 0
Microcontroller core
Text Notes 3050 5100 0    50   ~ 0
Original boards use as ST-link V2.1:\n- STM32F103CBT6 : Nucleo 32 boards [STM8 and STM32F]\n- STM32F103CBT6TR : Nucleo 64 boards with STM8\nOriginal boards use as ST-Link V2:\n- STM32F103C8T6 : F4Discovery\n\nClones use STM32F101****
Text Label 2750 6050 0    50   ~ 0
STLINK_LED
Wire Wire Line
	2800 5950 3250 5950
Wire Wire Line
	3250 5950 3250 6050
$Comp
L Device:C C?
U 1 1 5E1D64BC
P 3250 6200
F 0 "C?" H 3365 6246 50  0000 L CNN
F 1 "20pF" H 3365 6155 50  0000 L CNN
F 2 "" H 3288 6050 50  0001 C CNN
F 3 "~" H 3250 6200 50  0001 C CNN
	1    3250 6200
	1    0    0    -1  
$EndComp
$Comp
L power:GNDREF #PWR?
U 1 1 5E1D6D8E
P 3250 6350
F 0 "#PWR?" H 3250 6100 50  0001 C CNN
F 1 "GNDREF" H 3255 6177 50  0000 C CNN
F 2 "" H 3250 6350 50  0001 C CNN
F 3 "" H 3250 6350 50  0001 C CNN
	1    3250 6350
	1    0    0    -1  
$EndComp
Text GLabel 8650 800  0    50   Input ~ 0
T_Vref_SWDh
$Comp
L Device:R R?
U 1 1 5E1E8B0C
P 8700 1000
F 0 "R?" V 8600 1000 50  0000 C CNN
F 1 "4K7" V 8700 1000 50  0000 C CNN
F 2 "" V 8630 1000 50  0001 C CNN
F 3 "~" H 8700 1000 50  0001 C CNN
	1    8700 1000
	1    0    0    -1  
$EndComp
$Comp
L Diode:BAT60A D?
U 1 1 5E1E8FE6
P 8900 800
F 0 "D?" H 8900 584 50  0000 C CNN
F 1 "BAT60A" H 8900 675 50  0000 C CNN
F 2 "Diode_SMD:D_SOD-323" H 8900 625 50  0001 C CNN
F 3 "https://www.infineon.com/dgdl/Infineon-BAT60ASERIES-DS-v01_01-en.pdf?fileId=db3a304313d846880113def70c9304a9" H 8900 800 50  0001 C CNN
	1    8900 800 
	-1   0    0    1   
$EndComp
$Comp
L Device:R R?
U 1 1 5E1EA491
P 9200 800
F 0 "R?" V 9100 800 50  0000 C CNN
F 1 "100R" V 9200 800 50  0000 C CNN
F 2 "" V 9130 800 50  0001 C CNN
F 3 "~" H 9200 800 50  0001 C CNN
	1    9200 800 
	0    1    1    0   
$EndComp
Wire Wire Line
	8650 800  8700 800 
Wire Wire Line
	8700 850  8700 800 
Connection ~ 8700 800 
Wire Wire Line
	8700 800  8750 800 
Wire Wire Line
	9350 800  9400 800 
Text Label 9400 800  0    50   ~ 0
AIN
$Comp
L Connector_Generic:Conn_02x07_Odd_Even J?
U 1 1 5E20C835
P 10150 3150
F 0 "J?" H 10200 3667 50  0000 C CNN
F 1 "SWD" H 10200 3576 50  0000 C CNN
F 2 "" H 10150 3150 50  0001 C CNN
F 3 "~" H 10150 3150 50  0001 C CNN
	1    10150 3150
	1    0    0    -1  
$EndComp
NoConn ~ 9950 2850
NoConn ~ 10450 2850
Text GLabel 9950 2950 0    50   Input ~ 0
T_Vref_SWDh
Text GLabel 10450 2950 2    50   Output ~ 0
T_SWDIOh
Text GLabel 10450 3050 2    50   Output ~ 0
T_SWDCLKh
Text GLabel 10450 3150 2    50   Input ~ 0
T_SWOh
Text GLabel 10450 3350 2    50   Output ~ 0
T_NRST_SWDh
NoConn ~ 10450 3250
Text GLabel 10450 3450 2    50   Input ~ 0
T_VCP_TXh
Text GLabel 9950 3450 0    50   Output ~ 0
T_VCP_RXh
NoConn ~ 9950 3250
Wire Wire Line
	9950 3050 9900 3050
Wire Wire Line
	9900 3050 9900 3150
Wire Wire Line
	9900 3150 9950 3150
Wire Wire Line
	9950 3350 9900 3350
Wire Wire Line
	9900 3350 9900 3150
Connection ~ 9900 3150
Wire Wire Line
	9900 3050 9550 3050
Wire Wire Line
	9550 3050 9550 3100
Connection ~ 9900 3050
$Comp
L power:GNDREF #PWR?
U 1 1 5E22C818
P 9550 3100
F 0 "#PWR?" H 9550 2850 50  0001 C CNN
F 1 "GNDREF" H 9555 2927 50  0000 C CNN
F 2 "" H 9550 3100 50  0001 C CNN
F 3 "" H 9550 3100 50  0001 C CNN
	1    9550 3100
	1    0    0    -1  
$EndComp
Wire Wire Line
	8450 3150 7750 3150
Wire Wire Line
	8450 3200 8450 3150
Text GLabel 7750 3250 2    50   Output ~ 0
T_NRST_SWIMh
Text GLabel 7750 3050 2    50   Input ~ 0
T_SWIMh
$Comp
L power:GNDREF #PWR?
U 1 1 5E1EB31C
P 8450 3200
F 0 "#PWR?" H 8450 2950 50  0001 C CNN
F 1 "GNDREF" H 8455 3027 50  0000 C CNN
F 2 "" H 8450 3200 50  0001 C CNN
F 3 "" H 8450 3200 50  0001 C CNN
	1    8450 3200
	1    0    0    -1  
$EndComp
$Comp
L Connector_Generic:Conn_01x04 J?
U 1 1 5E17A3C3
P 7550 3150
F 0 "J?" H 7468 2725 50  0000 C CNN
F 1 "SWIM" H 7468 2816 50  0000 C CNN
F 2 "" H 7550 3150 50  0001 C CNN
F 3 "~" H 7550 3150 50  0001 C CNN
	1    7550 3150
	-1   0    0    1   
$EndComp
Wire Notes Line
	7000 4700 11200 4700
Text GLabel 8950 1700 2    50   Input ~ 0
T_Vref_SWDh
$Comp
L power:+3V3 #PWR?
U 1 1 5E20B84F
P 8400 1650
F 0 "#PWR?" H 8400 1500 50  0001 C CNN
F 1 "+3V3" H 8415 1823 50  0000 C CNN
F 2 "" H 8400 1650 50  0001 C CNN
F 3 "" H 8400 1650 50  0001 C CNN
	1    8400 1650
	1    0    0    -1  
$EndComp
Wire Wire Line
	8400 1700 8400 1650
$Comp
L Jumper:Jumper_2_Open JP?
U 1 1 5E211734
P 8750 1700
F 0 "JP?" H 8750 1935 50  0000 C CNN
F 1 "Jumper_2_Open" H 8750 1844 50  0000 C CNN
F 2 "" H 8750 1700 50  0001 C CNN
F 3 "~" H 8750 1700 50  0001 C CNN
	1    8750 1700
	1    0    0    -1  
$EndComp
Wire Wire Line
	8400 1700 8550 1700
Text Notes 8350 1950 0    50   ~ 0
Just in case there is a need\nto power target from ST-Link
Text Notes 7050 4550 0    150  Italic 30
Inner Wiring Of Interfaces 
Wire Notes Line
	7000 5700 11200 5700
Wire Notes Line
	7000 6500 11200 6500
Wire Notes Line
	11200 4700 11200 6500
Wire Notes Line
	7000 4700 7000 6500
Wire Notes Line
	8750 4700 8750 6500
Text Notes 7100 4650 0    50   ~ 0
Labels ended with "h" are conected to headers
Text Notes 7450 2600 0    100  ~ 0
ERNI SWIM
Text Notes 9500 2600 0    100  ~ 0
STDC-14 as SWD
Text Notes 9750 3700 0    50   ~ 0
Compatible with 10-pin\nCortex Debug Connector
Text GLabel 7750 2950 2    50   Input ~ 0
T_Vref_SWDh
Text Notes 2600 2050 0    50   ~ 0
MMBT9013 (SOT-23) is pinout compatible with:\n- MMBT2222\n- MMBT3904\n- BC847\n
Wire Wire Line
	6600 2800 6650 2800
Connection ~ 6600 2800
$Comp
L power:GNDREF #PWR?
U 1 1 5E15463C
P 8700 1150
F 0 "#PWR?" H 8700 900 50  0001 C CNN
F 1 "GNDREF" H 8705 977 50  0000 C CNN
F 2 "" H 8700 1150 50  0001 C CNN
F 3 "" H 8700 1150 50  0001 C CNN
	1    8700 1150
	1    0    0    -1  
$EndComp
Wire Wire Line
	10250 950  10300 950 
Wire Wire Line
	10300 950  10300 1000
Wire Wire Line
	10250 850  10300 850 
Wire Wire Line
	10300 850  10300 950 
Connection ~ 10300 950 
Wire Wire Line
	6650 1000 6550 1000
Connection ~ 6550 1000
Wire Wire Line
	6950 1000 7000 1000
Wire Wire Line
	7000 1000 7000 950 
Connection ~ 6600 2300
Wire Wire Line
	6950 2250 6950 2300
Wire Wire Line
	6950 2300 6900 2300
Wire Notes Line
	7200 550  7200 3150
Wire Notes Line
	7250 2000 11200 2000
Wire Notes Line
	9650 500  9650 2000
Text Notes 7350 2350 0    150  Italic 30
Target Programming Connectors
$Comp
L Regulator_Linear:AMS1117-3.3 U?
U 1 1 5E261E11
P 5450 6300
F 0 "U?" H 5450 6542 50  0000 C CNN
F 1 "AMS1117-3.3" H 5450 6451 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-223-3_TabPin2" H 5450 6500 50  0001 C CNN
F 3 "http://www.advanced-monolithic.com/pdf/ds1117.pdf" H 5550 6050 50  0001 C CNN
	1    5450 6300
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR?
U 1 1 5E2633CF
P 4500 6250
F 0 "#PWR?" H 4500 6100 50  0001 C CNN
F 1 "+5V" H 4515 6423 50  0000 C CNN
F 2 "" H 4500 6250 50  0001 C CNN
F 3 "" H 4500 6250 50  0001 C CNN
	1    4500 6250
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR?
U 1 1 5E2642AA
P 6650 6250
F 0 "#PWR?" H 6650 6100 50  0001 C CNN
F 1 "+3V3" H 6665 6423 50  0000 C CNN
F 2 "" H 6650 6250 50  0001 C CNN
F 3 "" H 6650 6250 50  0001 C CNN
	1    6650 6250
	1    0    0    -1  
$EndComp
$Comp
L Device:CP C?
U 1 1 5E26F813
P 5800 6500
F 0 "C?" H 5918 6546 50  0000 L CNN
F 1 "22uF" H 5918 6455 50  0000 L CNN
F 2 "" H 5838 6350 50  0001 C CNN
F 3 "~" H 5800 6500 50  0001 C CNN
	1    5800 6500
	1    0    0    -1  
$EndComp
$Comp
L Device:CP C?
U 1 1 5E270620
P 4500 6500
F 0 "C?" H 4618 6546 50  0000 L CNN
F 1 "22uF" H 4618 6455 50  0000 L CNN
F 2 "" H 4538 6350 50  0001 C CNN
F 3 "~" H 4500 6500 50  0001 C CNN
	1    4500 6500
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5E2710DA
P 6650 6500
F 0 "R?" V 6550 6500 50  0000 C CNN
F 1 "1K" V 6650 6500 50  0000 C CNN
F 2 "" V 6580 6500 50  0001 C CNN
F 3 "~" H 6650 6500 50  0001 C CNN
	1    6650 6500
	-1   0    0    1   
$EndComp
$Comp
L Device:C C?
U 1 1 5E271CB3
P 6200 6500
F 0 "C?" H 6315 6546 50  0000 L CNN
F 1 "100nF" H 6315 6455 50  0000 L CNN
F 2 "" H 6238 6350 50  0001 C CNN
F 3 "~" H 6200 6500 50  0001 C CNN
	1    6200 6500
	1    0    0    -1  
$EndComp
$Comp
L Diode:BAT60A D?
U 1 1 5E278C95
P 2100 1100
F 0 "D?" H 2100 884 50  0000 C CNN
F 1 "BAT60A" H 2100 975 50  0000 C CNN
F 2 "Diode_SMD:D_SOD-323" H 2100 925 50  0001 C CNN
F 3 "https://www.infineon.com/dgdl/Infineon-BAT60ASERIES-DS-v01_01-en.pdf?fileId=db3a304313d846880113def70c9304a9" H 2100 1100 50  0001 C CNN
	1    2100 1100
	-1   0    0    1   
$EndComp
$Comp
L Device:Polyfuse F?
U 1 1 5E279A8B
P 1800 1100
F 0 "F?" V 1575 1100 50  0000 C CNN
F 1 "1A" V 1666 1100 50  0000 C CNN
F 2 "" H 1850 900 50  0001 L CNN
F 3 "~" H 1800 1100 50  0001 C CNN
	1    1800 1100
	0    1    1    0   
$EndComp
$Comp
L Device:C C?
U 1 1 5E280507
P 4900 6500
F 0 "C?" H 5015 6546 50  0000 L CNN
F 1 "100nF" H 5015 6455 50  0000 L CNN
F 2 "" H 4938 6350 50  0001 C CNN
F 3 "~" H 4900 6500 50  0001 C CNN
	1    4900 6500
	1    0    0    -1  
$EndComp
Wire Wire Line
	6650 6300 6650 6350
Wire Wire Line
	6650 6300 6650 6250
Connection ~ 6650 6300
Wire Wire Line
	6200 6350 6200 6300
Connection ~ 6200 6300
Wire Wire Line
	6200 6300 6650 6300
Wire Wire Line
	5150 6300 4900 6300
Wire Wire Line
	4900 6300 4900 6350
Connection ~ 1650 1100
$Comp
L power:+5V #PWR?
U 1 1 5E2C5A62
P 2300 950
F 0 "#PWR?" H 2300 800 50  0001 C CNN
F 1 "+5V" H 2315 1123 50  0000 C CNN
F 2 "" H 2300 950 50  0001 C CNN
F 3 "" H 2300 950 50  0001 C CNN
	1    2300 950 
	1    0    0    -1  
$EndComp
Wire Wire Line
	2250 1100 2300 1100
Wire Wire Line
	2300 1100 2300 950 
Wire Wire Line
	4500 6250 4500 6300
Wire Wire Line
	4900 6300 4500 6300
Connection ~ 4900 6300
Connection ~ 4500 6300
Wire Wire Line
	4500 6300 4500 6350
Wire Wire Line
	5750 6300 5800 6300
Wire Wire Line
	5800 6350 5800 6300
Connection ~ 5800 6300
Wire Wire Line
	5800 6300 6200 6300
$Comp
L power:GNDREF #PWR?
U 1 1 5E2FDE54
P 4500 6650
F 0 "#PWR?" H 4500 6400 50  0001 C CNN
F 1 "GNDREF" H 4505 6477 50  0000 C CNN
F 2 "" H 4500 6650 50  0001 C CNN
F 3 "" H 4500 6650 50  0001 C CNN
	1    4500 6650
	1    0    0    -1  
$EndComp
$Comp
L power:GNDREF #PWR?
U 1 1 5E2FE2D2
P 4900 6650
F 0 "#PWR?" H 4900 6400 50  0001 C CNN
F 1 "GNDREF" H 4905 6477 50  0000 C CNN
F 2 "" H 4900 6650 50  0001 C CNN
F 3 "" H 4900 6650 50  0001 C CNN
	1    4900 6650
	1    0    0    -1  
$EndComp
$Comp
L power:GNDREF #PWR?
U 1 1 5E2FE8C8
P 5450 6650
F 0 "#PWR?" H 5450 6400 50  0001 C CNN
F 1 "GNDREF" H 5455 6477 50  0000 C CNN
F 2 "" H 5450 6650 50  0001 C CNN
F 3 "" H 5450 6650 50  0001 C CNN
	1    5450 6650
	1    0    0    -1  
$EndComp
$Comp
L power:GNDREF #PWR?
U 1 1 5E2FEBE8
P 5800 6650
F 0 "#PWR?" H 5800 6400 50  0001 C CNN
F 1 "GNDREF" H 5805 6477 50  0000 C CNN
F 2 "" H 5800 6650 50  0001 C CNN
F 3 "" H 5800 6650 50  0001 C CNN
	1    5800 6650
	1    0    0    -1  
$EndComp
$Comp
L power:GNDREF #PWR?
U 1 1 5E2FEEA8
P 6200 6650
F 0 "#PWR?" H 6200 6400 50  0001 C CNN
F 1 "GNDREF" H 6205 6477 50  0000 C CNN
F 2 "" H 6200 6650 50  0001 C CNN
F 3 "" H 6200 6650 50  0001 C CNN
	1    6200 6650
	1    0    0    -1  
$EndComp
$Comp
L power:GNDREF #PWR?
U 1 1 5E2FF157
P 6650 6950
F 0 "#PWR?" H 6650 6700 50  0001 C CNN
F 1 "GNDREF" H 6655 6777 50  0000 C CNN
F 2 "" H 6650 6950 50  0001 C CNN
F 3 "" H 6650 6950 50  0001 C CNN
	1    6650 6950
	1    0    0    -1  
$EndComp
Wire Wire Line
	5450 6650 5450 6600
Text Label 3900 1600 0    50   ~ 0
STLINK_USB_D-
Text Label 2600 1600 0    50   ~ 0
D-
Wire Wire Line
	2600 1600 2800 1600
Wire Wire Line
	3100 1600 3900 1600
$Comp
L Device:R R?
U 1 1 5E143B7C
P 2950 1600
F 0 "R?" V 3000 1750 50  0000 C CNN
F 1 "22R" V 2950 1600 50  0000 C CNN
F 2 "" V 2880 1600 50  0001 C CNN
F 3 "~" H 2950 1600 50  0001 C CNN
	1    2950 1600
	0    -1   -1   0   
$EndComp
$Comp
L power:GNDREF #PWR?
U 1 1 5E14DAB5
P 3850 1200
F 0 "#PWR?" H 3850 950 50  0001 C CNN
F 1 "GNDREF" H 3855 1027 50  0000 C CNN
F 2 "" H 3850 1200 50  0001 C CNN
F 3 "" H 3850 1200 50  0001 C CNN
	1    3850 1200
	1    0    0    -1  
$EndComp
Text Label 3900 1500 0    50   ~ 0
STLINK_USB_D+
Text Label 2600 1500 0    50   ~ 0
D+
Wire Wire Line
	3100 1500 3900 1500
$Comp
L Device:R R?
U 1 1 5E14419D
P 2950 1500
F 0 "R?" V 2900 1650 50  0000 C CNN
F 1 "22R" V 2950 1500 50  0000 C CNN
F 2 "" V 2880 1500 50  0001 C CNN
F 3 "~" H 2950 1500 50  0001 C CNN
	1    2950 1500
	0    -1   1    0   
$EndComp
Wire Wire Line
	2600 1500 2750 1500
Wire Wire Line
	2800 1400 2750 1400
Wire Wire Line
	2750 1400 2750 1500
Connection ~ 2750 1500
Wire Wire Line
	2750 1500 2800 1500
Wire Wire Line
	3400 1200 3450 1200
Wire Wire Line
	3500 1100 3450 1100
Wire Wire Line
	3450 1100 3450 1200
Connection ~ 3450 1200
Wire Wire Line
	3450 1200 3500 1200
Wire Wire Line
	3500 1000 3450 1000
Wire Wire Line
	3450 1000 3450 1100
Connection ~ 3450 1100
Wire Wire Line
	3850 1200 3800 1200
Wire Wire Line
	3100 1000 3100 950 
$Comp
L Device:LED D?
U 1 1 5E3B3221
P 5550 1000
F 0 "D?" H 5543 745 50  0000 C CNN
F 1 "Green" H 5543 836 50  0000 C CNN
F 2 "" H 5550 1000 50  0001 C CNN
F 3 "~" H 5550 1000 50  0001 C CNN
	1    5550 1000
	1    0    0    1   
$EndComp
Connection ~ 5050 1000
Text Label 4600 1000 0    50   ~ 0
STLINK_LED
Wire Wire Line
	4600 1000 5050 1000
$EndSCHEMATC
