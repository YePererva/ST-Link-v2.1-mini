EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 2
Title "ST-Link v2.1 Mini Hybrid"
Date ""
Rev ""
Comp ""
Comment1 "For SWD/SWIM/VCP isolation consided ISO7231 or ISO764xFM"
Comment2 "For USB isolation consider Si8606AC-B-IS1 or ADuM5000/5001 or ADuM1200/1201"
Comment3 "For ESD protection of SWD/SWIM/VCP consider ESDA6V1BC6, of TXS0108E for level shifting"
Comment4 "For ESD protection of USB consider NUP2201 or USBLC6-2P6"
$EndDescr
Text Notes 650  700  0    100  Italic 20
USB Type C as USB 2.0 + VCP and protection
$Comp
L power:VBUS #PWR05
U 1 1 5E13DC98
P 2250 1050
F 0 "#PWR05" H 2250 900 50  0001 C CNN
F 1 "VBUS" H 2265 1223 50  0000 C CNN
F 2 "" H 2250 1050 50  0001 C CNN
F 3 "" H 2250 1050 50  0001 C CNN
	1    2250 1050
	1    0    0    -1  
$EndComp
$Comp
L Device:R R3
U 1 1 5E13FFFA
P 1700 1400
F 0 "R3" V 1600 1400 50  0000 C CNN
F 1 "5K1" V 1700 1400 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 1630 1400 50  0001 C CNN
F 3 "~" H 1700 1400 50  0001 C CNN
	1    1700 1400
	0    -1   -1   0   
$EndComp
Wire Wire Line
	1900 1300 1900 1400
Wire Wire Line
	1900 1400 1850 1400
Wire Wire Line
	1900 1400 1900 1450
Connection ~ 1900 1400
$Comp
L Device:R R2
U 1 1 5E140D7A
P 1700 1300
F 0 "R2" V 1800 1300 50  0000 C CNN
F 1 "5K1" V 1700 1300 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 1630 1300 50  0001 C CNN
F 3 "~" H 1700 1300 50  0001 C CNN
	1    1700 1300
	0    -1   -1   0   
$EndComp
NoConn ~ 1550 2200
NoConn ~ 1550 2300
Text Notes 1050 2600 0    50   ~ 0
If used connector with ID pin: \npull it down with 100K resistor
Text Label 1600 1700 0    50   ~ 0
D-
Text Label 1600 1800 0    50   ~ 0
D+
Wire Notes Line
	4550 550  4550 3150
Text Notes 3700 4650 0    100  Italic 20
Status LED
$Comp
L Device:LED D3
U 1 1 5E157862
P 7000 1550
F 0 "D3" H 6993 1766 50  0000 C CNN
F 1 "Power" H 6993 1675 50  0000 C CNN
F 2 "LED_SMD:LED_0603_1608Metric_Castellated" H 7000 1550 50  0001 C CNN
F 3 "~" H 7000 1550 50  0001 C CNN
	1    7000 1550
	0    -1   -1   0   
$EndComp
Text Notes 7350 700  0    100  Italic 20
Target Voltage Detection or power it from STLink
Text Notes 8450 5200 2    100  ~ 0
Self-programming
Text Notes 7300 5350 2    50   ~ 0
SWD:
Text Notes 7450 5850 2    50   ~ 0
UART:
Text GLabel 7800 6050 2    50   Input ~ 0
Self_RX(h)
Text GLabel 7800 5950 2    50   Input ~ 0
Self_TX(h)
$Comp
L Device:C C16
U 1 1 5E1A6774
P 8450 1600
F 0 "C16" H 8565 1646 50  0000 L CNN
F 1 "100nF" H 8565 1555 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 8488 1450 50  0001 C CNN
F 3 "~" H 8450 1600 50  0001 C CNN
	1    8450 1600
	1    0    0    1   
$EndComp
Text Notes 550  3750 0    100  Italic 20
Microcontroller core
$Comp
L Device:R R16
U 1 1 5E1E8B0C
P 8200 1600
F 0 "R16" V 8100 1600 50  0000 C CNN
F 1 "4K7" V 8200 1600 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 8130 1600 50  0001 C CNN
F 3 "~" H 8200 1600 50  0001 C CNN
	1    8200 1600
	1    0    0    -1  
$EndComp
$Comp
L Diode:BAT60A D4
U 1 1 5E1E8FE6
P 8400 1000
F 0 "D4" H 8400 784 50  0000 C CNN
F 1 "BAT60A" H 8400 875 50  0000 C CNN
F 2 "Diode_SMD:D_SOD-323" H 8400 825 50  0001 C CNN
F 3 "https://www.infineon.com/dgdl/Infineon-BAT60ASERIES-DS-v01_01-en.pdf?fileId=db3a304313d846880113def70c9304a9" H 8400 1000 50  0001 C CNN
	1    8400 1000
	-1   0    0    1   
$EndComp
$Comp
L Device:R R17
U 1 1 5E1EA491
P 8600 1200
F 0 "R17" V 8500 1200 50  0000 C CNN
F 1 "100R" V 8600 1200 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 8530 1200 50  0001 C CNN
F 3 "~" H 8600 1200 50  0001 C CNN
	1    8600 1200
	-1   0    0    1   
$EndComp
Wire Wire Line
	8150 1400 8200 1400
Wire Wire Line
	8200 1450 8200 1400
Connection ~ 8200 1400
Text GLabel 9350 3550 2    50   Output ~ 0
T_SWO(h)
Text GLabel 9350 3350 2    50   Output ~ 0
T_SWDCLK(h)
Text GLabel 9350 3150 2    50   Output ~ 0
T_NRST_SWD(h)
Text GLabel 9350 4150 2    50   Input ~ 0
T_VCP_TX(h)
Text GLabel 9350 4050 2    50   Output ~ 0
T_VCP_RX(h)
Text Notes 6950 4900 0    150  Italic 30
Inner Wiring Of Interfaces 
Text Notes 7000 5000 0    50   ~ 0
Labels ended with "(h)" are conected to headers
Text Notes 7500 3900 0    50   ~ 0
Compatible with 10-pin\nCortex Debug Connector
Text Notes 2350 3200 0    50   ~ 0
MMBT9013 (SOT-23) is pinout compatible with:\n- MMBT2222 (STM8 Nucleo32)\n- MMBT3904 (Maple Mini, marking 1AM)\n- BC847\n
Wire Notes Line
	7250 550  7250 3150
$Comp
L Regulator_Linear:AMS1117-3.3 U2
U 1 1 5E261E11
P 5800 1050
F 0 "U2" H 5800 1292 50  0000 C CNN
F 1 "AMS1117-3.3" H 5800 1201 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-223-3_TabPin2" H 5800 1250 50  0001 C CNN
F 3 "http://www.advanced-monolithic.com/pdf/ds1117.pdf" H 5900 800 50  0001 C CNN
	1    5800 1050
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR035
U 1 1 5E2642AA
P 7000 1000
F 0 "#PWR035" H 7000 850 50  0001 C CNN
F 1 "+3V3" H 7015 1173 50  0000 C CNN
F 2 "" H 7000 1000 50  0001 C CNN
F 3 "" H 7000 1000 50  0001 C CNN
	1    7000 1000
	1    0    0    -1  
$EndComp
$Comp
L Device:CP C11
U 1 1 5E26F813
P 6150 1250
F 0 "C11" H 6268 1296 50  0000 L CNN
F 1 "22uF" H 6268 1205 50  0000 L CNN
F 2 "Capacitor_Tantalum_SMD:CP_EIA-7343-30_AVX-N" H 6188 1100 50  0001 C CNN
F 3 "~" H 6150 1250 50  0001 C CNN
	1    6150 1250
	1    0    0    -1  
$EndComp
$Comp
L Device:CP C8
U 1 1 5E270620
P 4850 1250
F 0 "C8" H 4968 1296 50  0000 L CNN
F 1 "22uF" H 4968 1205 50  0000 L CNN
F 2 "Capacitor_Tantalum_SMD:CP_EIA-7343-30_AVX-N" H 4888 1100 50  0001 C CNN
F 3 "~" H 4850 1250 50  0001 C CNN
	1    4850 1250
	1    0    0    -1  
$EndComp
$Comp
L Device:R R15
U 1 1 5E2710DA
P 7000 1250
F 0 "R15" V 6900 1250 50  0000 C CNN
F 1 "1K" V 7000 1250 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 6930 1250 50  0001 C CNN
F 3 "~" H 7000 1250 50  0001 C CNN
	1    7000 1250
	-1   0    0    1   
$EndComp
$Comp
L Device:C C14
U 1 1 5E271CB3
P 6550 1250
F 0 "C14" H 6665 1296 50  0000 L CNN
F 1 "100nF" H 6665 1205 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 6588 1100 50  0001 C CNN
F 3 "~" H 6550 1250 50  0001 C CNN
	1    6550 1250
	1    0    0    -1  
$EndComp
$Comp
L Diode:BAT60A D1
U 1 1 5E278C95
P 2000 1100
F 0 "D1" H 2000 884 50  0000 C CNN
F 1 "BAT60A" H 2000 975 50  0000 C CNN
F 2 "Diode_SMD:D_SOD-323" H 2000 925 50  0001 C CNN
F 3 "https://www.infineon.com/dgdl/Infineon-BAT60ASERIES-DS-v01_01-en.pdf?fileId=db3a304313d846880113def70c9304a9" H 2000 1100 50  0001 C CNN
	1    2000 1100
	-1   0    0    1   
$EndComp
$Comp
L Device:Polyfuse F1
U 1 1 5E279A8B
P 1700 1100
F 0 "F1" V 1475 1100 50  0000 C CNN
F 1 "1A" V 1566 1100 50  0000 C CNN
F 2 "Resistor_SMD:R_1206_3216Metric" H 1750 900 50  0001 L CNN
F 3 "~" H 1700 1100 50  0001 C CNN
	1    1700 1100
	0    1    1    0   
$EndComp
$Comp
L Device:C C9
U 1 1 5E280507
P 5250 1250
F 0 "C9" H 5365 1296 50  0000 L CNN
F 1 "100nF" H 5365 1205 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 5288 1100 50  0001 C CNN
F 3 "~" H 5250 1250 50  0001 C CNN
	1    5250 1250
	1    0    0    -1  
$EndComp
Wire Wire Line
	7000 1050 7000 1100
Wire Wire Line
	7000 1050 7000 1000
Connection ~ 7000 1050
Wire Wire Line
	6550 1100 6550 1050
Connection ~ 6550 1050
Wire Wire Line
	6550 1050 7000 1050
Wire Wire Line
	5250 1050 5250 1100
Wire Wire Line
	4850 1000 4850 1050
Wire Wire Line
	5250 1050 4850 1050
Connection ~ 4850 1050
Wire Wire Line
	4850 1050 4850 1100
Wire Wire Line
	6100 1050 6150 1050
Wire Wire Line
	6150 1100 6150 1050
Connection ~ 6150 1050
Wire Wire Line
	6150 1050 6550 1050
Wire Wire Line
	5800 1400 5800 1350
Text GLabel 7800 6150 2    50   Input ~ 0
BOOT_0(h)
Text Notes 3750 5400 0    50   ~ 0
Top LED : Green\nBottom : Red\nPackage : 3528 (PLCC-4)\nExample : LSG T676
Text Notes 2350 3550 0    50   ~ 0
STLINK_USB_D(+) and STLINK_USB_D(-):\nshould be a differential pair approx. 90 Ohm\nLength diference of those traces \nmust be  <1.1 mm
Text GLabel 9350 3450 2    50   Output ~ 0
T_SWDIO(h)
Text GLabel 7800 5650 2    50   Input ~ 0
Self_SWDIO(h)
Text GLabel 7800 5450 2    50   Input ~ 0
Self_NRST(h)
Text GLabel 7800 5550 2    50   Input ~ 0
Self_SWDCLK(h)
Text GLabel 7800 5750 2    50   Input ~ 0
Self_SWO(h)
Wire Wire Line
	7750 5750 7800 5750
Wire Wire Line
	7750 5650 7800 5650
Wire Wire Line
	7750 6150 7800 6150
Wire Wire Line
	7750 6050 7800 6050
Wire Wire Line
	7750 5950 7800 5950
$Comp
L Device:C C1
U 1 1 5E97BB26
P 650 3050
F 0 "C1" H 765 3096 50  0000 L CNN
F 1 "100nF" H 765 3005 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 688 2900 50  0001 C CNN
F 3 "~" H 650 3050 50  0001 C CNN
	1    650  3050
	1    0    0    -1  
$EndComp
$Comp
L Device:R R1
U 1 1 5E97C96B
P 1100 3050
F 0 "R1" V 1000 3050 50  0000 C CNN
F 1 "1M" V 1100 3050 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 1030 3050 50  0001 C CNN
F 3 "~" H 1100 3050 50  0001 C CNN
	1    1100 3050
	-1   0    0    1   
$EndComp
$Comp
L power:GNDD #PWR01
U 1 1 5EA1649B
P 650 3200
F 0 "#PWR01" H 650 2950 50  0001 C CNN
F 1 "GNDD" H 654 3045 50  0000 C CNN
F 2 "" H 650 3200 50  0001 C CNN
F 3 "" H 650 3200 50  0001 C CNN
	1    650  3200
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR02
U 1 1 5EA16FC5
P 950 2600
F 0 "#PWR02" H 950 2350 50  0001 C CNN
F 1 "GNDD" H 954 2445 50  0000 C CNN
F 2 "" H 950 2600 50  0001 C CNN
F 3 "" H 950 2600 50  0001 C CNN
	1    950  2600
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR07
U 1 1 5EA175AD
P 1900 1450
F 0 "#PWR07" H 1900 1200 50  0001 C CNN
F 1 "GNDD" H 1904 1295 50  0000 C CNN
F 2 "" H 1900 1450 50  0001 C CNN
F 3 "" H 1900 1450 50  0001 C CNN
	1    1900 1450
	1    0    0    -1  
$EndComp
Wire Wire Line
	1850 1300 1900 1300
$Comp
L power:GNDD #PWR040
U 1 1 5E97D0F3
P 8450 1750
F 0 "#PWR040" H 8450 1500 50  0001 C CNN
F 1 "GNDD" H 8454 1595 50  0000 C CNN
F 2 "" H 8450 1750 50  0001 C CNN
F 3 "" H 8450 1750 50  0001 C CNN
	1    8450 1750
	-1   0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR039
U 1 1 5E97D9F0
P 8200 1750
F 0 "#PWR039" H 8200 1500 50  0001 C CNN
F 1 "GNDD" H 8204 1595 50  0000 C CNN
F 2 "" H 8200 1750 50  0001 C CNN
F 3 "" H 8200 1750 50  0001 C CNN
	1    8200 1750
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR047
U 1 1 5E97F8B9
P 8850 4400
F 0 "#PWR047" H 8850 4150 50  0001 C CNN
F 1 "GNDD" H 8854 4245 50  0000 C CNN
F 2 "" H 8850 4400 50  0001 C CNN
F 3 "" H 8850 4400 50  0001 C CNN
	1    8850 4400
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR019
U 1 1 5E97FE88
P 4850 1400
F 0 "#PWR019" H 4850 1150 50  0001 C CNN
F 1 "GNDD" H 4854 1245 50  0000 C CNN
F 2 "" H 4850 1400 50  0001 C CNN
F 3 "" H 4850 1400 50  0001 C CNN
	1    4850 1400
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR020
U 1 1 5E980599
P 5250 1400
F 0 "#PWR020" H 5250 1150 50  0001 C CNN
F 1 "GNDD" H 5254 1245 50  0000 C CNN
F 2 "" H 5250 1400 50  0001 C CNN
F 3 "" H 5250 1400 50  0001 C CNN
	1    5250 1400
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR022
U 1 1 5E980880
P 5800 1400
F 0 "#PWR022" H 5800 1150 50  0001 C CNN
F 1 "GNDD" H 5804 1245 50  0000 C CNN
F 2 "" H 5800 1400 50  0001 C CNN
F 3 "" H 5800 1400 50  0001 C CNN
	1    5800 1400
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR024
U 1 1 5E980BC3
P 6150 1400
F 0 "#PWR024" H 6150 1150 50  0001 C CNN
F 1 "GNDD" H 6154 1245 50  0000 C CNN
F 2 "" H 6150 1400 50  0001 C CNN
F 3 "" H 6150 1400 50  0001 C CNN
	1    6150 1400
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR030
U 1 1 5E980E20
P 6550 1400
F 0 "#PWR030" H 6550 1150 50  0001 C CNN
F 1 "GNDD" H 6554 1245 50  0000 C CNN
F 2 "" H 6550 1400 50  0001 C CNN
F 3 "" H 6550 1400 50  0001 C CNN
	1    6550 1400
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR036
U 1 1 5E98113F
P 7000 1700
F 0 "#PWR036" H 7000 1450 50  0001 C CNN
F 1 "GNDD" H 7004 1545 50  0000 C CNN
F 2 "" H 7000 1700 50  0001 C CNN
F 3 "" H 7000 1700 50  0001 C CNN
	1    7000 1700
	1    0    0    -1  
$EndComp
Text Notes 7000 6400 0    50   ~ 0
To flash programmer with UART:\nshorten BOOT0 to +3.3V and reboot
Text Notes 2000 1400 0    50   ~ 0
or SS14\nor PMEG2010\nor MBR130
Text Notes 550  4350 0    50   ~ 0
Original boards use as ST-link V2.1:\n- STM32F103CBT6 : Nucleo 32 boards [STM8 and STM32F]\n- STM32F103CBT6TR : Nucleo 64 boards with STM8\nOriginal boards use as ST-Link V2:\n- STM32F103C8T6 : F4Discovery\nSTLink clones use STM32F101****\nSome clones use CKS32F103C8xx
Text Notes 8150 2800 0    50   ~ 0
STDC-14: SAMTEC FTSH-107-01-L-DV-K-A
Wire Wire Line
	10500 6450 10300 6450
Text Notes 8550 5200 0    100  ~ 0
Target Programming
Wire Wire Line
	7750 5550 7800 5550
Wire Wire Line
	7750 5450 7800 5450
Wire Notes Line
	8500 5100 8500 6450
Wire Notes Line
	6950 6450 6950 5050
Wire Notes Line
	6950 5050 11200 5050
Text GLabel 8700 4400 0    50   Output ~ 0
GND_detect(h)
Text GLabel 9250 4350 2    50   Output ~ 0
GND_detect(h)
$Comp
L power:GNDD #PWR048
U 1 1 5E9AED9E
P 9100 4400
F 0 "#PWR048" H 9100 4150 50  0001 C CNN
F 1 "GNDD" H 9104 4245 50  0000 C CNN
F 2 "" H 9100 4400 50  0001 C CNN
F 3 "" H 9100 4400 50  0001 C CNN
	1    9100 4400
	-1   0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR041
U 1 1 5E97E7C6
P 11050 3350
F 0 "#PWR041" H 11050 3100 50  0001 C CNN
F 1 "GNDD" H 11054 3195 50  0000 C CNN
F 2 "" H 11050 3350 50  0001 C CNN
F 3 "" H 11050 3350 50  0001 C CNN
	1    11050 3350
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR042
U 1 1 5E97E441
P 11050 4200
F 0 "#PWR042" H 11050 3950 50  0001 C CNN
F 1 "GNDD" H 11054 4045 50  0000 C CNN
F 2 "" H 11050 4200 50  0001 C CNN
F 3 "" H 11050 4200 50  0001 C CNN
	1    11050 4200
	1    0    0    -1  
$EndComp
Wire Wire Line
	11050 4150 11050 4200
Wire Wire Line
	10300 4150 11050 4150
Wire Wire Line
	11050 3300 11050 3350
Wire Wire Line
	10300 3300 11050 3300
Text GLabel 10300 4350 2    50   Input ~ 0
T_VCP_TX(h)
Text GLabel 10300 4450 2    50   Output ~ 0
T_VCP_RX(h)
Text GLabel 10300 3500 2    50   Output ~ 0
T_NRST_SWD(h)
Text GLabel 10300 3200 2    50   Output ~ 0
T_SWDCLK(h)
Text GLabel 10300 3400 2    50   Output ~ 0
T_SWDIO(h)
Text GLabel 10300 3950 2    50   Input ~ 0
T_Vref
Text GLabel 10300 4250 2    50   Output ~ 0
T_NRST_SWIM(h)
Text GLabel 10300 4050 2    50   Input ~ 0
T_SWIM(h)
Text Notes 8000 2700 0    100  Italic 20
Target Programming Connectors
Text GLabel 10300 3600 2    50   Input ~ 0
T_SWO(h)
Text Notes 8250 1200 0    50   ~ 0
or:\n1N5817
Text Notes 7600 2050 0    50   ~ 0
Tref PullDown can be 10K
Text Label 3800 2350 0    50   ~ 0
D+
Text Label 2800 2350 2    50   ~ 0
D-
$Comp
L Device:R R4
U 1 1 5E14689D
P 3350 1550
F 0 "R4" V 3450 1550 50  0000 C CNN
F 1 "1K5" V 3350 1550 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 3280 1550 50  0001 C CNN
F 3 "~" H 3350 1550 50  0001 C CNN
	1    3350 1550
	0    1    -1   0   
$EndComp
$Comp
L Transistor_BJT:MMBT3904 Q1
U 1 1 5E144756
P 3250 1200
F 0 "Q1" H 3441 1246 50  0000 L CNN
F 1 "MMBT9013" H 3441 1155 50  0000 L CNN
F 2 "Package_TO_SOT_SMD:SOT-23" H 3450 1125 50  0001 L CIN
F 3 "https://www.fairchildsemi.com/datasheets/2N/2N3904.pdf" H 3250 1200 50  0001 L CNN
	1    3250 1200
	-1   0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR014
U 1 1 5E97CB86
P 3150 950
F 0 "#PWR014" H 3150 800 50  0001 C CNN
F 1 "+3V3" H 3165 1123 50  0000 C CNN
F 2 "" H 3150 950 50  0001 C CNN
F 3 "" H 3150 950 50  0001 C CNN
	1    3150 950 
	1    0    0    -1  
$EndComp
Wire Wire Line
	3150 1000 3150 950 
Connection ~ 3450 1200
Connection ~ 3450 1100
Wire Wire Line
	3450 1000 3450 1100
Wire Wire Line
	3450 1100 3450 1200
$Comp
L power:GNDD #PWR017
U 1 1 5E987C5A
P 3950 1200
F 0 "#PWR017" H 3950 950 50  0001 C CNN
F 1 "GNDD" H 3954 1045 50  0000 C CNN
F 2 "" H 3950 1200 50  0001 C CNN
F 3 "" H 3950 1200 50  0001 C CNN
	1    3950 1200
	1    0    0    -1  
$EndComp
Wire Wire Line
	3950 1000 3950 950 
Wire Wire Line
	3900 1000 3950 1000
Wire Wire Line
	3900 1100 3950 1100
Wire Wire Line
	3900 1200 3950 1200
Wire Wire Line
	3450 1200 3600 1200
Wire Wire Line
	3450 1100 3600 1100
Wire Wire Line
	3450 1000 3600 1000
$Comp
L Device:R R8
U 1 1 5E1475F2
P 3750 1100
F 0 "R8" V 3700 900 50  0000 C CNN
F 1 "100R" V 3750 1100 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 3680 1100 50  0001 C CNN
F 3 "~" H 3750 1100 50  0001 C CNN
	1    3750 1100
	0    1    1    0   
$EndComp
$Comp
L Device:R R9
U 1 1 5E147F4B
P 3750 1200
F 0 "R9" V 3700 1000 50  0000 C CNN
F 1 "36K" V 3750 1200 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 3680 1200 50  0001 C CNN
F 3 "~" H 3750 1200 50  0001 C CNN
	1    3750 1200
	0    1    1    0   
$EndComp
$Comp
L Device:R R7
U 1 1 5E147AAD
P 3750 1000
F 0 "R7" V 3700 800 50  0000 C CNN
F 1 "10K" V 3750 1000 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 3680 1000 50  0001 C CNN
F 3 "~" H 3750 1000 50  0001 C CNN
	1    3750 1000
	0    1    1    0   
$EndComp
Wire Wire Line
	9250 4350 9100 4350
Wire Wire Line
	9100 4350 9100 4400
Wire Wire Line
	5500 1050 5250 1050
Connection ~ 5250 1050
$Comp
L Device:R R25
U 1 1 5E1611CA
P 10150 6450
F 0 "R25" V 10200 6250 50  0000 C CNN
F 1 "47R" V 10150 6450 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 10080 6450 50  0001 C CNN
F 3 "~" H 10150 6450 50  0001 C CNN
	1    10150 6450
	0    -1   -1   0   
$EndComp
$Comp
L Device:R R22
U 1 1 5E2426E2
P 3850 7500
F 0 "R22" V 3750 7500 50  0000 C CNN
F 1 "100R" V 3850 7500 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 3780 7500 50  0001 C CNN
F 3 "~" H 3850 7500 50  0001 C CNN
	1    3850 7500
	0    -1   1    0   
$EndComp
$Comp
L Device:R R21
U 1 1 5E1605A4
P 3850 7300
F 0 "R21" V 3950 7300 50  0000 C CNN
F 1 "220R" V 3850 7300 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 3780 7300 50  0001 C CNN
F 3 "~" H 3850 7300 50  0001 C CNN
	1    3850 7300
	0    -1   -1   0   
$EndComp
Wire Wire Line
	650  2600 650  2850
Wire Wire Line
	1100 2900 1100 2850
Wire Wire Line
	1100 2850 650  2850
Connection ~ 650  2850
Wire Wire Line
	650  2850 650  2900
$Comp
L power:GNDD #PWR03
U 1 1 5EA32234
P 1100 3200
F 0 "#PWR03" H 1100 2950 50  0001 C CNN
F 1 "GNDD" H 1104 3045 50  0000 C CNN
F 2 "" H 1100 3200 50  0001 C CNN
F 3 "" H 1100 3200 50  0001 C CNN
	1    1100 3200
	1    0    0    -1  
$EndComp
Text Notes 4800 700  0    100  Italic 20
Power Regulator
Wire Wire Line
	7650 1300 7600 1300
Wire Wire Line
	7600 1300 7600 1250
Wire Wire Line
	7650 1400 7400 1400
Wire Wire Line
	7400 1400 7400 1250
$Comp
L power:+3V3 #PWR038
U 1 1 5EA68D52
P 7600 1250
F 0 "#PWR038" H 7600 1100 50  0001 C CNN
F 1 "+3V3" H 7615 1423 50  0000 C CNN
F 2 "" H 7600 1250 50  0001 C CNN
F 3 "" H 7600 1250 50  0001 C CNN
	1    7600 1250
	1    0    0    -1  
$EndComp
$Comp
L Connector_Generic:Conn_02x02_Odd_Even J3
U 1 1 5E9AB85E
P 7850 1300
F 0 "J3" H 7900 1517 50  0000 C CNN
F 1 "Power Target" H 7900 1426 50  0000 C CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_2x02_P2.54mm_Vertical" H 7850 1300 50  0001 C CNN
F 3 "~" H 7850 1300 50  0001 C CNN
	1    7850 1300
	1    0    0    -1  
$EndComp
Wire Wire Line
	8150 1300 8200 1300
Wire Wire Line
	8200 1300 8200 1400
Wire Wire Line
	8150 1000 8200 1000
Wire Wire Line
	8200 1000 8200 1300
Connection ~ 8200 1000
Wire Wire Line
	8200 1000 8250 1000
Connection ~ 8200 1300
Wire Wire Line
	8550 1000 8600 1000
Wire Wire Line
	8600 1000 8600 1050
Wire Notes Line
	7300 2450 11150 2450
Wire Wire Line
	8600 1350 8600 1400
Wire Wire Line
	8850 1350 8850 1400
$Comp
L power:GNDD #PWR044
U 1 1 5E97D6F3
P 8850 1750
F 0 "#PWR044" H 8850 1500 50  0001 C CNN
F 1 "GNDD" H 8854 1595 50  0000 C CNN
F 2 "" H 8850 1750 50  0001 C CNN
F 3 "" H 8850 1750 50  0001 C CNN
	1    8850 1750
	-1   0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR043
U 1 1 5E181F63
P 8850 1050
F 0 "#PWR043" H 8850 900 50  0001 C CNN
F 1 "+3V3" H 8865 1223 50  0000 C CNN
F 2 "" H 8850 1050 50  0001 C CNN
F 3 "" H 8850 1050 50  0001 C CNN
	1    8850 1050
	-1   0    0    -1  
$EndComp
$Comp
L Device:R R19
U 1 1 5E181C44
P 8850 1600
F 0 "R19" V 8750 1600 50  0000 C CNN
F 1 "4K7" V 8850 1600 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 8780 1600 50  0001 C CNN
F 3 "~" H 8850 1600 50  0001 C CNN
	1    8850 1600
	-1   0    0    -1  
$EndComp
$Comp
L Device:R R18
U 1 1 5E1818FA
P 8850 1200
F 0 "R18" V 8750 1200 50  0000 C CNN
F 1 "4K7" V 8850 1200 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 8780 1200 50  0001 C CNN
F 3 "~" H 8850 1200 50  0001 C CNN
	1    8850 1200
	-1   0    0    -1  
$EndComp
Connection ~ 8850 1400
Wire Wire Line
	8850 1400 8850 1450
Wire Wire Line
	8600 1400 8850 1400
Wire Wire Line
	8600 1400 8450 1400
Wire Wire Line
	8450 1400 8450 1450
Connection ~ 8600 1400
Connection ~ 5000 5700
Wire Wire Line
	4950 5700 5000 5700
Wire Wire Line
	5050 5700 5000 5700
Wire Wire Line
	5000 5800 5000 5700
Wire Wire Line
	5400 5650 5400 5700
Wire Wire Line
	5400 5700 5350 5700
$Comp
L power:GNDD #PWR027
U 1 1 5E98867B
P 5000 6100
F 0 "#PWR027" H 5000 5850 50  0001 C CNN
F 1 "GNDD" H 5004 5945 50  0000 C CNN
F 2 "" H 5000 6100 50  0001 C CNN
F 3 "" H 5000 6100 50  0001 C CNN
	1    5000 6100
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR032
U 1 1 5E16CE06
P 5400 5650
F 0 "#PWR032" H 5400 5500 50  0001 C CNN
F 1 "+3V3" H 5415 5823 50  0000 C CNN
F 2 "" H 5400 5650 50  0001 C CNN
F 3 "" H 5400 5650 50  0001 C CNN
	1    5400 5650
	1    0    0    -1  
$EndComp
$Comp
L Device:R R12
U 1 1 5E16C5AC
P 5200 5700
F 0 "R12" V 5100 5700 50  0000 C CNN
F 1 "100K" V 5200 5700 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 5130 5700 50  0001 C CNN
F 3 "~" H 5200 5700 50  0001 C CNN
	1    5200 5700
	0    -1   -1   0   
$EndComp
$Comp
L Device:C C12
U 1 1 5E16BE82
P 5000 5950
F 0 "C12" H 5115 5996 50  0000 L CNN
F 1 "100nF" H 5115 5905 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 5038 5800 50  0001 C CNN
F 3 "~" H 5000 5950 50  0001 C CNN
	1    5000 5950
	-1   0    0    1   
$EndComp
Text Notes 4450 5600 0    100  Italic 20
Reset
$Comp
L Device:R R10
U 1 1 5E157BB6
P 4800 4950
F 0 "R10" V 4700 4950 50  0000 C CNN
F 1 "330R" V 4800 4950 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 4730 4950 50  0001 C CNN
F 3 "~" H 4800 4950 50  0001 C CNN
	1    4800 4950
	0    1    1    0   
$EndComp
$Comp
L Device:R R11
U 1 1 5E1582BC
P 5700 4750
F 0 "R11" V 5600 4750 50  0000 C CNN
F 1 "330R" V 5700 4750 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 5630 4750 50  0001 C CNN
F 3 "~" H 5700 4750 50  0001 C CNN
	1    5700 4750
	0    -1   -1   0   
$EndComp
$Comp
L Device:LED_Dual_CACA D2
U 1 1 5E1DAD1B
P 5250 4850
F 0 "D2" H 5250 4503 50  0000 C CNN
F 1 "LED_Dual_CACA" H 5250 4594 50  0000 C CNN
F 2 "LED_SMD:LED_Avago_PLCC4_3.2x2.8mm_CW" H 5280 4850 50  0001 C CNN
F 3 "~" H 5280 4850 50  0001 C CNN
	1    5250 4850
	-1   0    0    1   
$EndComp
$Comp
L power:GNDD #PWR029
U 1 1 5ED115B2
P 5600 5000
F 0 "#PWR029" H 5600 4750 50  0001 C CNN
F 1 "GNDD" H 5604 4845 50  0000 C CNN
F 2 "" H 5600 5000 50  0001 C CNN
F 3 "" H 5600 5000 50  0001 C CNN
	1    5600 5000
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR021
U 1 1 5ED11C16
P 4800 4700
F 0 "#PWR021" H 4800 4550 50  0001 C CNN
F 1 "+3V3" H 4815 4873 50  0000 C CNN
F 2 "" H 4800 4700 50  0001 C CNN
F 3 "" H 4800 4700 50  0001 C CNN
	1    4800 4700
	1    0    0    -1  
$EndComp
Wire Wire Line
	5550 4950 5600 4950
Wire Wire Line
	5600 4950 5600 5000
Wire Wire Line
	4800 4750 4800 4700
Wire Wire Line
	4800 4750 4950 4750
Wire Wire Line
	8700 4400 8750 4400
Wire Wire Line
	8750 4400 8750 4350
Wire Wire Line
	8850 4400 8850 4350
NoConn ~ 9350 3850
Text GLabel 9350 3650 2    50   Output ~ 0
T_JTDI(h)
$Comp
L Connector:Conn_ST_STDC14 J5
U 1 1 5EC26E87
P 8850 3650
F 0 "J5" H 8407 3696 50  0000 R CNN
F 1 "STDC-14" H 8407 3605 50  0000 R CNN
F 2 "Connector_PinHeader_1.27mm:PinHeader_2x07_P1.27mm_Vertical" H 8850 3650 50  0001 C CNN
F 3 "https://www.st.com/content/ccc/resource/technical/document/user_manual/group1/99/49/91/b6/b2/3a/46/e5/DM00526767/files/DM00526767.pdf/jcr:content/translations/en.DM00526767.pdf" V 8500 2400 50  0001 C CNN
	1    8850 3650
	1    0    0    -1  
$EndComp
Wire Wire Line
	8800 2900 8850 2900
Wire Wire Line
	8850 2900 8850 2950
Text GLabel 12950 6000 2    50   Output ~ 0
T_VCP_RX(h)
Text GLabel 12950 5900 2    50   Input ~ 0
T_VCP_TX(h)
Text GLabel 12950 5600 2    50   Output ~ 0
T_SWO(h)
Text GLabel 12950 5700 2    50   Output ~ 0
T_JTDI(h)
Text GLabel 12950 5500 2    50   Output ~ 0
T_SWDCLK(h)
Text GLabel 12950 5400 2    50   Output ~ 0
T_NRST_SWD(h)
Text GLabel 12950 5300 2    50   Output ~ 0
T_SWDIO(h)
Text GLabel 10500 6450 2    50   Output ~ 0
T_NRST_SWIM(h)
Text GLabel 12950 5800 2    50   Input ~ 0
T_SWIM(h)
Text GLabel 8800 2900 0    50   Input ~ 0
T_Vref
Text GLabel 10300 3100 2    50   Input ~ 0
T_Vref
Text GLabel 8150 1000 0    50   Input ~ 0
T_Vref
$Sheet
S 14850 3250 14450 4650
U 5EC31CA9
F0 "spare connectors" 50
F1 "spare connectivity.sch" 50
$EndSheet
Text GLabel 4650 4950 0    50   BiDi ~ 0
STLINK_LED
Text GLabel 5850 4750 2    50   BiDi ~ 0
STLINK_LED
Text GLabel 4950 5700 0    50   Input ~ 0
SELF_NRST
Text GLabel 7750 5450 0    50   Input ~ 0
SELF_NRST
Text GLabel 8900 1400 2    50   Input ~ 0
AIN
Wire Wire Line
	8900 1400 8850 1400
Text GLabel 7750 6150 0    50   Input ~ 0
BOOT_0
Text GLabel 3800 2150 2    50   Input ~ 0
STLINK_USB_D+
Text GLabel 2800 2150 0    50   Input ~ 0
STLINK_USB_D-
Text GLabel 7750 5650 0    50   Input ~ 0
SWDIO
Text GLabel 7750 5550 0    50   Input ~ 0
SWDCLK
Text Label 7750 6050 2    50   ~ 0
RX
Text Label 7750 5950 2    50   ~ 0
TX
Text GLabel 7750 5750 0    50   Input ~ 0
SWO
Text GLabel 3950 1100 2    50   Input ~ 0
USB_RENUMn
Text GLabel 12150 5600 0    50   Input ~ 0
T_SWO
Text GLabel 4000 7300 2    50   Input ~ 0
T_NRST_SWIM_IN
Text GLabel 12150 5400 0    50   Input ~ 0
T_NRST_SWD
Text GLabel 3700 7500 0    50   Input ~ 0
T_SWDIO
Text GLabel 12150 5500 0    50   Input ~ 0
T_SWDCLK
Text GLabel 3700 7300 0    50   Input ~ 0
T_NRST_SWIM
Text GLabel 12150 5800 0    50   Input ~ 0
T_SWIM
Text GLabel 12150 5900 0    50   Output ~ 0
STLINK_RX
Text GLabel 12150 6000 0    50   Input ~ 0
STLINK_TX
Text GLabel 12150 5700 0    50   Input ~ 0
T_JTDI
Text GLabel 4800 6900 0    50   Input ~ 0
Board_ID
$Comp
L power:GNDD #PWR034
U 1 1 5E97DE44
P 5250 6950
F 0 "#PWR034" H 5250 6700 50  0001 C CNN
F 1 "GNDD" H 5254 6795 50  0000 C CNN
F 2 "" H 5250 6950 50  0001 C CNN
F 3 "" H 5250 6950 50  0001 C CNN
	1    5250 6950
	-1   0    0    -1  
$EndComp
Wire Wire Line
	5250 6900 5250 6950
Wire Wire Line
	5200 6900 5250 6900
$Comp
L Device:R R14
U 1 1 5E1678D4
P 5050 6900
F 0 "R14" V 4950 6900 50  0000 C CNN
F 1 "10K" V 5050 6900 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 4980 6900 50  0001 C CNN
F 3 "~" H 5050 6900 50  0001 C CNN
	1    5050 6900
	0    1    1    0   
$EndComp
Wire Wire Line
	4800 6900 4900 6900
Text Notes 4350 6750 0    100  Italic 20
Board ID
Text GLabel 6150 6150 0    50   Input ~ 0
BOOT_1
Text GLabel 6150 5700 0    50   Input ~ 0
BOOT_0
Wire Wire Line
	6600 5700 6550 5700
Wire Wire Line
	6600 5750 6600 5700
$Comp
L power:GNDD #PWR033
U 1 1 5E989001
P 6600 5750
F 0 "#PWR033" H 6600 5500 50  0001 C CNN
F 1 "GNDD" H 6604 5595 50  0000 C CNN
F 2 "" H 6600 5750 50  0001 C CNN
F 3 "" H 6600 5750 50  0001 C CNN
	1    6600 5750
	1    0    0    -1  
$EndComp
Text Notes 5750 5600 0    100  Italic 20
Boot Mode
$Comp
L Device:C C13
U 1 1 5E1756DC
P 6200 5950
F 0 "C13" H 6315 5996 50  0000 L CNN
F 1 "100nF" H 6315 5905 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 6238 5800 50  0001 C CNN
F 3 "~" H 6200 5950 50  0001 C CNN
	1    6200 5950
	-1   0    0    1   
$EndComp
$Comp
L Device:R R13
U 1 1 5E1756E2
P 6400 5700
F 0 "R13" V 6300 5700 50  0000 C CNN
F 1 "100K" V 6400 5700 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 6330 5700 50  0001 C CNN
F 3 "~" H 6400 5700 50  0001 C CNN
	1    6400 5700
	0    -1   -1   0   
$EndComp
Wire Wire Line
	6200 5700 6200 5800
Wire Wire Line
	6200 6100 6200 6150
Wire Wire Line
	6250 5700 6200 5700
Wire Wire Line
	6200 6150 6150 6150
Connection ~ 6200 6150
Wire Wire Line
	6200 6150 6200 6200
Wire Wire Line
	6150 5700 6200 5700
Connection ~ 6200 5700
$Comp
L power:GNDD #PWR028
U 1 1 5E9889FD
P 6200 6200
F 0 "#PWR028" H 6200 5950 50  0001 C CNN
F 1 "GNDD" H 6204 6045 50  0000 C CNN
F 2 "" H 6200 6200 50  0001 C CNN
F 3 "" H 6200 6200 50  0001 C CNN
	1    6200 6200
	1    0    0    -1  
$EndComp
Text GLabel 6500 7100 2    50   Input ~ 0
OSC_OUT
Text GLabel 5750 7100 0    50   Input ~ 0
OSC_IN
Text Notes 5850 6750 0    100  Italic 20
HSE
$Comp
L Device:C C15
U 1 1 5E15D50F
P 6450 7350
F 0 "C15" H 6565 7396 50  0000 L CNN
F 1 "12pF" H 6565 7305 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 6488 7200 50  0001 C CNN
F 3 "~" H 6450 7350 50  0001 C CNN
	1    6450 7350
	1    0    0    -1  
$EndComp
$Comp
L Device:C C10
U 1 1 5E15D93C
P 5800 7350
F 0 "C10" H 5915 7396 50  0000 L CNN
F 1 "12pF" H 5915 7305 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 5838 7200 50  0001 C CNN
F 3 "~" H 5800 7350 50  0001 C CNN
	1    5800 7350
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR031
U 1 1 5E989614
P 6450 7500
F 0 "#PWR031" H 6450 7250 50  0001 C CNN
F 1 "GNDD" H 6454 7345 50  0000 C CNN
F 2 "" H 6450 7500 50  0001 C CNN
F 3 "" H 6450 7500 50  0001 C CNN
	1    6450 7500
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR023
U 1 1 5E989CA2
P 5800 7500
F 0 "#PWR023" H 5800 7250 50  0001 C CNN
F 1 "GNDD" H 5804 7345 50  0000 C CNN
F 2 "" H 5800 7500 50  0001 C CNN
F 3 "" H 5800 7500 50  0001 C CNN
	1    5800 7500
	1    0    0    -1  
$EndComp
$Comp
L Device:Crystal_GND24 Y1
U 1 1 5E8D8430
P 6150 7100
F 0 "Y1" H 6300 7300 50  0000 L CNN
F 1 "8MHz" H 6300 7200 50  0000 L CNN
F 2 "Crystal:Crystal_SMD_Abracon_ABM8G-4Pin_3.2x2.5mm" H 6150 7100 50  0001 C CNN
F 3 "~" H 6150 7100 50  0001 C CNN
	1    6150 7100
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR026
U 1 1 5E9AFB9C
P 6150 7500
F 0 "#PWR026" H 6150 7250 50  0001 C CNN
F 1 "GNDD" H 6154 7345 50  0000 C CNN
F 2 "" H 6150 7500 50  0001 C CNN
F 3 "" H 6150 7500 50  0001 C CNN
	1    6150 7500
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR025
U 1 1 5E9B91C8
P 5900 6850
F 0 "#PWR025" H 5900 6600 50  0001 C CNN
F 1 "GNDD" H 5904 6695 50  0000 C CNN
F 2 "" H 5900 6850 50  0001 C CNN
F 3 "" H 5900 6850 50  0001 C CNN
	1    5900 6850
	1    0    0    -1  
$EndComp
Wire Wire Line
	6150 7500 6150 7300
Wire Wire Line
	6300 7100 6450 7100
Wire Wire Line
	6450 7100 6450 7200
Wire Wire Line
	5800 7100 6000 7100
Wire Wire Line
	6500 7100 6450 7100
Connection ~ 6450 7100
Wire Wire Line
	5900 6850 5900 6800
Wire Wire Line
	5900 6800 6150 6800
Wire Wire Line
	6150 6800 6150 6900
Wire Wire Line
	5800 7200 5800 7100
Connection ~ 5800 7100
Text GLabel 2450 6500 2    50   Input ~ 0
T_JTDI
Text GLabel 2450 6000 2    50   Input ~ 0
STLINK_TX
Text GLabel 2450 6100 2    50   Output ~ 0
STLINK_RX
Text GLabel 1150 6900 0    50   Input ~ 0
T_SWIM
Text GLabel 1150 6600 0    50   Input ~ 0
T_SWIM
Text GLabel 1150 7000 0    50   Input ~ 0
T_SWDIO_IN
Text GLabel 1150 6400 0    50   Input ~ 0
T_NRST_SWIM
Text GLabel 1150 7200 0    50   Input ~ 0
T_SWDIO
Text GLabel 1150 6300 0    50   Input ~ 0
T_NRST_SWIM_IN
Text GLabel 1150 6500 0    50   Input ~ 0
T_SWIM_IN
Text GLabel 1150 6700 0    50   Input ~ 0
T_SWIM_IN
Text GLabel 1150 6800 0    50   Input ~ 0
T_SWIM_IN
Text GLabel 1150 5800 0    50   Input ~ 0
T_NRST_SWD
Text GLabel 2450 6300 2    50   Input ~ 0
T_SWDCLK
Text GLabel 1150 7100 0    50   Input ~ 0
T_SWDCLK
Text GLabel 2600 6800 2    50   Input ~ 0
T_SWO
Text GLabel 2450 7300 2    50   Input ~ 0
USB_RENUMn
Text GLabel 1150 6000 0    50   Input ~ 0
BOOT_1
Text GLabel 1150 6100 0    50   Input ~ 0
SWO
Text GLabel 2450 7200 2    50   Input ~ 0
SWDCLK
Text GLabel 2450 7100 2    50   Input ~ 0
SWDIO
Text GLabel 2450 7000 2    50   Input ~ 0
STLINK_USB_D+
Text GLabel 2450 6900 2    50   Input ~ 0
STLINK_USB_D-
Text GLabel 2450 5800 2    50   Input ~ 0
AIN
Text GLabel 1150 5400 0    50   Input ~ 0
Board_ID
Text GLabel 1150 4700 0    50   Input ~ 0
SELF_NRST
Text GLabel 1150 4900 0    50   Input ~ 0
BOOT_0
Text GLabel 1150 5200 0    50   Input ~ 0
OSC_OUT
Text GLabel 1150 5100 0    50   Input ~ 0
OSC_IN
Text GLabel 2600 6700 2    50   BiDi ~ 0
STLINK_LED
Wire Wire Line
	2600 6800 2450 6800
Connection ~ 3350 5050
Wire Wire Line
	3350 5450 3350 5050
Connection ~ 2950 5050
Wire Wire Line
	2950 5050 3350 5050
Connection ~ 2950 4450
Wire Wire Line
	3350 4450 3350 5050
Wire Wire Line
	2950 4450 3350 4450
Wire Wire Line
	2950 5100 2950 5050
Wire Wire Line
	2500 5050 2950 5050
Wire Wire Line
	2500 5100 2500 5050
Wire Wire Line
	2950 4500 2950 4450
Wire Wire Line
	2500 4500 2500 4450
Wire Wire Line
	2500 4450 2950 4450
Connection ~ 2050 4450
Wire Wire Line
	2050 4450 2500 4450
NoConn ~ 2450 6400
$Comp
L MCU_ST_STM32F1:STM32F103CBTx U1
U 1 1 5E1A6683
P 1850 6000
F 0 "U1" H 2050 4450 50  0000 C CNN
F 1 "STM32F103CBTx" H 2300 4550 50  0000 C CNN
F 2 "Package_QFP:LQFP-48_7x7mm_P0.5mm" H 1250 4600 50  0001 R CNN
F 3 "http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/CD00161566.pdf" H 1850 6000 50  0001 C CNN
	1    1850 6000
	1    0    0    -1  
$EndComp
NoConn ~ 1150 5600
$Comp
L power:+3V3 #PWR09
U 1 1 5E1AC69A
P 2500 4400
F 0 "#PWR09" H 2500 4250 50  0001 C CNN
F 1 "+3V3" H 2515 4573 50  0000 C CNN
F 2 "" H 2500 4400 50  0001 C CNN
F 3 "" H 2500 4400 50  0001 C CNN
	1    2500 4400
	1    0    0    -1  
$EndComp
Wire Wire Line
	1650 4500 1650 4450
Wire Wire Line
	1650 4450 1750 4450
Wire Wire Line
	2050 4450 2050 4500
Wire Wire Line
	1950 4500 1950 4450
Connection ~ 1950 4450
Wire Wire Line
	1950 4450 2050 4450
Wire Wire Line
	1850 4500 1850 4450
Connection ~ 1850 4450
Wire Wire Line
	1850 4450 1950 4450
Wire Wire Line
	1750 4500 1750 4450
Connection ~ 1750 4450
Wire Wire Line
	1750 4450 1850 4450
$Comp
L Device:C C3
U 1 1 5E1B53F0
P 2500 4650
F 0 "C3" H 2615 4696 50  0000 L CNN
F 1 "100nF" H 2615 4605 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 2538 4500 50  0001 C CNN
F 3 "~" H 2500 4650 50  0001 C CNN
	1    2500 4650
	1    0    0    -1  
$EndComp
$Comp
L Device:C C5
U 1 1 5E1B5956
P 2950 4650
F 0 "C5" H 3065 4696 50  0000 L CNN
F 1 "100nF" H 3065 4605 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 2988 4500 50  0001 C CNN
F 3 "~" H 2950 4650 50  0001 C CNN
	1    2950 4650
	1    0    0    -1  
$EndComp
$Comp
L Device:C C4
U 1 1 5E1B5C37
P 2500 5250
F 0 "C4" H 2615 5296 50  0000 L CNN
F 1 "100nF" H 2615 5205 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 2538 5100 50  0001 C CNN
F 3 "~" H 2500 5250 50  0001 C CNN
	1    2500 5250
	1    0    0    -1  
$EndComp
$Comp
L Device:C C6
U 1 1 5E1B607E
P 2950 5250
F 0 "C6" H 3065 5296 50  0000 L CNN
F 1 "100nF" H 3065 5205 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 2988 5100 50  0001 C CNN
F 3 "~" H 2950 5250 50  0001 C CNN
	1    2950 5250
	1    0    0    -1  
$EndComp
$Comp
L Device:C C7
U 1 1 5E1B635D
P 3350 5600
F 0 "C7" H 3465 5646 50  0000 L CNN
F 1 "100nF" H 3465 5555 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 3388 5450 50  0001 C CNN
F 3 "~" H 3350 5600 50  0001 C CNN
	1    3350 5600
	1    0    0    -1  
$EndComp
Connection ~ 2500 4450
Wire Wire Line
	1950 7500 1950 7550
Wire Wire Line
	1950 7550 1850 7550
Wire Wire Line
	1650 7550 1650 7500
Wire Wire Line
	1650 7600 1650 7550
Connection ~ 1650 7550
Wire Wire Line
	1750 7550 1750 7500
Connection ~ 1750 7550
Wire Wire Line
	1750 7550 1650 7550
Wire Wire Line
	1850 7500 1850 7550
Connection ~ 1850 7550
Wire Wire Line
	1850 7550 1750 7550
NoConn ~ 2450 5900
NoConn ~ 2450 6200
NoConn ~ 1150 6200
NoConn ~ 1150 7300
Text Label 2450 6800 0    50   ~ 0
RX
Text Label 2450 6700 0    50   ~ 0
TX
NoConn ~ 2450 6600
NoConn ~ 1150 5900
Wire Wire Line
	2600 6700 2450 6700
$Comp
L power:GNDD #PWR06
U 1 1 5E981735
P 1650 7600
F 0 "#PWR06" H 1650 7350 50  0001 C CNN
F 1 "GNDD" H 1654 7445 50  0000 C CNN
F 2 "" H 1650 7600 50  0001 C CNN
F 3 "" H 1650 7600 50  0001 C CNN
	1    1650 7600
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR010
U 1 1 5E981EE0
P 2500 4800
F 0 "#PWR010" H 2500 4550 50  0001 C CNN
F 1 "GNDD" H 2504 4645 50  0000 C CNN
F 2 "" H 2500 4800 50  0001 C CNN
F 3 "" H 2500 4800 50  0001 C CNN
	1    2500 4800
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR012
U 1 1 5E9827D4
P 2950 4800
F 0 "#PWR012" H 2950 4550 50  0001 C CNN
F 1 "GNDD" H 2954 4645 50  0000 C CNN
F 2 "" H 2950 4800 50  0001 C CNN
F 3 "" H 2950 4800 50  0001 C CNN
	1    2950 4800
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR011
U 1 1 5E982A88
P 2500 5400
F 0 "#PWR011" H 2500 5150 50  0001 C CNN
F 1 "GNDD" H 2504 5245 50  0000 C CNN
F 2 "" H 2500 5400 50  0001 C CNN
F 3 "" H 2500 5400 50  0001 C CNN
	1    2500 5400
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR013
U 1 1 5E982E36
P 2950 5400
F 0 "#PWR013" H 2950 5150 50  0001 C CNN
F 1 "GNDD" H 2954 5245 50  0000 C CNN
F 2 "" H 2950 5400 50  0001 C CNN
F 3 "" H 2950 5400 50  0001 C CNN
	1    2950 5400
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR015
U 1 1 5E98316D
P 3350 5750
F 0 "#PWR015" H 3350 5500 50  0001 C CNN
F 1 "GNDD" H 3354 5595 50  0000 C CNN
F 2 "" H 3350 5750 50  0001 C CNN
F 3 "" H 3350 5750 50  0001 C CNN
	1    3350 5750
	1    0    0    -1  
$EndComp
Wire Wire Line
	2500 4450 2500 4400
NoConn ~ 1150 5500
Text Notes 3400 4300 0    50   ~ 0
KA-NUCLEO-F411CE uses STM32F103CBU6 as STLink\nGreen Pill uses STM32F103CBT6 as Black Magic Probe\nSpeedy uses STM32F103C8T6 as STLink v2.1\nBlack Magic Probe 2.1 uses STM32F103BBU6\nSTM32+MSD +VCP or STM32+AUDIO can be done with STM32F1xxCBxx only!\nOther wise: "The up-to-date firmware is too big for this board"
Text GLabel 4000 7500 2    50   Input ~ 0
T_SWDIO_IN
Text GLabel 12150 5300 0    50   Input ~ 0
T_SWDIO
Text GLabel 10000 6450 0    50   Input ~ 0
T_NRST_SWIM
Text GLabel 3650 7100 0    50   Input ~ 0
T_SWIM
$Comp
L Device:R R?
U 1 1 5ED1652B
P 3700 6900
F 0 "R?" V 3650 6700 50  0000 C CNN
F 1 "680R" V 3700 6900 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 3630 6900 50  0001 C CNN
F 3 "~" H 3700 6900 50  0001 C CNN
	1    3700 6900
	1    0    0    1   
$EndComp
$Comp
L power:+3V3 #PWR?
U 1 1 5ED1F9AF
P 3700 6650
F 0 "#PWR?" H 3700 6500 50  0001 C CNN
F 1 "+3V3" H 3715 6823 50  0000 C CNN
F 2 "" H 3700 6650 50  0001 C CNN
F 3 "" H 3700 6650 50  0001 C CNN
	1    3700 6650
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5ED1FFEB
P 3850 7100
F 0 "R?" V 3750 7100 50  0000 C CNN
F 1 "220R" V 3850 7100 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 3780 7100 50  0001 C CNN
F 3 "~" H 3850 7100 50  0001 C CNN
	1    3850 7100
	0    -1   1    0   
$EndComp
Text GLabel 4000 7100 2    50   Input ~ 0
T_SWIM_IN
Wire Wire Line
	3700 7100 3650 7100
Wire Wire Line
	3700 6750 3700 6650
Wire Wire Line
	3700 7050 3700 7100
Connection ~ 3700 7100
$Comp
L Power_Protection:USBLC6-2P6 U?
U 1 1 5F1129BC
P 3300 2250
F 0 "U?" H 3450 1900 50  0000 C CNN
F 1 "USBLC6-2P6" H 3650 1800 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-666" H 3300 1750 50  0001 C CNN
F 3 "https://www.st.com/resource/en/datasheet/usblc6-2.pdf" H 3500 2600 50  0001 C CNN
	1    3300 2250
	1    0    0    -1  
$EndComp
Text GLabel 3500 1550 2    50   Input ~ 0
STLINK_USB_D+
Wire Wire Line
	3150 1400 3150 1550
Wire Wire Line
	3150 1550 3200 1550
$Comp
L power:GNDD #PWR?
U 1 1 5F166FD5
P 3300 2650
F 0 "#PWR?" H 3300 2400 50  0001 C CNN
F 1 "GNDD" H 3304 2495 50  0000 C CNN
F 2 "" H 3300 2650 50  0001 C CNN
F 3 "" H 3300 2650 50  0001 C CNN
	1    3300 2650
	1    0    0    -1  
$EndComp
Wire Wire Line
	2800 2350 2850 2350
Wire Wire Line
	2900 2150 2850 2150
Wire Wire Line
	2850 2150 2850 2350
Connection ~ 2850 2150
Wire Wire Line
	2850 2150 2800 2150
Connection ~ 2850 2350
Wire Wire Line
	2850 2350 2900 2350
Wire Wire Line
	3800 2350 3750 2350
Wire Wire Line
	3800 2150 3750 2150
Wire Wire Line
	3750 2150 3750 2350
Connection ~ 3750 2150
Wire Wire Line
	3750 2150 3700 2150
Connection ~ 3750 2350
Wire Wire Line
	3750 2350 3700 2350
$Comp
L power:VBUS #PWR?
U 1 1 5F1CAB36
P 3950 950
F 0 "#PWR?" H 3950 800 50  0001 C CNN
F 1 "VBUS" H 3965 1123 50  0000 C CNN
F 2 "" H 3950 950 50  0001 C CNN
F 3 "" H 3950 950 50  0001 C CNN
	1    3950 950 
	1    0    0    -1  
$EndComp
Wire Wire Line
	2150 1100 2250 1100
Wire Wire Line
	2250 1100 2250 1050
$Comp
L Connector:USB_C_Receptacle_USB2.0 J1
U 1 1 5E141D2F
P 950 1700
F 0 "J1" H 1057 2567 50  0000 C CNN
F 1 "USB Type C" H 1057 2476 50  0000 C CNN
F 2 "Connector_USB:USB_C_Receptacle_Palconn_UTC16-G" H 1100 1700 50  0001 C CNN
F 3 "https://www.usb.org/sites/default/files/documents/usb_type-c.zip" H 1100 1700 50  0001 C CNN
	1    950  1700
	1    0    0    -1  
$EndComp
Wire Wire Line
	1550 1700 1550 1600
Wire Wire Line
	1550 1800 1550 1900
Wire Wire Line
	1600 1700 1550 1700
Connection ~ 1550 1700
Wire Wire Line
	1600 1800 1550 1800
Connection ~ 1550 1800
$Comp
L power:VBUS #PWR?
U 1 1 5F21454A
P 3300 1850
F 0 "#PWR?" H 3300 1700 50  0001 C CNN
F 1 "VBUS" H 3315 2023 50  0000 C CNN
F 2 "" H 3300 1850 50  0001 C CNN
F 3 "" H 3300 1850 50  0001 C CNN
	1    3300 1850
	1    0    0    -1  
$EndComp
$Comp
L power:VBUS #PWR?
U 1 1 5F214D81
P 4850 1000
F 0 "#PWR?" H 4850 850 50  0001 C CNN
F 1 "VBUS" H 4865 1173 50  0000 C CNN
F 2 "" H 4850 1000 50  0001 C CNN
F 3 "" H 4850 1000 50  0001 C CNN
	1    4850 1000
	1    0    0    -1  
$EndComp
$Comp
L power:VBUS #PWR?
U 1 1 5F215625
P 7400 1250
F 0 "#PWR?" H 7400 1100 50  0001 C CNN
F 1 "VBUS" H 7415 1423 50  0000 C CNN
F 2 "" H 7400 1250 50  0001 C CNN
F 3 "" H 7400 1250 50  0001 C CNN
	1    7400 1250
	1    0    0    -1  
$EndComp
$Comp
L Connector_Generic:Conn_01x06 J?
U 1 1 5F2190BA
P 10100 3300
F 0 "J?" H 10018 3717 50  0000 C CNN
F 1 "SWD" H 10018 3626 50  0000 C CNN
F 2 "" H 10100 3300 50  0001 C CNN
F 3 "~" H 10100 3300 50  0001 C CNN
	1    10100 3300
	-1   0    0    -1  
$EndComp
$Comp
L Connector_Generic:Conn_01x06 J?
U 1 1 5F21B63F
P 10100 4150
F 0 "J?" H 10018 4567 50  0000 C CNN
F 1 "SWIM+VCP" H 10018 4476 50  0000 C CNN
F 2 "" H 10100 4150 50  0001 C CNN
F 3 "~" H 10100 4150 50  0001 C CNN
	1    10100 4150
	-1   0    0    -1  
$EndComp
$Comp
L Logic_LevelTranslator:TXS0108EPW U?
U 1 1 5F34D4CD
P 12550 5600
F 0 "U?" H 12750 4950 50  0000 C CNN
F 1 "TXS0108EPW" H 12950 4850 50  0000 C CNN
F 2 "Package_SO:TSSOP-20_4.4x6.5mm_P0.65mm" H 12550 4850 50  0001 C CNN
F 3 "www.ti.com/lit/ds/symlink/txs0108e.pdf" H 12550 5500 50  0001 C CNN
	1    12550 5600
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR?
U 1 1 5F34E714
P 12450 4900
F 0 "#PWR?" H 12450 4750 50  0001 C CNN
F 1 "+3V3" H 12465 5073 50  0000 C CNN
F 2 "" H 12450 4900 50  0001 C CNN
F 3 "" H 12450 4900 50  0001 C CNN
	1    12450 4900
	-1   0    0    -1  
$EndComp
Text GLabel 12700 4850 2    50   Input ~ 0
T_Vref
Wire Wire Line
	12650 4850 12650 4900
Wire Wire Line
	12700 4850 12650 4850
$Comp
L power:GNDD #PWR?
U 1 1 5F3BCE31
P 12550 6300
F 0 "#PWR?" H 12550 6050 50  0001 C CNN
F 1 "GNDD" H 12554 6145 50  0000 C CNN
F 2 "" H 12550 6300 50  0001 C CNN
F 3 "" H 12550 6300 50  0001 C CNN
	1    12550 6300
	1    0    0    -1  
$EndComp
Wire Wire Line
	5800 7100 5750 7100
$EndSCHEMATC
