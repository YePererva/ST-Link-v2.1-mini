EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title "ST-Link v2.1 Mini Hybrid"
Date ""
Rev ""
Comp ""
Comment1 "For SWD/SWIM/VCP isolation consided ISO7231 or ISO764xFM"
Comment2 "For USB isolation consider Si8606AC-B-IS1 or ADuM5000/5001 or ADuM1200/1201"
Comment3 "For ESD protection of SWD/SWIM/VCP consider ESDA6V1BC6, of TXS0108E for level shifting"
Comment4 "For ESD protection of USB consider NUP2201 or USBLC6-2P6"
$EndDescr
Text Notes 650  700  0    100  Italic 20
USB Type C as USB 2.0
$Comp
L power:VBUS #PWR05
U 1 1 5E13DC98
P 1600 950
F 0 "#PWR05" H 1600 800 50  0001 C CNN
F 1 "VBUS" H 1615 1123 50  0000 C CNN
F 2 "" H 1600 950 50  0001 C CNN
F 3 "" H 1600 950 50  0001 C CNN
	1    1600 950 
	1    0    0    -1  
$EndComp
$Comp
L Device:R R3
U 1 1 5E13FFFA
P 1750 1400
F 0 "R3" V 1650 1400 50  0000 C CNN
F 1 "5K1" V 1750 1400 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 1680 1400 50  0001 C CNN
F 3 "~" H 1750 1400 50  0001 C CNN
	1    1750 1400
	0    -1   -1   0   
$EndComp
Wire Wire Line
	1950 1300 1950 1400
Wire Wire Line
	1950 1400 1900 1400
Wire Wire Line
	1950 1400 1950 1450
Connection ~ 1950 1400
$Comp
L Device:R R2
U 1 1 5E140D7A
P 1750 1300
F 0 "R2" V 1850 1300 50  0000 C CNN
F 1 "5K1" V 1750 1300 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 1680 1300 50  0001 C CNN
F 3 "~" H 1750 1300 50  0001 C CNN
	1    1750 1300
	0    -1   -1   0   
$EndComp
Wire Wire Line
	1550 1600 1600 1600
Wire Wire Line
	1600 1600 1600 1700
Wire Wire Line
	1600 1700 1550 1700
Wire Wire Line
	1550 1800 1600 1800
Wire Wire Line
	1600 1800 1600 1900
Wire Wire Line
	1600 1900 1550 1900
NoConn ~ 1550 2200
NoConn ~ 1550 2300
$Comp
L Connector:USB_C_Receptacle_USB2.0 J1
U 1 1 5E141D2F
P 950 1700
F 0 "J1" H 1057 2567 50  0000 C CNN
F 1 "USB Type C" H 1057 2476 50  0000 C CNN
F 2 "Connector_USB:USB_C_Receptacle_Palconn_UTC16-G" H 1100 1700 50  0001 C CNN
F 3 "https://www.usb.org/sites/default/files/documents/usb_type-c.zip" H 1100 1700 50  0001 C CNN
	1    950  1700
	1    0    0    -1  
$EndComp
Text Notes 1050 2600 0    50   ~ 0
If used connector with ID pin: \npull it down with 100K resistor
Text Notes 2650 700  0    100  Italic 20
VCP interface
Wire Wire Line
	1550 1100 1600 1100
Text Label 1600 1700 0    50   ~ 0
D-
Text Label 1600 1900 0    50   ~ 0
D+
Wire Notes Line
	2550 550  2550 3150
Wire Notes Line
	4500 550  4500 3150
Text Notes 4600 700  0    100  Italic 20
Status LED
$Comp
L Device:LED D4
U 1 1 5E157862
P 6950 2650
F 0 "D4" H 6943 2866 50  0000 C CNN
F 1 "Power" H 6943 2775 50  0000 C CNN
F 2 "LED_SMD:LED_0603_1608Metric_Castellated" H 6950 2650 50  0001 C CNN
F 3 "~" H 6950 2650 50  0001 C CNN
	1    6950 2650
	0    -1   -1   0   
$EndComp
Text Notes 7350 1050 0    100  Italic 20
Target Voltage\nDetection or power\nit from STLink
Text Notes 8450 5200 2    100  ~ 0
Self-programming
Text Notes 7300 5350 2    50   ~ 0
SWD:
Text Notes 7450 5850 2    50   ~ 0
UART:
Text GLabel 7800 6050 2    50   Input ~ 0
Self_RX(h)
Text GLabel 7800 5950 2    50   Input ~ 0
Self_TX(h)
Text Label 7750 6050 2    50   ~ 0
RX
Text Label 7750 5950 2    50   ~ 0
TX
Text GLabel 10550 5850 2    50   Output ~ 0
T_NRST_SWD(h)
Text GLabel 10550 5450 2    50   Input ~ 0
T_SWIM(h)
Text GLabel 10550 5550 2    50   Output ~ 0
T_NRST_SWIM(h)
Text Label 10050 6050 2    50   ~ 0
T_SWO
Text Label 10050 5750 2    50   ~ 0
T_SWDIO
Text Label 10050 5850 2    50   ~ 0
T_NRST_SWD
$Comp
L Device:R R30
U 1 1 5E241FEE
P 10200 5950
F 0 "R30" V 10250 6150 50  0000 C CNN
F 1 "22R" V 10200 5950 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 10130 5950 50  0001 C CNN
F 3 "~" H 10200 5950 50  0001 C CNN
	1    10200 5950
	0    1    -1   0   
$EndComp
Text Label 9100 5750 2    50   ~ 0
T_SWDIO_IN
$Comp
L Device:C C16
U 1 1 5E1A6774
P 8450 1950
F 0 "C16" H 8565 1996 50  0000 L CNN
F 1 "100nF" H 8565 1905 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 8488 1800 50  0001 C CNN
F 3 "~" H 8450 1950 50  0001 C CNN
	1    8450 1950
	1    0    0    1   
$EndComp
Text Notes 550  3750 0    100  Italic 20
Microcontroller core
$Comp
L Device:R R17
U 1 1 5E1E8B0C
P 8200 1950
F 0 "R17" V 8100 1950 50  0000 C CNN
F 1 "4K7" V 8200 1950 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 8130 1950 50  0001 C CNN
F 3 "~" H 8200 1950 50  0001 C CNN
	1    8200 1950
	1    0    0    -1  
$EndComp
$Comp
L Diode:BAT60A D3
U 1 1 5E1E8FE6
P 8400 1350
F 0 "D3" H 8400 1134 50  0000 C CNN
F 1 "BAT60A" H 8400 1225 50  0000 C CNN
F 2 "Diode_SMD:D_SOD-323" H 8400 1175 50  0001 C CNN
F 3 "https://www.infineon.com/dgdl/Infineon-BAT60ASERIES-DS-v01_01-en.pdf?fileId=db3a304313d846880113def70c9304a9" H 8400 1350 50  0001 C CNN
	1    8400 1350
	-1   0    0    1   
$EndComp
$Comp
L Device:R R19
U 1 1 5E1EA491
P 8600 1550
F 0 "R19" V 8500 1550 50  0000 C CNN
F 1 "100R" V 8600 1550 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 8530 1550 50  0001 C CNN
F 3 "~" H 8600 1550 50  0001 C CNN
	1    8600 1550
	-1   0    0    1   
$EndComp
Wire Wire Line
	8150 1750 8200 1750
Wire Wire Line
	8200 1800 8200 1750
Connection ~ 8200 1750
NoConn ~ 10050 1300
NoConn ~ 10550 1300
Text GLabel 10550 1600 2    50   Output ~ 0
T_SWO(h)
Text GLabel 10550 1500 2    50   Output ~ 0
T_SWDCLK(h)
Text GLabel 10550 1800 2    50   Output ~ 0
T_NRST_SWD(h)
Text GLabel 10550 1900 2    50   Input ~ 0
T_VCP_TX(h)
Text GLabel 10050 1900 0    50   Output ~ 0
T_VCP_RX(h)
Text Notes 6950 4900 0    150  Italic 30
Inner Wiring Of Interfaces 
Text Notes 7000 5000 0    50   ~ 0
Labels ended with "(h)" are conected to headers
Text Notes 9300 850  0    100  Italic 20
STDC-14 as JTAG \nor SWD+VCP
Text Notes 10200 2150 0    50   ~ 0
Compatible with 10-pin\nCortex Debug Connector
Text Notes 2600 2050 0    50   ~ 0
MMBT9013 (SOT-23) is pinout compatible with:\n- MMBT2222 (STM8 Nucleo32)\n- MMBT3904 (Maple Mini, marking 1AM)\n- BC847\n
Wire Notes Line
	7250 550  7250 3150
$Comp
L Regulator_Linear:AMS1117-3.3 U3
U 1 1 5E261E11
P 5750 2150
F 0 "U3" H 5750 2392 50  0000 C CNN
F 1 "AMS1117-3.3" H 5750 2301 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-223-3_TabPin2" H 5750 2350 50  0001 C CNN
F 3 "http://www.advanced-monolithic.com/pdf/ds1117.pdf" H 5850 1900 50  0001 C CNN
	1    5750 2150
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR025
U 1 1 5E2633CF
P 4800 2100
F 0 "#PWR025" H 4800 1950 50  0001 C CNN
F 1 "+5V" H 4815 2273 50  0000 C CNN
F 2 "" H 4800 2100 50  0001 C CNN
F 3 "" H 4800 2100 50  0001 C CNN
	1    4800 2100
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR040
U 1 1 5E2642AA
P 6950 2100
F 0 "#PWR040" H 6950 1950 50  0001 C CNN
F 1 "+3V3" H 6965 2273 50  0000 C CNN
F 2 "" H 6950 2100 50  0001 C CNN
F 3 "" H 6950 2100 50  0001 C CNN
	1    6950 2100
	1    0    0    -1  
$EndComp
$Comp
L Device:CP C14
U 1 1 5E26F813
P 6100 2350
F 0 "C14" H 6218 2396 50  0000 L CNN
F 1 "22uF" H 6218 2305 50  0000 L CNN
F 2 "Capacitor_Tantalum_SMD:CP_EIA-7343-30_AVX-N" H 6138 2200 50  0001 C CNN
F 3 "~" H 6100 2350 50  0001 C CNN
	1    6100 2350
	1    0    0    -1  
$EndComp
$Comp
L Device:CP C10
U 1 1 5E270620
P 4800 2350
F 0 "C10" H 4918 2396 50  0000 L CNN
F 1 "22uF" H 4918 2305 50  0000 L CNN
F 2 "Capacitor_Tantalum_SMD:CP_EIA-7343-30_AVX-N" H 4838 2200 50  0001 C CNN
F 3 "~" H 4800 2350 50  0001 C CNN
	1    4800 2350
	1    0    0    -1  
$EndComp
$Comp
L Device:R R18
U 1 1 5E2710DA
P 6950 2350
F 0 "R18" V 6850 2350 50  0000 C CNN
F 1 "1K" V 6950 2350 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 6880 2350 50  0001 C CNN
F 3 "~" H 6950 2350 50  0001 C CNN
	1    6950 2350
	-1   0    0    1   
$EndComp
$Comp
L Device:C C15
U 1 1 5E271CB3
P 6500 2350
F 0 "C15" H 6615 2396 50  0000 L CNN
F 1 "100nF" H 6615 2305 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 6538 2200 50  0001 C CNN
F 3 "~" H 6500 2350 50  0001 C CNN
	1    6500 2350
	1    0    0    -1  
$EndComp
$Comp
L Diode:BAT60A D1
U 1 1 5E278C95
P 2150 1100
F 0 "D1" H 2150 884 50  0000 C CNN
F 1 "BAT60A" H 2150 975 50  0000 C CNN
F 2 "Diode_SMD:D_SOD-323" H 2150 925 50  0001 C CNN
F 3 "https://www.infineon.com/dgdl/Infineon-BAT60ASERIES-DS-v01_01-en.pdf?fileId=db3a304313d846880113def70c9304a9" H 2150 1100 50  0001 C CNN
	1    2150 1100
	-1   0    0    1   
$EndComp
$Comp
L Device:Polyfuse F1
U 1 1 5E279A8B
P 1800 1100
F 0 "F1" V 1575 1100 50  0000 C CNN
F 1 "1A" V 1666 1100 50  0000 C CNN
F 2 "Resistor_SMD:R_1206_3216Metric" H 1850 900 50  0001 L CNN
F 3 "~" H 1800 1100 50  0001 C CNN
	1    1800 1100
	0    1    1    0   
$EndComp
$Comp
L Device:C C13
U 1 1 5E280507
P 5200 2350
F 0 "C13" H 5315 2396 50  0000 L CNN
F 1 "100nF" H 5315 2305 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 5238 2200 50  0001 C CNN
F 3 "~" H 5200 2350 50  0001 C CNN
	1    5200 2350
	1    0    0    -1  
$EndComp
Wire Wire Line
	6950 2150 6950 2200
Wire Wire Line
	6950 2150 6950 2100
Connection ~ 6950 2150
Wire Wire Line
	6500 2200 6500 2150
Connection ~ 6500 2150
Wire Wire Line
	6500 2150 6950 2150
Wire Wire Line
	5200 2150 5200 2200
$Comp
L power:+5V #PWR08
U 1 1 5E2C5A62
P 2350 950
F 0 "#PWR08" H 2350 800 50  0001 C CNN
F 1 "+5V" H 2365 1123 50  0000 C CNN
F 2 "" H 2350 950 50  0001 C CNN
F 3 "" H 2350 950 50  0001 C CNN
	1    2350 950 
	1    0    0    -1  
$EndComp
Wire Wire Line
	2300 1100 2350 1100
Wire Wire Line
	2350 1100 2350 950 
Wire Wire Line
	4800 2100 4800 2150
Wire Wire Line
	5200 2150 4800 2150
Connection ~ 4800 2150
Wire Wire Line
	4800 2150 4800 2200
Wire Wire Line
	6050 2150 6100 2150
Wire Wire Line
	6100 2200 6100 2150
Connection ~ 6100 2150
Wire Wire Line
	6100 2150 6500 2150
Wire Wire Line
	5750 2500 5750 2450
Text Label 5550 1000 2    50   ~ 0
STLINK_LED
Text GLabel 10050 1400 0    50   Input ~ 0
T_Vref
Text GLabel 8150 1350 0    50   Input ~ 0
T_Vref
Text GLabel 7800 6150 2    50   Input ~ 0
BOOT_0(h)
Text Label 7750 6150 2    50   ~ 0
BOOT_0
Text Notes 4600 1350 0    50   ~ 0
Top LED : Green\nBottom : Red\nPackage : 3528 (PLCC-4)\nExample : LSG T676
$Comp
L Device:R R31
U 1 1 5E239BA0
P 10200 6050
F 0 "R31" V 10250 6250 50  0000 C CNN
F 1 "22R" V 10200 6050 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 10130 6050 50  0001 C CNN
F 3 "~" H 10200 6050 50  0001 C CNN
	1    10200 6050
	0    1    -1   0   
$EndComp
Wire Wire Line
	10350 5850 10550 5850
$Comp
L Connector_Generic:Conn_02x07_Odd_Even J4
U 1 1 5E20C835
P 10250 1600
F 0 "J4" H 10300 2117 50  0000 C CNN
F 1 "STDC-14" H 10300 2026 50  0000 C CNN
F 2 "Connector_PinHeader_1.27mm:PinHeader_2x07_P1.27mm_Vertical_SMD" H 10250 1600 50  0001 C CNN
F 3 "~" H 10250 1600 50  0001 C CNN
	1    10250 1600
	1    0    0    -1  
$EndComp
Text Notes 2600 2450 0    50   ~ 0
STLINK_USB_D(+) and STLINK_USB_D(-):\nshould be a differential pair approx. 90 Ohm\nLength diference of those traces \nmust be  <1.1 mm
Text Label 10050 5550 2    50   ~ 0
T_NRST_SWIM
Text Label 9150 5550 2    50   ~ 0
T_NRST_SWIM_IN
Text Label 9150 5450 2    50   ~ 0
T_SWIM_IN
Text Label 10050 5450 2    50   ~ 0
T_SWIM
Text GLabel 10550 1400 2    50   Output ~ 0
T_SWDIO(h)
Wire Wire Line
	10050 1600 10000 1600
Wire Wire Line
	10000 1600 10000 1500
Wire Wire Line
	10000 1500 10050 1500
Text GLabel 7800 5650 2    50   Input ~ 0
Self_SWDIO(h)
Text Label 7750 5750 2    50   ~ 0
SWO
Text Label 7750 5650 2    50   ~ 0
SWDIO
Text Label 7750 5450 2    50   ~ 0
STLINK_NRST
Text GLabel 7800 5450 2    50   Input ~ 0
Self_NRST(h)
Text Label 7750 5550 2    50   ~ 0
SWDCLK
Text GLabel 7800 5550 2    50   Input ~ 0
Self_SWDCLK(h)
Text GLabel 7800 5750 2    50   Input ~ 0
Self_SWO(h)
Wire Wire Line
	7750 5750 7800 5750
Wire Wire Line
	7750 5650 7800 5650
Wire Wire Line
	7750 6150 7800 6150
Wire Wire Line
	7750 6050 7800 6050
Wire Wire Line
	7750 5950 7800 5950
Text GLabel 10550 6050 2    50   Output ~ 0
T_SWO(h)
Text GLabel 10550 5750 2    50   Output ~ 0
T_SWDIO(h)
Text GLabel 10550 5950 2    50   Output ~ 0
T_SWDCLK(h)
$Comp
L Device:C C2
U 1 1 5E97B6A3
P 1100 3050
F 0 "C2" H 1215 3096 50  0000 L CNN
F 1 "1nF" H 1215 3005 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 1138 2900 50  0001 C CNN
F 3 "~" H 1100 3050 50  0001 C CNN
	1    1100 3050
	1    0    0    -1  
$EndComp
$Comp
L Device:C C1
U 1 1 5E97BB26
P 650 3050
F 0 "C1" H 765 3096 50  0000 L CNN
F 1 "100nF" H 765 3005 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 688 2900 50  0001 C CNN
F 3 "~" H 650 3050 50  0001 C CNN
	1    650  3050
	1    0    0    -1  
$EndComp
$Comp
L Device:R R1
U 1 1 5E97C96B
P 1300 2850
F 0 "R1" V 1200 2850 50  0000 C CNN
F 1 "1M" V 1300 2850 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 1230 2850 50  0001 C CNN
F 3 "~" H 1300 2850 50  0001 C CNN
	1    1300 2850
	0    1    1    0   
$EndComp
$Comp
L power:GNDD #PWR01
U 1 1 5EA1649B
P 650 3200
F 0 "#PWR01" H 650 2950 50  0001 C CNN
F 1 "GNDD" H 654 3045 50  0000 C CNN
F 2 "" H 650 3200 50  0001 C CNN
F 3 "" H 650 3200 50  0001 C CNN
	1    650  3200
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR02
U 1 1 5EA16FC5
P 950 2600
F 0 "#PWR02" H 950 2350 50  0001 C CNN
F 1 "GNDD" H 954 2445 50  0000 C CNN
F 2 "" H 950 2600 50  0001 C CNN
F 3 "" H 950 2600 50  0001 C CNN
	1    950  2600
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR07
U 1 1 5EA175AD
P 1950 1450
F 0 "#PWR07" H 1950 1200 50  0001 C CNN
F 1 "GNDD" H 1954 1295 50  0000 C CNN
F 2 "" H 1950 1450 50  0001 C CNN
F 3 "" H 1950 1450 50  0001 C CNN
	1    1950 1450
	1    0    0    -1  
$EndComp
Wire Wire Line
	1900 1300 1950 1300
$Comp
L power:GNDD #PWR039
U 1 1 5E97D0F3
P 8450 2100
F 0 "#PWR039" H 8450 1850 50  0001 C CNN
F 1 "GNDD" H 8454 1945 50  0000 C CNN
F 2 "" H 8450 2100 50  0001 C CNN
F 3 "" H 8450 2100 50  0001 C CNN
	1    8450 2100
	-1   0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR038
U 1 1 5E97D9F0
P 8200 2100
F 0 "#PWR038" H 8200 1850 50  0001 C CNN
F 1 "GNDD" H 8204 1945 50  0000 C CNN
F 2 "" H 8200 2100 50  0001 C CNN
F 3 "" H 8200 2100 50  0001 C CNN
	1    8200 2100
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR047
U 1 1 5E97F8B9
P 9350 1550
F 0 "#PWR047" H 9350 1300 50  0001 C CNN
F 1 "GNDD" H 9354 1395 50  0000 C CNN
F 2 "" H 9350 1550 50  0001 C CNN
F 3 "" H 9350 1550 50  0001 C CNN
	1    9350 1550
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR026
U 1 1 5E97FE88
P 4800 2500
F 0 "#PWR026" H 4800 2250 50  0001 C CNN
F 1 "GNDD" H 4804 2345 50  0000 C CNN
F 2 "" H 4800 2500 50  0001 C CNN
F 3 "" H 4800 2500 50  0001 C CNN
	1    4800 2500
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR029
U 1 1 5E980599
P 5200 2500
F 0 "#PWR029" H 5200 2250 50  0001 C CNN
F 1 "GNDD" H 5204 2345 50  0000 C CNN
F 2 "" H 5200 2500 50  0001 C CNN
F 3 "" H 5200 2500 50  0001 C CNN
	1    5200 2500
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR033
U 1 1 5E980880
P 5750 2500
F 0 "#PWR033" H 5750 2250 50  0001 C CNN
F 1 "GNDD" H 5754 2345 50  0000 C CNN
F 2 "" H 5750 2500 50  0001 C CNN
F 3 "" H 5750 2500 50  0001 C CNN
	1    5750 2500
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR036
U 1 1 5E980BC3
P 6100 2500
F 0 "#PWR036" H 6100 2250 50  0001 C CNN
F 1 "GNDD" H 6104 2345 50  0000 C CNN
F 2 "" H 6100 2500 50  0001 C CNN
F 3 "" H 6100 2500 50  0001 C CNN
	1    6100 2500
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR037
U 1 1 5E980E20
P 6500 2500
F 0 "#PWR037" H 6500 2250 50  0001 C CNN
F 1 "GNDD" H 6504 2345 50  0000 C CNN
F 2 "" H 6500 2500 50  0001 C CNN
F 3 "" H 6500 2500 50  0001 C CNN
	1    6500 2500
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR041
U 1 1 5E98113F
P 6950 2800
F 0 "#PWR041" H 6950 2550 50  0001 C CNN
F 1 "GNDD" H 6954 2645 50  0000 C CNN
F 2 "" H 6950 2800 50  0001 C CNN
F 3 "" H 6950 2800 50  0001 C CNN
	1    6950 2800
	1    0    0    -1  
$EndComp
Text Notes 7000 6400 0    50   ~ 0
To flash programmer with UART:\nshorten BOOT0 to +3.3V and reboot
Text Notes 2000 1400 0    50   ~ 0
or SS14\nor PMEG2010\nor MBR130
NoConn ~ 1150 5450
Wire Wire Line
	2500 4400 2500 4350
$Comp
L power:GNDD #PWR014
U 1 1 5E98316D
P 3350 5700
F 0 "#PWR014" H 3350 5450 50  0001 C CNN
F 1 "GNDD" H 3354 5545 50  0000 C CNN
F 2 "" H 3350 5700 50  0001 C CNN
F 3 "" H 3350 5700 50  0001 C CNN
	1    3350 5700
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR013
U 1 1 5E982E36
P 2950 5350
F 0 "#PWR013" H 2950 5100 50  0001 C CNN
F 1 "GNDD" H 2954 5195 50  0000 C CNN
F 2 "" H 2950 5350 50  0001 C CNN
F 3 "" H 2950 5350 50  0001 C CNN
	1    2950 5350
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR011
U 1 1 5E982A88
P 2500 5350
F 0 "#PWR011" H 2500 5100 50  0001 C CNN
F 1 "GNDD" H 2504 5195 50  0000 C CNN
F 2 "" H 2500 5350 50  0001 C CNN
F 3 "" H 2500 5350 50  0001 C CNN
	1    2500 5350
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR012
U 1 1 5E9827D4
P 2950 4750
F 0 "#PWR012" H 2950 4500 50  0001 C CNN
F 1 "GNDD" H 2954 4595 50  0000 C CNN
F 2 "" H 2950 4750 50  0001 C CNN
F 3 "" H 2950 4750 50  0001 C CNN
	1    2950 4750
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR010
U 1 1 5E981EE0
P 2500 4750
F 0 "#PWR010" H 2500 4500 50  0001 C CNN
F 1 "GNDD" H 2504 4595 50  0000 C CNN
F 2 "" H 2500 4750 50  0001 C CNN
F 3 "" H 2500 4750 50  0001 C CNN
	1    2500 4750
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR06
U 1 1 5E981735
P 1650 7550
F 0 "#PWR06" H 1650 7300 50  0001 C CNN
F 1 "GNDD" H 1654 7395 50  0000 C CNN
F 2 "" H 1650 7550 50  0001 C CNN
F 3 "" H 1650 7550 50  0001 C CNN
	1    1650 7550
	1    0    0    -1  
$EndComp
Wire Wire Line
	2600 6650 2450 6650
NoConn ~ 1150 5850
Text Label 1150 7150 2    50   ~ 0
T_SWDIO
Text Label 1150 7050 2    50   ~ 0
T_SWDCLK
NoConn ~ 2450 6550
Text Label 2600 6650 0    50   ~ 0
STLINK_LED
Text Label 1150 5750 2    50   ~ 0
T_NRST_SWD
Text Label 1150 6250 2    50   ~ 0
T_NRST_SWIM_IN
Text Label 1150 6350 2    50   ~ 0
T_NRST_SWIM
Text Label 1150 6450 2    50   ~ 0
T_SWIM_IN
Text Label 1150 6550 2    50   ~ 0
T_SWIM
Text Label 1150 6650 2    50   ~ 0
T_SWIM_IN
Text Label 1150 6850 2    50   ~ 0
T_SWIM
Text Label 1150 6750 2    50   ~ 0
T_SWIM_IN
Text Label 2450 6250 0    50   ~ 0
T_SWDCLK
Text Label 1150 6950 2    50   ~ 0
T_SWDIO_IN
Text Label 2600 6750 0    50   ~ 0
T_SWO
Text Label 2450 7250 0    50   ~ 0
USB_RENUMn
Text Label 2450 6850 0    50   ~ 0
STLINK_USB_D-
Text Label 2450 6950 0    50   ~ 0
STLINK_USB_D+
Text Label 2450 6650 0    50   ~ 0
TX
Text Label 2450 6750 0    50   ~ 0
RX
Text Label 2450 7150 0    50   ~ 0
SWDCLK
Text Label 2450 7050 0    50   ~ 0
SWDIO
Text Label 1150 6050 2    50   ~ 0
SWO
NoConn ~ 1150 7250
NoConn ~ 1150 6150
NoConn ~ 2450 6150
Text Label 2450 6050 0    50   ~ 0
STLINK_RX
Text Label 2450 5950 0    50   ~ 0
STLINK_TX
NoConn ~ 2450 5850
Text Label 2450 5750 0    50   ~ 0
AIN
Wire Wire Line
	1850 7500 1750 7500
Connection ~ 1850 7500
Wire Wire Line
	1850 7450 1850 7500
Wire Wire Line
	1750 7500 1650 7500
Connection ~ 1750 7500
Wire Wire Line
	1750 7500 1750 7450
Connection ~ 1650 7500
Wire Wire Line
	1650 7550 1650 7500
Wire Wire Line
	1650 7500 1650 7450
Wire Wire Line
	1950 7500 1850 7500
Wire Wire Line
	1950 7450 1950 7500
Connection ~ 2500 4400
$Comp
L Device:C C7
U 1 1 5E1B635D
P 3350 5550
F 0 "C7" H 3465 5596 50  0000 L CNN
F 1 "100nF" H 3465 5505 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 3388 5400 50  0001 C CNN
F 3 "~" H 3350 5550 50  0001 C CNN
	1    3350 5550
	1    0    0    -1  
$EndComp
$Comp
L Device:C C6
U 1 1 5E1B607E
P 2950 5200
F 0 "C6" H 3065 5246 50  0000 L CNN
F 1 "100nF" H 3065 5155 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 2988 5050 50  0001 C CNN
F 3 "~" H 2950 5200 50  0001 C CNN
	1    2950 5200
	1    0    0    -1  
$EndComp
$Comp
L Device:C C4
U 1 1 5E1B5C37
P 2500 5200
F 0 "C4" H 2615 5246 50  0000 L CNN
F 1 "100nF" H 2615 5155 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 2538 5050 50  0001 C CNN
F 3 "~" H 2500 5200 50  0001 C CNN
	1    2500 5200
	1    0    0    -1  
$EndComp
$Comp
L Device:C C5
U 1 1 5E1B5956
P 2950 4600
F 0 "C5" H 3065 4646 50  0000 L CNN
F 1 "100nF" H 3065 4555 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 2988 4450 50  0001 C CNN
F 3 "~" H 2950 4600 50  0001 C CNN
	1    2950 4600
	1    0    0    -1  
$EndComp
$Comp
L Device:C C3
U 1 1 5E1B53F0
P 2500 4600
F 0 "C3" H 2615 4646 50  0000 L CNN
F 1 "100nF" H 2615 4555 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 2538 4450 50  0001 C CNN
F 3 "~" H 2500 4600 50  0001 C CNN
	1    2500 4600
	1    0    0    -1  
$EndComp
Wire Wire Line
	1750 4400 1850 4400
Connection ~ 1750 4400
Wire Wire Line
	1750 4450 1750 4400
Wire Wire Line
	1850 4400 1950 4400
Connection ~ 1850 4400
Wire Wire Line
	1850 4450 1850 4400
Wire Wire Line
	1950 4400 2050 4400
Connection ~ 1950 4400
Wire Wire Line
	1950 4450 1950 4400
Wire Wire Line
	2050 4400 2050 4450
Wire Wire Line
	1650 4400 1750 4400
Wire Wire Line
	1650 4450 1650 4400
$Comp
L power:+3V3 #PWR09
U 1 1 5E1AC69A
P 2500 4350
F 0 "#PWR09" H 2500 4200 50  0001 C CNN
F 1 "+3V3" H 2515 4523 50  0000 C CNN
F 2 "" H 2500 4350 50  0001 C CNN
F 3 "" H 2500 4350 50  0001 C CNN
	1    2500 4350
	1    0    0    -1  
$EndComp
NoConn ~ 1150 5550
Text Label 1150 5150 2    50   ~ 0
STLINK_OST_OUT
Text Label 1150 5050 2    50   ~ 0
STLINK_OSC_IN
Text Label 1150 5950 2    50   ~ 0
BOOT_1
Text Label 1150 4850 2    50   ~ 0
BOOT_0
Text Label 1150 4650 2    50   ~ 0
STLINK_NRST
$Comp
L MCU_ST_STM32F1:STM32F103CBTx U1
U 1 1 5E1A6683
P 1850 5950
F 0 "U1" H 2050 4400 50  0000 C CNN
F 1 "STM32F103CBTx" H 2300 4500 50  0000 C CNN
F 2 "Package_QFP:LQFP-48_7x7mm_P0.5mm" H 1250 4550 50  0001 R CNN
F 3 "http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/CD00161566.pdf" H 1850 5950 50  0001 C CNN
	1    1850 5950
	1    0    0    -1  
$EndComp
Text Notes 600  4350 0    50   ~ 0
Original boards use as ST-link V2.1:\n- STM32F103CBT6 : Nucleo 32 boards [STM8 and STM32F]\n- STM32F103CBT6TR : Nucleo 64 boards with STM8\nOriginal boards use as ST-Link V2:\n- STM32F103C8T6 : F4Discovery\nSTLink clones use STM32F101****\nSome clones use CKS32F103C8xx
Text Notes 9350 1000 0    50   ~ 0
STDC-14: SAMTEC FTSH-107-01-L-DV-K-A
Text Label 10050 5950 2    50   ~ 0
T_SWDCLK
NoConn ~ 2450 6350
Wire Wire Line
	10350 6050 10550 6050
Wire Wire Line
	10350 5750 10550 5750
Wire Wire Line
	10350 5950 10550 5950
Wire Wire Line
	9150 5750 9100 5750
Wire Wire Line
	10550 5450 10350 5450
Wire Wire Line
	10550 5550 10350 5550
Wire Wire Line
	9450 5550 10050 5550
Wire Wire Line
	9450 5750 10050 5750
Wire Wire Line
	10550 6450 10350 6450
Wire Wire Line
	10350 6350 10550 6350
Text GLabel 10550 6450 2    50   Output ~ 0
T_VCP_RX(h)
Text GLabel 10550 6350 2    50   Input ~ 0
T_VCP_TX(h)
Text Label 10050 6450 2    50   ~ 0
STLINK_TX
Text Label 10050 6350 2    50   ~ 0
STLINK_RX
$Comp
L Device:R R34
U 1 1 5E5E8E99
P 10200 6450
F 0 "R34" V 10250 6650 50  0000 C CNN
F 1 "22R" V 10200 6450 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 10130 6450 50  0001 C CNN
F 3 "~" H 10200 6450 50  0001 C CNN
	1    10200 6450
	0    1    -1   0   
$EndComp
$Comp
L Device:R R33
U 1 1 5E5E96B6
P 10200 6350
F 0 "R33" V 10250 6550 50  0000 C CNN
F 1 "22R" V 10200 6350 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 10130 6350 50  0001 C CNN
F 3 "~" H 10200 6350 50  0001 C CNN
	1    10200 6350
	0    1    -1   0   
$EndComp
$Comp
L power:+3V3 #PWR052
U 1 1 5E194620
P 10550 5350
F 0 "#PWR052" H 10550 5200 50  0001 C CNN
F 1 "+3V3" H 10565 5523 50  0000 C CNN
F 2 "" H 10550 5350 50  0001 C CNN
F 3 "" H 10550 5350 50  0001 C CNN
	1    10550 5350
	1    0    0    -1  
$EndComp
Wire Wire Line
	9450 5450 9750 5450
Wire Wire Line
	10350 5350 10550 5350
Wire Wire Line
	10050 5350 9750 5350
Wire Wire Line
	9750 5350 9750 5450
Connection ~ 9750 5450
Wire Wire Line
	9750 5450 10050 5450
Text Notes 8550 5200 0    100  ~ 0
Target Programming
Text Notes 8950 5650 2    50   ~ 0
SWD/JTAG:
Text Notes 9600 6250 2    50   ~ 0
UART:
Text Notes 8750 5350 2    50   ~ 0
SWIM:
Wire Wire Line
	7750 5550 7800 5550
Wire Wire Line
	7750 5450 7800 5450
Wire Notes Line
	8500 5100 8500 6450
Wire Notes Line
	6950 6450 6950 5050
Wire Notes Line
	6950 5050 11200 5050
Text Notes 8550 6500 0    50   ~ 0
47R resistors can be 22R
Text GLabel 10050 1800 0    50   Output ~ 0
GND_detect(h)
Text GLabel 9500 2000 2    50   Output ~ 0
GND_detect(h)
$Comp
L power:GNDD #PWR048
U 1 1 5E9AED9E
P 9350 2050
F 0 "#PWR048" H 9350 1800 50  0001 C CNN
F 1 "GNDD" H 9354 1895 50  0000 C CNN
F 2 "" H 9350 2050 50  0001 C CNN
F 3 "" H 9350 2050 50  0001 C CNN
	1    9350 2050
	-1   0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR044
U 1 1 5E97F0E1
P 9050 4050
F 0 "#PWR044" H 9050 3800 50  0001 C CNN
F 1 "GNDD" H 9054 3895 50  0000 C CNN
F 2 "" H 9050 4050 50  0001 C CNN
F 3 "" H 9050 4050 50  0001 C CNN
	1    9050 4050
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR046
U 1 1 5E97EAC1
P 9100 3650
F 0 "#PWR046" H 9100 3400 50  0001 C CNN
F 1 "GNDD" H 9104 3495 50  0000 C CNN
F 2 "" H 9100 3650 50  0001 C CNN
F 3 "" H 9100 3650 50  0001 C CNN
	1    9100 3650
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR053
U 1 1 5E97E7C6
P 11100 3250
F 0 "#PWR053" H 11100 3000 50  0001 C CNN
F 1 "GNDD" H 11104 3095 50  0000 C CNN
F 2 "" H 11100 3250 50  0001 C CNN
F 3 "" H 11100 3250 50  0001 C CNN
	1    11100 3250
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR054
U 1 1 5E97E441
P 11100 3950
F 0 "#PWR054" H 11100 3700 50  0001 C CNN
F 1 "GNDD" H 11104 3795 50  0000 C CNN
F 2 "" H 11100 3950 50  0001 C CNN
F 3 "" H 11100 3950 50  0001 C CNN
	1    11100 3950
	1    0    0    -1  
$EndComp
Wire Wire Line
	9700 3300 9100 3300
Wire Wire Line
	9050 4000 9050 4050
Wire Wire Line
	9550 3000 9550 2950
Text GLabel 9700 3200 0    50   Input ~ 0
BOOT_0(h)
$Comp
L power:+3V3 #PWR049
U 1 1 5E22CAA0
P 9350 2950
F 0 "#PWR049" H 9350 2800 50  0001 C CNN
F 1 "+3V3" H 9365 3123 50  0000 C CNN
F 2 "" H 9350 2950 50  0001 C CNN
F 3 "" H 9350 2950 50  0001 C CNN
	1    9350 2950
	1    0    0    -1  
$EndComp
Text GLabel 9700 3400 0    50   Input ~ 0
Self_TX(h)
Text GLabel 9700 3500 0    50   Input ~ 0
Self_RX(h)
Text GLabel 9700 4300 0    50   Input ~ 0
Self_SWO(h)
Text GLabel 9700 4200 0    50   Input ~ 0
Self_NRST(h)
Text GLabel 9700 3900 0    50   Input ~ 0
Self_SWDCLK(h)
Text GLabel 9700 4100 0    50   Input ~ 0
Self_SWDIO(h)
$Comp
L power:+5V #PWR051
U 1 1 5E22A1A8
P 9550 2950
F 0 "#PWR051" H 9550 2800 50  0001 C CNN
F 1 "+5V" H 9565 3123 50  0000 C CNN
F 2 "" H 9550 2950 50  0001 C CNN
F 3 "" H 9550 2950 50  0001 C CNN
	1    9550 2950
	1    0    0    -1  
$EndComp
Wire Wire Line
	11100 3900 11100 3950
Wire Wire Line
	10350 3900 11100 3900
Wire Wire Line
	11100 3200 11100 3250
Wire Wire Line
	10350 3200 11100 3200
Text GLabel 10350 4200 2    50   Input ~ 0
T_VCP_TX(h)
Text GLabel 10350 4300 2    50   Output ~ 0
T_VCP_RX(h)
Text GLabel 10350 3400 2    50   Output ~ 0
T_NRST_SWD(h)
Text GLabel 10350 3100 2    50   Output ~ 0
T_SWDCLK(h)
Text GLabel 10350 3300 2    50   Output ~ 0
T_SWDIO(h)
Text GLabel 10350 3000 2    50   Input ~ 0
T_Vref
Text GLabel 10350 3700 2    50   Input ~ 0
T_Vref
Text GLabel 10350 4000 2    50   Output ~ 0
T_NRST_SWIM(h)
Text GLabel 10350 3800 2    50   Input ~ 0
T_SWIM(h)
Text Notes 9400 2650 0    100  Italic 20
Side Connectors
Text GLabel 10350 3500 2    50   Input ~ 0
T_SWO(h)
Text Notes 8250 1550 0    50   ~ 0
or:\n1N5817
Text Notes 7600 2400 0    50   ~ 0
Tref PullDown can be 10K
Wire Wire Line
	2600 1600 2850 1600
Wire Wire Line
	2750 1400 2850 1400
Wire Wire Line
	2750 1500 2850 1500
Connection ~ 2750 1500
Wire Wire Line
	2750 1400 2750 1500
Wire Wire Line
	2600 1500 2750 1500
$Comp
L Device:R R6
U 1 1 5E14419D
P 3000 1500
F 0 "R6" V 2950 1650 50  0000 C CNN
F 1 "22R" V 3000 1500 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 2930 1500 50  0001 C CNN
F 3 "~" H 3000 1500 50  0001 C CNN
	1    3000 1500
	0    -1   1    0   
$EndComp
Text Label 2600 1500 0    50   ~ 0
D+
$Comp
L Device:R R7
U 1 1 5E143B7C
P 3000 1600
F 0 "R7" V 3050 1750 50  0000 C CNN
F 1 "22R" V 3000 1600 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 2930 1600 50  0001 C CNN
F 3 "~" H 3000 1600 50  0001 C CNN
	1    3000 1600
	0    -1   -1   0   
$EndComp
Text Label 2600 1600 0    50   ~ 0
D-
$Comp
L Device:R R5
U 1 1 5E14689D
P 3000 1400
F 0 "R5" V 2950 1550 50  0000 C CNN
F 1 "1K5" V 3000 1400 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 2930 1400 50  0001 C CNN
F 3 "~" H 3000 1400 50  0001 C CNN
	1    3000 1400
	0    -1   1    0   
$EndComp
$Comp
L Transistor_BJT:MMBT3904 Q1
U 1 1 5E144756
P 3250 1200
F 0 "Q1" H 3441 1246 50  0000 L CNN
F 1 "MMBT9013" H 3441 1155 50  0000 L CNN
F 2 "Package_TO_SOT_SMD:SOT-23" H 3450 1125 50  0001 L CIN
F 3 "https://www.fairchildsemi.com/datasheets/2N/2N3904.pdf" H 3250 1200 50  0001 L CNN
	1    3250 1200
	-1   0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR015
U 1 1 5E97CB86
P 3150 950
F 0 "#PWR015" H 3150 800 50  0001 C CNN
F 1 "+3V3" H 3165 1123 50  0000 C CNN
F 2 "" H 3150 950 50  0001 C CNN
F 3 "" H 3150 950 50  0001 C CNN
	1    3150 950 
	1    0    0    -1  
$EndComp
Wire Wire Line
	3150 1000 3150 950 
Connection ~ 3450 1200
Connection ~ 3450 1100
Wire Wire Line
	3450 1000 3450 1100
Wire Wire Line
	3450 1100 3450 1200
$Comp
L power:GNDD #PWR017
U 1 1 5E987C5A
P 3950 1200
F 0 "#PWR017" H 3950 950 50  0001 C CNN
F 1 "GNDD" H 3954 1045 50  0000 C CNN
F 2 "" H 3950 1200 50  0001 C CNN
F 3 "" H 3950 1200 50  0001 C CNN
	1    3950 1200
	1    0    0    -1  
$EndComp
Wire Wire Line
	3950 1000 3950 950 
Wire Wire Line
	3900 1000 3950 1000
Wire Wire Line
	3900 1100 3950 1100
Wire Wire Line
	3900 1200 3950 1200
Wire Wire Line
	3450 1200 3600 1200
Wire Wire Line
	3450 1100 3600 1100
Wire Wire Line
	3450 1000 3600 1000
Text Label 3950 1100 0    50   ~ 0
USB_RENUMn
$Comp
L Device:R R10
U 1 1 5E1475F2
P 3750 1100
F 0 "R10" V 3700 900 50  0000 C CNN
F 1 "100R" V 3750 1100 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 3680 1100 50  0001 C CNN
F 3 "~" H 3750 1100 50  0001 C CNN
	1    3750 1100
	0    1    1    0   
$EndComp
$Comp
L power:+5V #PWR016
U 1 1 5E148E69
P 3950 950
F 0 "#PWR016" H 3950 800 50  0001 C CNN
F 1 "+5V" H 3965 1123 50  0000 C CNN
F 2 "" H 3950 950 50  0001 C CNN
F 3 "" H 3950 950 50  0001 C CNN
	1    3950 950 
	1    0    0    -1  
$EndComp
$Comp
L Device:R R11
U 1 1 5E147F4B
P 3750 1200
F 0 "R11" V 3700 1000 50  0000 C CNN
F 1 "36K" V 3750 1200 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 3680 1200 50  0001 C CNN
F 3 "~" H 3750 1200 50  0001 C CNN
	1    3750 1200
	0    1    1    0   
$EndComp
$Comp
L Device:R R9
U 1 1 5E147AAD
P 3750 1000
F 0 "R9" V 3700 800 50  0000 C CNN
F 1 "10K" V 3750 1000 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 3680 1000 50  0001 C CNN
F 3 "~" H 3750 1000 50  0001 C CNN
	1    3750 1000
	0    1    1    0   
$EndComp
Text Label 3850 1600 0    50   ~ 0
STLINK_USB_D-
Text Label 3850 1500 0    50   ~ 0
STLINK_USB_D+
Wire Wire Line
	3850 1600 3150 1600
Wire Wire Line
	3850 1500 3150 1500
Wire Wire Line
	2050 4400 2500 4400
Connection ~ 2050 4400
Text GLabel 10550 1700 2    50   Output ~ 0
T_JTDI(h)
Text Label 2450 6450 0    50   ~ 0
T_JTDI
Text Label 10050 6150 2    50   ~ 0
T_JTDI
$Comp
L Device:R R32
U 1 1 5E9BC636
P 10200 6150
F 0 "R32" V 10250 6350 50  0000 C CNN
F 1 "22R" V 10200 6150 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 10130 6150 50  0001 C CNN
F 3 "~" H 10200 6150 50  0001 C CNN
	1    10200 6150
	0    1    -1   0   
$EndComp
Text GLabel 10550 6150 2    50   Output ~ 0
T_JTDI(h)
Wire Wire Line
	10350 6150 10550 6150
Wire Wire Line
	10000 1500 9350 1500
Wire Wire Line
	9350 1500 9350 1550
Connection ~ 10000 1500
Wire Wire Line
	9500 2000 9350 2000
Wire Wire Line
	9350 2000 9350 2050
NoConn ~ 10050 1700
Wire Wire Line
	5450 2150 5200 2150
Connection ~ 5200 2150
$Comp
L Device:R R29
U 1 1 5E242103
P 10200 5850
F 0 "R29" V 10250 6050 50  0000 C CNN
F 1 "22R" V 10200 5850 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 10130 5850 50  0001 C CNN
F 3 "~" H 10200 5850 50  0001 C CNN
	1    10200 5850
	0    1    -1   0   
$EndComp
$Comp
L Device:R R28
U 1 1 5E241EAA
P 10200 5750
F 0 "R28" V 10250 5950 50  0000 C CNN
F 1 "22R" V 10200 5750 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 10130 5750 50  0001 C CNN
F 3 "~" H 10200 5750 50  0001 C CNN
	1    10200 5750
	0    1    -1   0   
$EndComp
$Comp
L Device:R R27
U 1 1 5E1611CA
P 10200 5550
F 0 "R27" V 10250 5350 50  0000 C CNN
F 1 "47R" V 10200 5550 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 10130 5550 50  0001 C CNN
F 3 "~" H 10200 5550 50  0001 C CNN
	1    10200 5550
	0    -1   -1   0   
$EndComp
$Comp
L Device:R R26
U 1 1 5E1614A7
P 10200 5450
F 0 "R26" V 10150 5250 50  0000 C CNN
F 1 "47R" V 10200 5450 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 10130 5450 50  0001 C CNN
F 3 "~" H 10200 5450 50  0001 C CNN
	1    10200 5450
	0    -1   1    0   
$EndComp
$Comp
L Device:R R25
U 1 1 5E194F79
P 10200 5350
F 0 "R25" V 10150 5150 50  0000 C CNN
F 1 "680R" V 10200 5350 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 10130 5350 50  0001 C CNN
F 3 "~" H 10200 5350 50  0001 C CNN
	1    10200 5350
	0    -1   1    0   
$EndComp
$Comp
L Device:R R24
U 1 1 5E2426E2
P 9300 5750
F 0 "R24" V 9250 5550 50  0000 C CNN
F 1 "100R" V 9300 5750 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 9230 5750 50  0001 C CNN
F 3 "~" H 9300 5750 50  0001 C CNN
	1    9300 5750
	0    -1   1    0   
$EndComp
$Comp
L Device:R R23
U 1 1 5E1605A4
P 9300 5550
F 0 "R23" V 9350 5350 50  0000 C CNN
F 1 "220R" V 9300 5550 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 9230 5550 50  0001 C CNN
F 3 "~" H 9300 5550 50  0001 C CNN
	1    9300 5550
	0    -1   -1   0   
$EndComp
$Comp
L Device:R R22
U 1 1 5E160EE0
P 9300 5450
F 0 "R22" V 9250 5250 50  0000 C CNN
F 1 "220R" V 9300 5450 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 9230 5450 50  0001 C CNN
F 3 "~" H 9300 5450 50  0001 C CNN
	1    9300 5450
	0    -1   1    0   
$EndComp
Wire Wire Line
	650  2600 650  2850
Wire Wire Line
	1100 2900 1100 2850
Wire Wire Line
	1100 2850 650  2850
Connection ~ 650  2850
Wire Wire Line
	650  2850 650  2900
Wire Wire Line
	1100 2850 1150 2850
Connection ~ 1100 2850
$Comp
L power:GNDD #PWR03
U 1 1 5EA32234
P 1100 3200
F 0 "#PWR03" H 1100 2950 50  0001 C CNN
F 1 "GNDD" H 1104 3045 50  0000 C CNN
F 2 "" H 1100 3200 50  0001 C CNN
F 3 "" H 1100 3200 50  0001 C CNN
	1    1100 3200
	1    0    0    -1  
$EndComp
Wire Wire Line
	1450 2850 1500 2850
Wire Wire Line
	1500 2850 1500 2900
$Comp
L power:GNDD #PWR04
U 1 1 5EA3A24D
P 1500 2900
F 0 "#PWR04" H 1500 2650 50  0001 C CNN
F 1 "GNDD" H 1504 2745 50  0000 C CNN
F 2 "" H 1500 2900 50  0001 C CNN
F 3 "" H 1500 2900 50  0001 C CNN
	1    1500 2900
	1    0    0    -1  
$EndComp
Text Notes 4750 1800 0    100  Italic 20
Power Regulator
NoConn ~ 10350 4100
NoConn ~ 10350 3600
Wire Wire Line
	9700 4000 9050 4000
$Comp
L power:+3V3 #PWR050
U 1 1 5E22AB7F
P 9400 3800
F 0 "#PWR050" H 9400 3650 50  0001 C CNN
F 1 "+3V3" H 9550 3850 50  0000 C CNN
F 2 "" H 9400 3800 50  0001 C CNN
F 3 "" H 9400 3800 50  0001 C CNN
	1    9400 3800
	1    0    0    -1  
$EndComp
Wire Wire Line
	9100 3600 9100 3650
Wire Wire Line
	9100 3600 9700 3600
Wire Wire Line
	9400 3800 9700 3800
NoConn ~ 9700 3700
Wire Wire Line
	9550 3000 9700 3000
Wire Wire Line
	9700 3100 9350 3100
Wire Wire Line
	9350 3100 9350 2950
$Comp
L power:+3V3 #PWR045
U 1 1 5EC30F28
P 9100 3300
F 0 "#PWR045" H 9100 3150 50  0001 C CNN
F 1 "+3V3" H 9115 3473 50  0000 C CNN
F 2 "" H 9100 3300 50  0001 C CNN
F 3 "" H 9100 3300 50  0001 C CNN
	1    9100 3300
	1    0    0    -1  
$EndComp
Wire Wire Line
	7650 1650 7600 1650
Wire Wire Line
	7600 1650 7600 1600
Wire Wire Line
	7650 1750 7400 1750
Wire Wire Line
	7400 1750 7400 1600
$Comp
L power:+5V #PWR034
U 1 1 5EA69446
P 7400 1600
F 0 "#PWR034" H 7400 1450 50  0001 C CNN
F 1 "+5V" H 7415 1773 50  0000 C CNN
F 2 "" H 7400 1600 50  0001 C CNN
F 3 "" H 7400 1600 50  0001 C CNN
	1    7400 1600
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR035
U 1 1 5EA68D52
P 7600 1600
F 0 "#PWR035" H 7600 1450 50  0001 C CNN
F 1 "+3V3" H 7615 1773 50  0000 C CNN
F 2 "" H 7600 1600 50  0001 C CNN
F 3 "" H 7600 1600 50  0001 C CNN
	1    7600 1600
	1    0    0    -1  
$EndComp
$Comp
L Connector_Generic:Conn_02x02_Odd_Even J2
U 1 1 5E9AB85E
P 7850 1650
F 0 "J2" H 7900 1867 50  0000 C CNN
F 1 "Power Target" H 7900 1776 50  0000 C CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_2x02_P2.54mm_Vertical" H 7850 1650 50  0001 C CNN
F 3 "~" H 7850 1650 50  0001 C CNN
	1    7850 1650
	1    0    0    -1  
$EndComp
Wire Wire Line
	8150 1650 8200 1650
Wire Wire Line
	8200 1650 8200 1750
Wire Wire Line
	8150 1350 8200 1350
Wire Wire Line
	8200 1350 8200 1650
Connection ~ 8200 1350
Wire Wire Line
	8200 1350 8250 1350
Connection ~ 8200 1650
Wire Wire Line
	8550 1350 8600 1350
Wire Wire Line
	8600 1350 8600 1400
Wire Wire Line
	1600 1100 1600 950 
Connection ~ 1600 1100
Wire Wire Line
	1600 1100 1650 1100
Wire Notes Line
	7300 2450 11150 2450
Wire Notes Line
	9200 2450 9200 500 
Wire Wire Line
	2000 1100 1950 1100
Wire Wire Line
	1600 1300 1550 1300
Wire Wire Line
	1600 1400 1550 1400
Wire Wire Line
	8600 1700 8600 1750
Wire Wire Line
	8850 1700 8850 1750
$Comp
L power:GNDD #PWR043
U 1 1 5E97D6F3
P 8850 2100
F 0 "#PWR043" H 8850 1850 50  0001 C CNN
F 1 "GNDD" H 8854 1945 50  0000 C CNN
F 2 "" H 8850 2100 50  0001 C CNN
F 3 "" H 8850 2100 50  0001 C CNN
	1    8850 2100
	-1   0    0    -1  
$EndComp
Text Label 8800 1750 2    50   ~ 0
AIN
$Comp
L power:+3V3 #PWR042
U 1 1 5E181F63
P 8850 1400
F 0 "#PWR042" H 8850 1250 50  0001 C CNN
F 1 "+3V3" H 8865 1573 50  0000 C CNN
F 2 "" H 8850 1400 50  0001 C CNN
F 3 "" H 8850 1400 50  0001 C CNN
	1    8850 1400
	-1   0    0    -1  
$EndComp
$Comp
L Device:R R21
U 1 1 5E181C44
P 8850 1950
F 0 "R21" V 8750 1950 50  0000 C CNN
F 1 "4K7" V 8850 1950 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 8780 1950 50  0001 C CNN
F 3 "~" H 8850 1950 50  0001 C CNN
	1    8850 1950
	-1   0    0    -1  
$EndComp
$Comp
L Device:R R20
U 1 1 5E1818FA
P 8850 1550
F 0 "R20" V 8750 1550 50  0000 C CNN
F 1 "4K7" V 8850 1550 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 8780 1550 50  0001 C CNN
F 3 "~" H 8850 1550 50  0001 C CNN
	1    8850 1550
	-1   0    0    -1  
$EndComp
Connection ~ 8850 1750
Wire Wire Line
	8850 1750 8850 1800
Wire Wire Line
	8600 1750 8850 1750
Wire Wire Line
	8600 1750 8450 1750
Wire Wire Line
	8450 1750 8450 1800
Connection ~ 8600 1750
Text Label 1150 5350 2    50   ~ 0
Board_ID
Wire Wire Line
	2500 4400 2950 4400
Wire Wire Line
	2500 4450 2500 4400
Wire Wire Line
	2950 4450 2950 4400
Wire Wire Line
	2500 5050 2500 5000
Wire Wire Line
	2500 5000 2950 5000
Wire Wire Line
	2950 5050 2950 5000
Wire Wire Line
	2950 4400 3350 4400
Wire Wire Line
	3350 4400 3350 5000
Connection ~ 2950 4400
$Comp
L Connector_Generic:Conn_01x14 J5
U 1 1 5E9BF3D9
P 10150 3600
F 0 "J5" H 10068 4417 50  0000 C CNN
F 1 "Target" H 10068 4326 50  0000 C CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_1x14_P2.54mm_Vertical" H 10150 3600 50  0001 C CNN
F 3 "~" H 10150 3600 50  0001 C CNN
	1    10150 3600
	-1   0    0    -1  
$EndComp
$Comp
L Connector_Generic:Conn_01x14 J3
U 1 1 5E9BE3A0
P 9900 3600
F 0 "J3" H 9850 4450 50  0000 L CNN
F 1 "Self" H 9800 4350 50  0000 L CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_1x14_P2.54mm_Vertical" H 9900 3600 50  0001 C CNN
F 3 "~" H 9900 3600 50  0001 C CNN
	1    9900 3600
	1    0    0    -1  
$EndComp
Text Notes 2950 4350 0    50   ~ 0
KA-NUCLEO-F411CE uses STM32F103CBU6 as STLink\nGreen Pill uses STM32F103CBT6 as Black Magic Probe\nSpeedy uses STM32F103C8T6 as STLink v2.1\nBlack Magic Probe 2.1 uses STM32F103BBU6\nSTM32+MSD +VCP or STM32+AUDIO can be done with STM32F1xxCBxx only!\nOther wise: "The up-to-date firmware is too big for this board"
Wire Wire Line
	2950 5000 3350 5000
Connection ~ 2950 5000
Text Notes 5900 7300 0    100  Italic 20
Board ID
Connection ~ 6400 5300
Wire Wire Line
	6350 5300 6400 5300
Wire Wire Line
	6450 5300 6400 5300
Wire Wire Line
	6400 5400 6400 5300
Wire Wire Line
	6800 5250 6800 5300
Wire Wire Line
	6800 5300 6750 5300
$Comp
L power:GNDD #PWR027
U 1 1 5E9889FD
P 6400 6750
F 0 "#PWR027" H 6400 6500 50  0001 C CNN
F 1 "GNDD" H 6404 6595 50  0000 C CNN
F 2 "" H 6400 6750 50  0001 C CNN
F 3 "" H 6400 6750 50  0001 C CNN
	1    6400 6750
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR028
U 1 1 5E98867B
P 6400 5700
F 0 "#PWR028" H 6400 5450 50  0001 C CNN
F 1 "GNDD" H 6404 5545 50  0000 C CNN
F 2 "" H 6400 5700 50  0001 C CNN
F 3 "" H 6400 5700 50  0001 C CNN
	1    6400 5700
	1    0    0    -1  
$EndComp
Connection ~ 6400 6250
Wire Wire Line
	6350 6250 6400 6250
Text Label 6350 6250 2    50   ~ 0
BOOT_0
Wire Wire Line
	6400 6700 6400 6750
Connection ~ 6400 6700
Wire Wire Line
	6400 6700 6350 6700
Wire Wire Line
	6450 6250 6400 6250
Text Label 6350 6700 2    50   ~ 0
BOOT_1
Text Label 6350 5300 2    50   ~ 0
STLINK_NRST
Wire Wire Line
	6400 6650 6400 6700
Wire Wire Line
	6400 6250 6400 6350
$Comp
L Device:R R14
U 1 1 5E1756E2
P 6600 6250
F 0 "R14" V 6500 6250 50  0000 C CNN
F 1 "100K" V 6600 6250 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 6530 6250 50  0001 C CNN
F 3 "~" H 6600 6250 50  0001 C CNN
	1    6600 6250
	0    -1   -1   0   
$EndComp
$Comp
L Device:C C11
U 1 1 5E1756DC
P 6400 6500
F 0 "C11" H 6515 6546 50  0000 L CNN
F 1 "100nF" H 6515 6455 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 6438 6350 50  0001 C CNN
F 3 "~" H 6400 6500 50  0001 C CNN
	1    6400 6500
	-1   0    0    1   
$EndComp
$Comp
L power:+3V3 #PWR032
U 1 1 5E16CE06
P 6800 5250
F 0 "#PWR032" H 6800 5100 50  0001 C CNN
F 1 "+3V3" H 6815 5423 50  0000 C CNN
F 2 "" H 6800 5250 50  0001 C CNN
F 3 "" H 6800 5250 50  0001 C CNN
	1    6800 5250
	1    0    0    -1  
$EndComp
$Comp
L Device:R R16
U 1 1 5E16C5AC
P 6600 5300
F 0 "R16" V 6500 5300 50  0000 C CNN
F 1 "100K" V 6600 5300 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 6530 5300 50  0001 C CNN
F 3 "~" H 6600 5300 50  0001 C CNN
	1    6600 5300
	0    -1   -1   0   
$EndComp
$Comp
L Device:C C12
U 1 1 5E16BE82
P 6400 5550
F 0 "C12" H 6515 5596 50  0000 L CNN
F 1 "100nF" H 6515 5505 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 6438 5400 50  0001 C CNN
F 3 "~" H 6400 5550 50  0001 C CNN
	1    6400 5550
	-1   0    0    1   
$EndComp
Text Notes 5850 6150 0    100  Italic 20
Boot Mode
Text Notes 5850 5200 0    100  Italic 20
Reset
Wire Wire Line
	6350 7450 6450 7450
Text Label 6350 7450 2    50   ~ 0
Board_ID
$Comp
L Device:R R15
U 1 1 5E1678D4
P 6600 7450
F 0 "R15" V 6500 7450 50  0000 C CNN
F 1 "10K" V 6600 7450 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 6530 7450 50  0001 C CNN
F 3 "~" H 6600 7450 50  0001 C CNN
	1    6600 7450
	0    1    1    0   
$EndComp
Wire Wire Line
	6750 7450 6800 7450
Wire Wire Line
	6800 7450 6800 7500
$Comp
L power:GNDD #PWR031
U 1 1 5E97DE44
P 6800 7500
F 0 "#PWR031" H 6800 7250 50  0001 C CNN
F 1 "GNDD" H 6804 7345 50  0000 C CNN
F 2 "" H 6800 7500 50  0001 C CNN
F 3 "" H 6800 7500 50  0001 C CNN
	1    6800 7500
	-1   0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR030
U 1 1 5E989001
P 6800 6300
F 0 "#PWR030" H 6800 6050 50  0001 C CNN
F 1 "GNDD" H 6804 6145 50  0000 C CNN
F 2 "" H 6800 6300 50  0001 C CNN
F 3 "" H 6800 6300 50  0001 C CNN
	1    6800 6300
	1    0    0    -1  
$EndComp
Wire Wire Line
	6800 6300 6800 6250
Wire Wire Line
	6800 6250 6750 6250
$Comp
L Device:R R13
U 1 1 5E157BB6
P 5700 1000
F 0 "R13" V 5600 1000 50  0000 C CNN
F 1 "330R" V 5700 1000 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 5630 1000 50  0001 C CNN
F 3 "~" H 5700 1000 50  0001 C CNN
	1    5700 1000
	0    1    1    0   
$EndComp
$Comp
L Device:R R12
U 1 1 5E1582BC
P 6600 800
F 0 "R12" V 6500 800 50  0000 C CNN
F 1 "330R" V 6600 800 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 6530 800 50  0001 C CNN
F 3 "~" H 6600 800 50  0001 C CNN
	1    6600 800 
	0    -1   -1   0   
$EndComp
$Comp
L Device:LED_Dual_CACA D2
U 1 1 5E1DAD1B
P 6150 900
F 0 "D2" H 6150 553 50  0000 C CNN
F 1 "LED_Dual_CACA" H 6150 644 50  0000 C CNN
F 2 "LED_SMD:LED_Avago_PLCC4_3.2x2.8mm_CW" H 6180 900 50  0001 C CNN
F 3 "~" H 6180 900 50  0001 C CNN
	1    6150 900 
	-1   0    0    1   
$EndComp
Text Label 6750 800  0    50   ~ 0
STLINK_LED
$Comp
L power:GNDD #PWR0101
U 1 1 5ED115B2
P 6500 1050
F 0 "#PWR0101" H 6500 800 50  0001 C CNN
F 1 "GNDD" H 6504 895 50  0000 C CNN
F 2 "" H 6500 1050 50  0001 C CNN
F 3 "" H 6500 1050 50  0001 C CNN
	1    6500 1050
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR0102
U 1 1 5ED11C16
P 5700 750
F 0 "#PWR0102" H 5700 600 50  0001 C CNN
F 1 "+3V3" H 5715 923 50  0000 C CNN
F 2 "" H 5700 750 50  0001 C CNN
F 3 "" H 5700 750 50  0001 C CNN
	1    5700 750 
	1    0    0    -1  
$EndComp
Wire Wire Line
	6450 1000 6500 1000
Wire Wire Line
	6500 1000 6500 1050
Wire Wire Line
	5700 800  5700 750 
Wire Wire Line
	5700 800  5850 800 
Connection ~ 6000 4250
Wire Wire Line
	6000 3850 6000 4250
Wire Wire Line
	6000 4350 6000 4250
Wire Wire Line
	6700 3850 6000 3850
Wire Wire Line
	6350 3950 6350 4050
Wire Wire Line
	6100 3950 6350 3950
Wire Wire Line
	6100 4000 6100 3950
Connection ~ 6650 4250
Wire Wire Line
	6700 4250 6650 4250
Wire Wire Line
	6000 4250 6200 4250
Wire Wire Line
	6650 4250 6650 4350
Wire Wire Line
	6500 4250 6650 4250
Wire Wire Line
	6350 4650 6350 4450
$Comp
L power:GNDD #PWR021
U 1 1 5E9B91C8
P 6100 4000
F 0 "#PWR021" H 6100 3750 50  0001 C CNN
F 1 "GNDD" H 6104 3845 50  0000 C CNN
F 2 "" H 6100 4000 50  0001 C CNN
F 3 "" H 6100 4000 50  0001 C CNN
	1    6100 4000
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR020
U 1 1 5E9AFB9C
P 6350 4650
F 0 "#PWR020" H 6350 4400 50  0001 C CNN
F 1 "GNDD" H 6354 4495 50  0000 C CNN
F 2 "" H 6350 4650 50  0001 C CNN
F 3 "" H 6350 4650 50  0001 C CNN
	1    6350 4650
	1    0    0    -1  
$EndComp
$Comp
L Device:Crystal_GND24 Y1
U 1 1 5E8D8430
P 6350 4250
F 0 "Y1" H 6500 4450 50  0000 L CNN
F 1 "8MHz" H 6500 4350 50  0000 L CNN
F 2 "Crystal:Crystal_SMD_Abracon_ABM8G-4Pin_3.2x2.5mm" H 6350 4250 50  0001 C CNN
F 3 "~" H 6350 4250 50  0001 C CNN
	1    6350 4250
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR018
U 1 1 5E989CA2
P 6000 4650
F 0 "#PWR018" H 6000 4400 50  0001 C CNN
F 1 "GNDD" H 6004 4495 50  0000 C CNN
F 2 "" H 6000 4650 50  0001 C CNN
F 3 "" H 6000 4650 50  0001 C CNN
	1    6000 4650
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR023
U 1 1 5E989614
P 6650 4650
F 0 "#PWR023" H 6650 4400 50  0001 C CNN
F 1 "GNDD" H 6654 4495 50  0000 C CNN
F 2 "" H 6650 4650 50  0001 C CNN
F 3 "" H 6650 4650 50  0001 C CNN
	1    6650 4650
	1    0    0    -1  
$EndComp
Text Label 6700 4250 0    50   ~ 0
STLINK_OST_OUT
Text Label 6700 3850 0    50   ~ 0
STLINK_OSC_IN
$Comp
L Device:C C8
U 1 1 5E15D93C
P 6000 4500
F 0 "C8" H 6115 4546 50  0000 L CNN
F 1 "12pF" H 6115 4455 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 6038 4350 50  0001 C CNN
F 3 "~" H 6000 4500 50  0001 C CNN
	1    6000 4500
	1    0    0    -1  
$EndComp
$Comp
L Device:C C9
U 1 1 5E15D50F
P 6650 4500
F 0 "C9" H 6765 4546 50  0000 L CNN
F 1 "12pF" H 6765 4455 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 6688 4350 50  0001 C CNN
F 3 "~" H 6650 4500 50  0001 C CNN
	1    6650 4500
	1    0    0    -1  
$EndComp
Text Notes 5900 3750 0    100  Italic 20
HSE
Text Notes 10050 4550 0    50   ~ 0
Pinout of right side is like on\nSTLink v3 (MB1440B)
Wire Wire Line
	3350 5400 3350 5000
Connection ~ 3350 5000
Wire Wire Line
	2600 6750 2450 6750
Text Notes 9950 4550 2    50   ~ 0
Just in case to convert into\nBlack Magic Probe
Wire Wire Line
	4900 7500 4900 7450
Wire Wire Line
	4800 7450 4800 7500
Connection ~ 4800 7500
Wire Wire Line
	4800 7500 4900 7500
Wire Wire Line
	4700 7450 4700 7500
Connection ~ 4700 7500
Wire Wire Line
	4700 7500 4800 7500
Wire Wire Line
	4600 7450 4600 7500
Connection ~ 4600 7500
Wire Wire Line
	4600 7500 4700 7500
Wire Wire Line
	4500 7450 4500 7500
Wire Wire Line
	4500 7500 4600 7500
$Comp
L power:GNDD #PWR?
U 1 1 5EC7BAF8
P 4900 7550
F 0 "#PWR?" H 4900 7300 50  0001 C CNN
F 1 "GNDD" H 4904 7395 50  0000 C CNN
F 2 "" H 4900 7550 50  0001 C CNN
F 3 "" H 4900 7550 50  0001 C CNN
	1    4900 7550
	1    0    0    -1  
$EndComp
Wire Wire Line
	4900 7550 4900 7500
Connection ~ 4900 7500
Text Notes 1850 7700 0    50   Italic 10
Second microcontroller is added for possibility to use different package.\nSolder one microcontroller only.
Text Label 5300 6450 0    50   ~ 0
T_JTDI
Text Label 5300 5750 0    50   ~ 0
AIN
Text Label 5300 5950 0    50   ~ 0
STLINK_TX
Text Label 5300 6050 0    50   ~ 0
STLINK_RX
Text Label 5300 6250 0    50   ~ 0
T_SWDCLK
Text Label 4000 6950 2    50   ~ 0
T_SWDIO_IN
Text Label 4000 6750 2    50   ~ 0
T_SWIM_IN
Text Label 4000 6850 2    50   ~ 0
T_SWIM
Text Label 4000 6650 2    50   ~ 0
T_SWIM_IN
Text Label 4000 6550 2    50   ~ 0
T_SWIM
Text Label 4000 6450 2    50   ~ 0
T_SWIM_IN
Text Label 4000 6350 2    50   ~ 0
T_NRST_SWIM
Text Label 4000 6250 2    50   ~ 0
T_NRST_SWIM_IN
Text Label 4000 7050 2    50   ~ 0
T_SWDCLK
Text Label 4000 7150 2    50   ~ 0
T_SWDIO
Text Label 4000 6050 2    50   ~ 0
SWO
Text Label 4000 5950 2    50   ~ 0
BOOT_1
Text Label 4000 5750 2    50   ~ 0
T_NRST_SWD
Text Label 5300 7050 0    50   ~ 0
SWDIO
Text Label 5300 7150 0    50   ~ 0
SWDCLK
Text Label 5300 6950 0    50   ~ 0
STLINK_USB_D+
Text Label 5300 7250 0    50   ~ 0
USB_RENUMn
Text Label 5300 6850 0    50   ~ 0
STLINK_USB_D-
Text Label 5300 6750 0    50   ~ 0
RX
Text Label 5300 6650 0    50   ~ 0
TX
NoConn ~ 5300 6550
NoConn ~ 5300 6350
NoConn ~ 5300 6150
NoConn ~ 5300 5850
NoConn ~ 4000 7250
NoConn ~ 4000 6150
NoConn ~ 4000 5850
NoConn ~ 4000 5550
NoConn ~ 4000 5450
Text Label 4000 5350 2    50   ~ 0
Board_ID
Text Label 4000 5150 2    50   ~ 0
STLINK_OST_OUT
Text Label 4000 5050 2    50   ~ 0
STLINK_OSC_IN
Text Label 4000 4850 2    50   ~ 0
BOOT_0
Wire Wire Line
	4500 4450 4500 4400
Wire Wire Line
	4600 4400 4500 4400
Connection ~ 4600 4400
Wire Wire Line
	4600 4450 4600 4400
Wire Wire Line
	4700 4400 4600 4400
Connection ~ 4700 4400
Wire Wire Line
	4700 4450 4700 4400
Wire Wire Line
	4800 4400 4700 4400
Connection ~ 4800 4400
Wire Wire Line
	4800 4450 4800 4400
Wire Wire Line
	4900 4400 4800 4400
Wire Wire Line
	4900 4450 4900 4400
Text Label 4000 4650 2    50   ~ 0
STLINK_NRST
$Comp
L MCU_ST_STM32F1:STM32F103CBUx U?
U 1 1 5EC7BB3B
P 4700 5950
F 0 "U?" H 5000 4400 50  0000 C CNN
F 1 "STM32F103CBUx" H 5250 4500 50  0000 C CNN
F 2 "Package_DFN_QFN:QFN-48-1EP_7x7mm_P0.5mm_EP5.6x5.6mm" H 4100 4550 50  0001 R CNN
F 3 "http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/CD00161566.pdf" H 4700 5950 50  0001 C CNN
	1    4700 5950
	1    0    0    -1  
$EndComp
Wire Wire Line
	4500 4400 3350 4400
Connection ~ 4500 4400
Connection ~ 3350 4400
$EndSCHEMATC
