EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 2
Title "ST-Link v2.1 Mini Hybrid"
Date ""
Rev ""
Comp ""
Comment1 "For SWD/SWIM/VCP isolation consided ISO7231 or ISO764xFM"
Comment2 "For USB isolation consider Si8606AC-B-IS1 or ADuM5000/5001 or ADuM1200/1201"
Comment3 "For ESD protection of SWD/SWIM/VCP consider ESDA6V1BC6, of TXS0108E for level shifting"
Comment4 "For ESD protection of USB consider NUP2201 or USBLC6-2P6"
$EndDescr
Text Notes 650  700  0    100  Italic 20
USB Type C as USB 2.0 + VCP and protection
$Comp
L power:VBUS #PWR02
U 1 1 5E13DC98
P 2000 1050
F 0 "#PWR02" H 2000 900 50  0001 C CNN
F 1 "VBUS" H 2015 1223 50  0000 C CNN
F 2 "" H 2000 1050 50  0001 C CNN
F 3 "" H 2000 1050 50  0001 C CNN
	1    2000 1050
	1    0    0    -1  
$EndComp
$Comp
L Device:R R5
U 1 1 5E13FFFA
P 1750 1400
F 0 "R5" V 1650 1400 50  0000 C CNN
F 1 "5K1" V 1750 1400 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 1680 1400 50  0001 C CNN
F 3 "~" H 1750 1400 50  0001 C CNN
	1    1750 1400
	0    -1   -1   0   
$EndComp
Wire Wire Line
	1950 1300 1950 1400
Wire Wire Line
	1950 1400 1900 1400
$Comp
L Device:R R3
U 1 1 5E140D7A
P 1750 1300
F 0 "R3" V 1850 1300 50  0000 C CNN
F 1 "5K1" V 1750 1300 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 1680 1300 50  0001 C CNN
F 3 "~" H 1750 1300 50  0001 C CNN
	1    1750 1300
	0    -1   -1   0   
$EndComp
NoConn ~ 1550 2200
NoConn ~ 1550 2300
Text Notes 1100 2700 0    50   ~ 0
If used connector with ID pin: \npull it down with 100K resistor
Wire Notes Line
	4500 550  4500 3150
Text Notes 4650 2050 0    100  Italic 20
Status LED
Text Notes 4600 700  0    100  Italic 20
Target Power On and Detection
Text Notes 8450 5200 2    100  ~ 0
Self-programming
Text Notes 7300 5350 2    50   ~ 0
SWD:
Text Notes 7450 5850 2    50   ~ 0
UART:
Text GLabel 7800 6050 2    50   Input ~ 0
Self_RX(h)
Text GLabel 7800 5950 2    50   Input ~ 0
Self_TX(h)
$Comp
L Device:C C7
U 1 1 5E1A6774
P 6400 1500
F 0 "C7" H 6515 1546 50  0000 L CNN
F 1 "100nF" H 6515 1455 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 6438 1350 50  0001 C CNN
F 3 "~" H 6400 1500 50  0001 C CNN
	1    6400 1500
	1    0    0    1   
$EndComp
Text Notes 550  3050 0    100  Italic 20
Microcontroller core
$Comp
L Device:R R9
U 1 1 5E1E8B0C
P 5450 1500
F 0 "R9" V 5350 1500 50  0000 C CNN
F 1 "4K7" V 5450 1500 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 5380 1500 50  0001 C CNN
F 3 "~" H 5450 1500 50  0001 C CNN
	1    5450 1500
	1    0    0    -1  
$EndComp
$Comp
L Diode:BAT60A D2
U 1 1 5E1E8FE6
P 5650 1300
F 0 "D2" H 5650 1084 50  0000 C CNN
F 1 "BAT60A" H 5650 1175 50  0000 C CNN
F 2 "Diode_SMD:D_SOD-323" H 5650 1125 50  0001 C CNN
F 3 "https://www.infineon.com/dgdl/Infineon-BAT60ASERIES-DS-v01_01-en.pdf?fileId=db3a304313d846880113def70c9304a9" H 5650 1300 50  0001 C CNN
	1    5650 1300
	-1   0    0    1   
$EndComp
$Comp
L Device:R R4
U 1 1 5E1EA491
P 5950 1300
F 0 "R4" V 5850 1300 50  0000 C CNN
F 1 "100R" V 5950 1300 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 5880 1300 50  0001 C CNN
F 3 "~" H 5950 1300 50  0001 C CNN
	1    5950 1300
	0    -1   -1   0   
$EndComp
Wire Wire Line
	5400 1300 5450 1300
Wire Wire Line
	5450 1350 5450 1300
Connection ~ 5450 1300
Text GLabel 9350 3550 2    50   Output ~ 0
T_SWO(h)
Text GLabel 9350 3350 2    50   Output ~ 0
T_SWDCLK(h)
Text GLabel 9350 3150 2    50   Output ~ 0
T_NRST_SWD(h)
Text GLabel 9350 4150 2    50   Input ~ 0
T_VCP_TX(h)
Text GLabel 9350 4050 2    50   Output ~ 0
T_VCP_RX(h)
Text Notes 6950 4900 0    150  Italic 30
Inner Wiring Of Interfaces 
Text Notes 7000 5000 0    50   ~ 0
Labels ended with "(h)" are conected to headers
Text Notes 7500 3900 0    50   ~ 0
Compatible with 10-pin\nCortex Debug Connector
Text Notes 2450 2250 0    50   ~ 0
MMBT9013 (SOT-23) is pinout compatible with:\n- MMBT2222 (STM8 Nucleo32)\n- MMBT3904 (Maple Mini, marking 1AM)\n- BC847\n
Wire Notes Line
	7100 550  7100 3150
$Comp
L Regulator_Linear:AMS1117-3.3 U1
U 1 1 5E261E11
P 8400 1100
F 0 "U1" H 8400 1342 50  0000 C CNN
F 1 "AMS1117-3.3" H 8400 1251 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-223-3_TabPin2" H 8400 1300 50  0001 C CNN
F 3 "http://www.advanced-monolithic.com/pdf/ds1117.pdf" H 8500 850 50  0001 C CNN
	1    8400 1100
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR05
U 1 1 5E2642AA
P 8750 1050
F 0 "#PWR05" H 8750 900 50  0001 C CNN
F 1 "+3V3" H 8765 1223 50  0000 C CNN
F 2 "" H 8750 1050 50  0001 C CNN
F 3 "" H 8750 1050 50  0001 C CNN
	1    8750 1050
	1    0    0    -1  
$EndComp
$Comp
L Device:CP C3
U 1 1 5E26F813
P 8750 1300
F 0 "C3" H 8868 1346 50  0000 L CNN
F 1 "22uF" H 8868 1255 50  0000 L CNN
F 2 "Capacitor_Tantalum_SMD:CP_EIA-7343-30_AVX-N" H 8788 1150 50  0001 C CNN
F 3 "~" H 8750 1300 50  0001 C CNN
	1    8750 1300
	1    0    0    -1  
$EndComp
$Comp
L Device:CP C1
U 1 1 5E270620
P 7450 1300
F 0 "C1" H 7568 1346 50  0000 L CNN
F 1 "22uF" H 7568 1255 50  0000 L CNN
F 2 "Capacitor_Tantalum_SMD:CP_EIA-7343-30_AVX-N" H 7488 1150 50  0001 C CNN
F 3 "~" H 7450 1300 50  0001 C CNN
	1    7450 1300
	1    0    0    -1  
$EndComp
$Comp
L Diode:BAT60A D1
U 1 1 5E278C95
P 1750 1100
F 0 "D1" H 1750 884 50  0000 C CNN
F 1 "BAT60A" H 1750 975 50  0000 C CNN
F 2 "Diode_SMD:D_SOD-323" H 1750 925 50  0001 C CNN
F 3 "https://www.infineon.com/dgdl/Infineon-BAT60ASERIES-DS-v01_01-en.pdf?fileId=db3a304313d846880113def70c9304a9" H 1750 1100 50  0001 C CNN
	1    1750 1100
	-1   0    0    1   
$EndComp
$Comp
L Device:C C2
U 1 1 5E280507
P 7850 1300
F 0 "C2" H 7965 1346 50  0000 L CNN
F 1 "100nF" H 7965 1255 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 7888 1150 50  0001 C CNN
F 3 "~" H 7850 1300 50  0001 C CNN
	1    7850 1300
	1    0    0    -1  
$EndComp
Wire Wire Line
	7850 1100 7850 1150
Wire Wire Line
	7450 1050 7450 1100
Wire Wire Line
	7850 1100 7450 1100
Connection ~ 7450 1100
Wire Wire Line
	7450 1100 7450 1150
Wire Wire Line
	8700 1100 8750 1100
Wire Wire Line
	8750 1150 8750 1100
Wire Wire Line
	8400 1450 8400 1400
Text GLabel 7800 6150 2    50   Input ~ 0
BOOT_0(h)
Text Notes 4700 3050 0    50   ~ 0
Top LED : Green\nBottom : Red\nPackage : 3528 (PLCC-4)\nExample : LSG T676
Text Notes 2450 2700 0    50   ~ 0
STLINK_USB_D(+) and STLINK_USB_D(-):\nshould be a differential pair approx. 90 Ohm\nLength diference of those traces \nmust be  <1.1 mm\nthe 22 Ohm resistros can be replaced by 0 Ohms.
Text GLabel 9350 3450 2    50   Output ~ 0
T_SWDIO(h)
Text GLabel 7800 5650 2    50   Input ~ 0
Self_SWDIO(h)
Text GLabel 7800 5450 2    50   Input ~ 0
Self_NRST(h)
Text GLabel 7800 5550 2    50   Input ~ 0
Self_SWDCLK(h)
Text GLabel 7800 5750 2    50   Input ~ 0
Self_SWO(h)
Wire Wire Line
	7750 5750 7800 5750
Wire Wire Line
	7750 5650 7800 5650
Wire Wire Line
	7750 6150 7800 6150
Wire Wire Line
	7750 6050 7800 6050
Wire Wire Line
	7750 5950 7800 5950
$Comp
L power:GNDD #PWR029
U 1 1 5EA16FC5
P 950 2600
F 0 "#PWR029" H 950 2350 50  0001 C CNN
F 1 "GNDD" H 954 2445 50  0000 C CNN
F 2 "" H 950 2600 50  0001 C CNN
F 3 "" H 950 2600 50  0001 C CNN
	1    950  2600
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR012
U 1 1 5EA175AD
P 2150 1450
F 0 "#PWR012" H 2150 1200 50  0001 C CNN
F 1 "GNDD" H 2154 1295 50  0000 C CNN
F 2 "" H 2150 1450 50  0001 C CNN
F 3 "" H 2150 1450 50  0001 C CNN
	1    2150 1450
	1    0    0    -1  
$EndComp
Wire Wire Line
	1900 1300 1950 1300
$Comp
L power:GNDD #PWR023
U 1 1 5E97D0F3
P 6400 1650
F 0 "#PWR023" H 6400 1400 50  0001 C CNN
F 1 "GNDD" H 6404 1495 50  0000 C CNN
F 2 "" H 6400 1650 50  0001 C CNN
F 3 "" H 6400 1650 50  0001 C CNN
	1    6400 1650
	-1   0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR021
U 1 1 5E97D9F0
P 5450 1650
F 0 "#PWR021" H 5450 1400 50  0001 C CNN
F 1 "GNDD" H 5454 1495 50  0000 C CNN
F 2 "" H 5450 1650 50  0001 C CNN
F 3 "" H 5450 1650 50  0001 C CNN
	1    5450 1650
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR035
U 1 1 5E97F8B9
P 8850 4400
F 0 "#PWR035" H 8850 4150 50  0001 C CNN
F 1 "GNDD" H 8854 4245 50  0000 C CNN
F 2 "" H 8850 4400 50  0001 C CNN
F 3 "" H 8850 4400 50  0001 C CNN
	1    8850 4400
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR013
U 1 1 5E97FE88
P 7450 1450
F 0 "#PWR013" H 7450 1200 50  0001 C CNN
F 1 "GNDD" H 7454 1295 50  0000 C CNN
F 2 "" H 7450 1450 50  0001 C CNN
F 3 "" H 7450 1450 50  0001 C CNN
	1    7450 1450
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR014
U 1 1 5E980599
P 7850 1450
F 0 "#PWR014" H 7850 1200 50  0001 C CNN
F 1 "GNDD" H 7854 1295 50  0000 C CNN
F 2 "" H 7850 1450 50  0001 C CNN
F 3 "" H 7850 1450 50  0001 C CNN
	1    7850 1450
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR015
U 1 1 5E980880
P 8400 1450
F 0 "#PWR015" H 8400 1200 50  0001 C CNN
F 1 "GNDD" H 8404 1295 50  0000 C CNN
F 2 "" H 8400 1450 50  0001 C CNN
F 3 "" H 8400 1450 50  0001 C CNN
	1    8400 1450
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR016
U 1 1 5E980BC3
P 8750 1450
F 0 "#PWR016" H 8750 1200 50  0001 C CNN
F 1 "GNDD" H 8754 1295 50  0000 C CNN
F 2 "" H 8750 1450 50  0001 C CNN
F 3 "" H 8750 1450 50  0001 C CNN
	1    8750 1450
	1    0    0    -1  
$EndComp
Text Notes 7000 6400 0    50   ~ 0
To flash programmer with UART:\nshorten BOOT0 to +3.3V and reboot
Text Notes 2150 1100 0    50   ~ 0
or SS14\nor PMEG2010\nor MBR130
Text Notes 550  3650 0    50   ~ 0
Original boards use as ST-link V2.1:\n- STM32F103CBT6 : Nucleo 32 boards [STM8 and STM32F]\n- STM32F103CBT6TR : Nucleo 64 boards with STM8\nOriginal boards use as ST-Link V2:\n- STM32F103C8T6 : F4Discovery\nSTLink clones use STM32F101****\nSome clones use CKS32F103C8xx
Text Notes 8150 2800 0    50   ~ 0
STDC-14: SAMTEC FTSH-107-01-L-DV-K-A
Wire Wire Line
	10350 6200 10150 6200
Text Notes 8550 5200 0    100  ~ 0
Target Programming
Wire Wire Line
	7750 5550 7800 5550
Wire Wire Line
	7750 5450 7800 5450
Wire Notes Line
	8500 5100 8500 6450
Wire Notes Line
	6950 6450 6950 5050
Wire Notes Line
	6950 5050 11200 5050
$Comp
L power:GNDD #PWR031
U 1 1 5E97E7C6
P 11050 3350
F 0 "#PWR031" H 11050 3100 50  0001 C CNN
F 1 "GNDD" H 11054 3195 50  0000 C CNN
F 2 "" H 11050 3350 50  0001 C CNN
F 3 "" H 11050 3350 50  0001 C CNN
	1    11050 3350
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR034
U 1 1 5E97E441
P 11050 4200
F 0 "#PWR034" H 11050 3950 50  0001 C CNN
F 1 "GNDD" H 11054 4045 50  0000 C CNN
F 2 "" H 11050 4200 50  0001 C CNN
F 3 "" H 11050 4200 50  0001 C CNN
	1    11050 4200
	1    0    0    -1  
$EndComp
Wire Wire Line
	11050 4150 11050 4200
Wire Wire Line
	10300 4150 11050 4150
Wire Wire Line
	11050 3300 11050 3350
Wire Wire Line
	10300 3300 11050 3300
Text GLabel 10300 4350 2    50   Input ~ 0
T_VCP_TX(h)
Text GLabel 10300 4450 2    50   Output ~ 0
T_VCP_RX(h)
Text GLabel 10300 3500 2    50   Output ~ 0
T_NRST_SWD(h)
Text GLabel 10300 3200 2    50   Output ~ 0
T_SWDCLK(h)
Text GLabel 10300 3400 2    50   Output ~ 0
T_SWDIO(h)
Text GLabel 10300 3950 2    50   Input ~ 0
T_Vref
Text GLabel 10300 4250 2    50   Output ~ 0
T_NRST_SWIM(h)
Text GLabel 10300 4050 2    50   Input ~ 0
T_SWIM(h)
Text Notes 8000 2700 0    100  Italic 20
Target Programming Connectors
Text GLabel 10300 3600 2    50   Input ~ 0
T_SWO(h)
Text Notes 5550 1500 0    50   ~ 0
or:\n1N5817
Text Notes 4650 1600 0    50   ~ 0
Vref PullDown\ncan be 10K
$Comp
L Device:R R1
U 1 1 5E14689D
P 3600 1100
F 0 "R1" V 3700 1100 50  0000 C CNN
F 1 "1K5" V 3600 1100 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 3530 1100 50  0001 C CNN
F 3 "~" H 3600 1100 50  0001 C CNN
	1    3600 1100
	0    1    -1   0   
$EndComp
$Comp
L power:+3V3 #PWR03
U 1 1 5E97CB86
P 2900 1050
F 0 "#PWR03" H 2900 900 50  0001 C CNN
F 1 "+3V3" H 2915 1223 50  0000 C CNN
F 2 "" H 2900 1050 50  0001 C CNN
F 3 "" H 2900 1050 50  0001 C CNN
	1    2900 1050
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR020
U 1 1 5E987C5A
P 3650 1550
F 0 "#PWR020" H 3650 1300 50  0001 C CNN
F 1 "GNDD" H 3654 1395 50  0000 C CNN
F 2 "" H 3650 1550 50  0001 C CNN
F 3 "" H 3650 1550 50  0001 C CNN
	1    3650 1550
	1    0    0    -1  
$EndComp
Wire Wire Line
	8100 1100 7850 1100
Connection ~ 7850 1100
$Comp
L Device:R R27
U 1 1 5E1611CA
P 10000 6200
F 0 "R27" V 10050 6000 50  0000 C CNN
F 1 "47R" V 10000 6200 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 9930 6200 50  0001 C CNN
F 3 "~" H 10000 6200 50  0001 C CNN
	1    10000 6200
	0    -1   -1   0   
$EndComp
Text Notes 7400 750  0    100  Italic 20
Power Regulator
Wire Wire Line
	4900 1200 4850 1200
Wire Wire Line
	4850 1200 4850 1150
Wire Wire Line
	4900 1300 4650 1300
Wire Wire Line
	4650 1300 4650 1150
$Comp
L power:+3V3 #PWR07
U 1 1 5EA68D52
P 4850 1150
F 0 "#PWR07" H 4850 1000 50  0001 C CNN
F 1 "+3V3" H 4865 1323 50  0000 C CNN
F 2 "" H 4850 1150 50  0001 C CNN
F 3 "" H 4850 1150 50  0001 C CNN
	1    4850 1150
	1    0    0    -1  
$EndComp
$Comp
L Connector_Generic:Conn_02x02_Odd_Even J1
U 1 1 5E9AB85E
P 5100 1200
F 0 "J1" H 5150 1417 50  0000 C CNN
F 1 "Power Target" H 5150 1326 50  0000 C CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_2x02_P2.54mm_Vertical" H 5100 1200 50  0001 C CNN
F 3 "~" H 5100 1200 50  0001 C CNN
	1    5100 1200
	1    0    0    -1  
$EndComp
Wire Wire Line
	5400 1200 5450 1200
Wire Wire Line
	5450 1200 5450 1300
Connection ~ 5450 1200
Wire Notes Line
	7300 2450 11150 2450
$Comp
L power:GNDD #PWR022
U 1 1 5E97D6F3
P 6150 1650
F 0 "#PWR022" H 6150 1400 50  0001 C CNN
F 1 "GNDD" H 6154 1495 50  0000 C CNN
F 2 "" H 6150 1650 50  0001 C CNN
F 3 "" H 6150 1650 50  0001 C CNN
	1    6150 1650
	-1   0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR01
U 1 1 5E181F63
P 6150 950
F 0 "#PWR01" H 6150 800 50  0001 C CNN
F 1 "+3V3" H 6165 1123 50  0000 C CNN
F 2 "" H 6150 950 50  0001 C CNN
F 3 "" H 6150 950 50  0001 C CNN
	1    6150 950 
	-1   0    0    -1  
$EndComp
$Comp
L Device:R R10
U 1 1 5E181C44
P 6150 1500
F 0 "R10" V 6050 1500 50  0000 C CNN
F 1 "4K7" V 6150 1500 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 6080 1500 50  0001 C CNN
F 3 "~" H 6150 1500 50  0001 C CNN
	1    6150 1500
	-1   0    0    -1  
$EndComp
$Comp
L Device:R R2
U 1 1 5E1818FA
P 6150 1100
F 0 "R2" V 6050 1100 50  0000 C CNN
F 1 "4K7" V 6150 1100 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 6080 1100 50  0001 C CNN
F 3 "~" H 6150 1100 50  0001 C CNN
	1    6150 1100
	-1   0    0    -1  
$EndComp
Connection ~ 6400 1300
Wire Wire Line
	6400 1300 6400 1350
Wire Wire Line
	6150 1300 6150 1350
$Comp
L power:+3V3 #PWR039
U 1 1 5E16CE06
P 4100 6750
F 0 "#PWR039" H 4100 6600 50  0001 C CNN
F 1 "+3V3" H 4115 6923 50  0000 C CNN
F 2 "" H 4100 6750 50  0001 C CNN
F 3 "" H 4100 6750 50  0001 C CNN
	1    4100 6750
	1    0    0    -1  
$EndComp
$Comp
L Device:R R29
U 1 1 5E16C5AC
P 4100 6900
F 0 "R29" V 4000 6900 50  0000 C CNN
F 1 "100K" V 4100 6900 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 4030 6900 50  0001 C CNN
F 3 "~" H 4100 6900 50  0001 C CNN
	1    4100 6900
	1    0    0    -1  
$EndComp
$Comp
L Device:C C10
U 1 1 5E16BE82
P 4100 7400
F 0 "C10" H 4215 7446 50  0000 L CNN
F 1 "100nF" H 4215 7355 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 4138 7250 50  0001 C CNN
F 3 "~" H 4100 7400 50  0001 C CNN
	1    4100 7400
	-1   0    0    1   
$EndComp
$Comp
L Device:R R14
U 1 1 5E157BB6
P 5300 2600
F 0 "R14" V 5200 2600 50  0000 C CNN
F 1 "330R" V 5300 2600 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 5230 2600 50  0001 C CNN
F 3 "~" H 5300 2600 50  0001 C CNN
	1    5300 2600
	0    1    1    0   
$EndComp
$Comp
L Device:R R13
U 1 1 5E1582BC
P 6200 2400
F 0 "R13" V 6100 2400 50  0000 C CNN
F 1 "330R" V 6200 2400 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 6130 2400 50  0001 C CNN
F 3 "~" H 6200 2400 50  0001 C CNN
	1    6200 2400
	0    -1   -1   0   
$EndComp
$Comp
L Device:LED_Dual_CACA D3
U 1 1 5E1DAD1B
P 5750 2500
F 0 "D3" H 5750 2153 50  0000 C CNN
F 1 "Status" H 5750 2244 50  0000 C CNN
F 2 "LED_SMD:LED_Avago_PLCC4_3.2x2.8mm_CW" H 5780 2500 50  0001 C CNN
F 3 "~" H 5780 2500 50  0001 C CNN
	1    5750 2500
	-1   0    0    1   
$EndComp
$Comp
L power:GNDD #PWR030
U 1 1 5ED115B2
P 6100 2650
F 0 "#PWR030" H 6100 2400 50  0001 C CNN
F 1 "GNDD" H 6104 2495 50  0000 C CNN
F 2 "" H 6100 2650 50  0001 C CNN
F 3 "" H 6100 2650 50  0001 C CNN
	1    6100 2650
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR028
U 1 1 5ED11C16
P 5300 2350
F 0 "#PWR028" H 5300 2200 50  0001 C CNN
F 1 "+3V3" H 5315 2523 50  0000 C CNN
F 2 "" H 5300 2350 50  0001 C CNN
F 3 "" H 5300 2350 50  0001 C CNN
	1    5300 2350
	1    0    0    -1  
$EndComp
Wire Wire Line
	6050 2600 6100 2600
Wire Wire Line
	6100 2600 6100 2650
Wire Wire Line
	5300 2400 5300 2350
Wire Wire Line
	5300 2400 5450 2400
Wire Wire Line
	8750 4400 8750 4350
Wire Wire Line
	8850 4400 8850 4350
NoConn ~ 9350 3850
Text GLabel 9350 3650 2    50   Output ~ 0
T_JTDI(h)
$Comp
L Connector:Conn_ST_STDC14 J4
U 1 1 5EC26E87
P 8850 3650
F 0 "J4" H 8407 3696 50  0000 R CNN
F 1 "STDC-14" H 8407 3605 50  0000 R CNN
F 2 "Connector_PinHeader_1.27mm:PinHeader_2x07_P1.27mm_Vertical_SMD" H 8850 3650 50  0001 C CNN
F 3 "https://www.st.com/content/ccc/resource/technical/document/user_manual/group1/99/49/91/b6/b2/3a/46/e5/DM00526767/files/DM00526767.pdf/jcr:content/translations/en.DM00526767.pdf" V 8500 2400 50  0001 C CNN
	1    8850 3650
	1    0    0    -1  
$EndComp
Wire Wire Line
	8800 2900 8850 2900
Wire Wire Line
	8850 2900 8850 2950
Text GLabel 10350 6200 2    50   Output ~ 0
T_NRST_SWIM(h)
Text GLabel 8800 2900 0    50   Input ~ 0
T_Vref
Text GLabel 10300 3100 2    50   Input ~ 0
T_Vref
Text GLabel 5400 850  0    50   Input ~ 0
T_Vref
$Sheet
S 11850 50   1900 700 
U 5EC31CA9
F0 "spare connectors" 50
F1 "spare connectivity.sch" 50
$EndSheet
Text GLabel 5150 2600 0    50   BiDi ~ 0
STLINK_LED
Text GLabel 6350 2400 2    50   BiDi ~ 0
STLINK_LED
Text GLabel 4050 7150 0    50   Input ~ 0
SELF_NRST
Text GLabel 7750 5450 0    50   Input ~ 0
SELF_NRST
Text GLabel 6450 1300 2    50   Input ~ 0
AIN
Wire Wire Line
	6450 1300 6400 1300
Text GLabel 7750 6150 0    50   Input ~ 0
BOOT_0
Text GLabel 1900 1800 2    50   Input ~ 0
STLINK_USB_D+
Text GLabel 1900 1700 2    50   Input ~ 0
STLINK_USB_D-
Text GLabel 7750 5650 0    50   Input ~ 0
SWDIO
Text GLabel 7750 5550 0    50   Input ~ 0
SWDCLK
Text Label 7750 6050 2    50   ~ 0
RX
Text Label 7750 5950 2    50   ~ 0
TX
Text GLabel 7750 5750 0    50   Input ~ 0
SWO
Text GLabel 3600 1400 2    50   Input ~ 0
USB_RENUMn
$Comp
L power:GNDD #PWR037
U 1 1 5E97DE44
P 3350 4650
F 0 "#PWR037" H 3350 4400 50  0001 C CNN
F 1 "GNDD" H 3354 4495 50  0000 C CNN
F 2 "" H 3350 4650 50  0001 C CNN
F 3 "" H 3350 4650 50  0001 C CNN
	1    3350 4650
	-1   0    0    -1  
$EndComp
$Comp
L Device:R R19
U 1 1 5E1678D4
P 3150 4650
F 0 "R19" V 3050 4650 50  0000 C CNN
F 1 "10K" V 3150 4650 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 3080 4650 50  0001 C CNN
F 3 "~" H 3150 4650 50  0001 C CNN
	1    3150 4650
	0    1    1    0   
$EndComp
Text GLabel 5050 7150 0    50   Input ~ 0
BOOT_0
$Comp
L power:GNDD #PWR046
U 1 1 5E989001
P 5350 7550
F 0 "#PWR046" H 5350 7300 50  0001 C CNN
F 1 "GNDD" H 5354 7395 50  0000 C CNN
F 2 "" H 5350 7550 50  0001 C CNN
F 3 "" H 5350 7550 50  0001 C CNN
	1    5350 7550
	1    0    0    -1  
$EndComp
$Comp
L Device:C C11
U 1 1 5E1756DC
P 5100 7400
F 0 "C11" H 5215 7446 50  0000 L CNN
F 1 "100nF" H 5215 7355 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 5138 7250 50  0001 C CNN
F 3 "~" H 5100 7400 50  0001 C CNN
	1    5100 7400
	-1   0    0    1   
$EndComp
$Comp
L Device:R R30
U 1 1 5E1756E2
P 5350 7400
F 0 "R30" V 5250 7400 50  0000 C CNN
F 1 "10K" V 5350 7400 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 5280 7400 50  0001 C CNN
F 3 "~" H 5350 7400 50  0001 C CNN
	1    5350 7400
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR045
U 1 1 5E9889FD
P 5100 7550
F 0 "#PWR045" H 5100 7300 50  0001 C CNN
F 1 "GNDD" H 5104 7395 50  0000 C CNN
F 2 "" H 5100 7550 50  0001 C CNN
F 3 "" H 5100 7550 50  0001 C CNN
	1    5100 7550
	1    0    0    -1  
$EndComp
Text GLabel 6550 7150 2    50   Input ~ 0
OSC_OUT
Text GLabel 5800 7150 0    50   Input ~ 0
OSC_IN
Text Notes 5900 6800 0    100  Italic 20
HSE
$Comp
L Device:C C13
U 1 1 5E15D50F
P 6500 7400
F 0 "C13" H 6615 7446 50  0000 L CNN
F 1 "12pF" H 6615 7355 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 6538 7250 50  0001 C CNN
F 3 "~" H 6500 7400 50  0001 C CNN
	1    6500 7400
	1    0    0    -1  
$EndComp
$Comp
L Device:C C12
U 1 1 5E15D93C
P 5850 7400
F 0 "C12" H 5965 7446 50  0000 L CNN
F 1 "12pF" H 5965 7355 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 5888 7250 50  0001 C CNN
F 3 "~" H 5850 7400 50  0001 C CNN
	1    5850 7400
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR049
U 1 1 5E989614
P 6500 7550
F 0 "#PWR049" H 6500 7300 50  0001 C CNN
F 1 "GNDD" H 6504 7395 50  0000 C CNN
F 2 "" H 6500 7550 50  0001 C CNN
F 3 "" H 6500 7550 50  0001 C CNN
	1    6500 7550
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR047
U 1 1 5E989CA2
P 5850 7550
F 0 "#PWR047" H 5850 7300 50  0001 C CNN
F 1 "GNDD" H 5854 7395 50  0000 C CNN
F 2 "" H 5850 7550 50  0001 C CNN
F 3 "" H 5850 7550 50  0001 C CNN
	1    5850 7550
	1    0    0    -1  
$EndComp
$Comp
L Device:Crystal_GND24 Y1
U 1 1 5E8D8430
P 6200 7150
F 0 "Y1" H 6350 7350 50  0000 L CNN
F 1 "8MHz" H 6350 7250 50  0000 L CNN
F 2 "Crystal:Crystal_SMD_Abracon_ABM8G-4Pin_3.2x2.5mm" H 6200 7150 50  0001 C CNN
F 3 "~" H 6200 7150 50  0001 C CNN
	1    6200 7150
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR048
U 1 1 5E9AFB9C
P 6200 7550
F 0 "#PWR048" H 6200 7300 50  0001 C CNN
F 1 "GNDD" H 6204 7395 50  0000 C CNN
F 2 "" H 6200 7550 50  0001 C CNN
F 3 "" H 6200 7550 50  0001 C CNN
	1    6200 7550
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR042
U 1 1 5E9B91C8
P 5950 6900
F 0 "#PWR042" H 5950 6650 50  0001 C CNN
F 1 "GNDD" H 5954 6745 50  0000 C CNN
F 2 "" H 5950 6900 50  0001 C CNN
F 3 "" H 5950 6900 50  0001 C CNN
	1    5950 6900
	1    0    0    -1  
$EndComp
Wire Wire Line
	6200 7550 6200 7350
Wire Wire Line
	6350 7150 6500 7150
Wire Wire Line
	6500 7150 6500 7250
Wire Wire Line
	5850 7150 6050 7150
Wire Wire Line
	6550 7150 6500 7150
Connection ~ 6500 7150
Wire Wire Line
	5950 6900 5950 6850
Wire Wire Line
	5950 6850 6200 6850
Wire Wire Line
	6200 6850 6200 6950
Wire Wire Line
	5850 7250 5850 7150
Connection ~ 5850 7150
Text GLabel 2450 5800 2    50   Input ~ 0
T_JTDI
Text GLabel 2450 5300 2    50   Input ~ 0
STLINK_TX
Text GLabel 2450 5400 2    50   Output ~ 0
STLINK_RX
Text GLabel 1150 6200 0    50   Input ~ 0
T_SWIM
Text GLabel 1150 5900 0    50   Input ~ 0
T_SWIM
Text GLabel 1150 6300 0    50   Input ~ 0
T_SWDIO_IN
Text GLabel 1150 5700 0    50   Input ~ 0
T_NRST_SWIM
Text GLabel 1150 6500 0    50   Input ~ 0
T_SWDIO
Text GLabel 1150 5600 0    50   Input ~ 0
T_NRST_SWIM_IN
Text GLabel 1150 5800 0    50   Input ~ 0
T_SWIM_IN
Text GLabel 1150 6000 0    50   Input ~ 0
T_SWIM_IN
Text GLabel 1150 6100 0    50   Input ~ 0
T_SWIM_IN
Text GLabel 1150 5100 0    50   Input ~ 0
T_NRST_SWD
Text GLabel 2450 5600 2    50   Input ~ 0
T_SWDCLK
Text GLabel 1150 6400 0    50   Input ~ 0
T_SWDCLK
Text GLabel 2600 6100 2    50   Input ~ 0
T_SWO
Text GLabel 2450 6600 2    50   Input ~ 0
USB_RENUMn
Text GLabel 1150 5400 0    50   Input ~ 0
SWO
Text GLabel 2450 6500 2    50   Input ~ 0
SWDCLK
Text GLabel 2450 6400 2    50   Input ~ 0
SWDIO
Text GLabel 2450 6300 2    50   Input ~ 0
STLINK_USB_D+
Text GLabel 2450 6200 2    50   Input ~ 0
STLINK_USB_D-
Text GLabel 2450 5100 2    50   Input ~ 0
AIN
Text GLabel 1150 4700 0    50   Input ~ 0
Board_ID
Text GLabel 1150 4000 0    50   Input ~ 0
SELF_NRST
Text GLabel 1150 4200 0    50   Input ~ 0
BOOT_0
Text GLabel 1150 4500 0    50   Input ~ 0
OSC_OUT
Text GLabel 1150 4400 0    50   Input ~ 0
OSC_IN
Text GLabel 2600 6000 2    50   BiDi ~ 0
STLINK_LED
Wire Wire Line
	2600 6100 2450 6100
Connection ~ 2050 3750
NoConn ~ 2450 5700
$Comp
L MCU_ST_STM32F1:STM32F103CBTx U2
U 1 1 5E1A6683
P 1850 5300
F 0 "U2" H 2050 3750 50  0000 C CNN
F 1 "STM32F103CBTx" H 2300 3850 50  0000 C CNN
F 2 "Package_QFP:LQFP-48_7x7mm_P0.5mm" H 1250 3900 50  0001 R CNN
F 3 "http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/CD00161566.pdf" H 1850 5300 50  0001 C CNN
	1    1850 5300
	1    0    0    -1  
$EndComp
NoConn ~ 1150 4900
$Comp
L power:+3V3 #PWR032
U 1 1 5E1AC69A
P 2050 3700
F 0 "#PWR032" H 2050 3550 50  0001 C CNN
F 1 "+3V3" H 2065 3873 50  0000 C CNN
F 2 "" H 2050 3700 50  0001 C CNN
F 3 "" H 2050 3700 50  0001 C CNN
	1    2050 3700
	1    0    0    -1  
$EndComp
Wire Wire Line
	1650 3800 1650 3750
Wire Wire Line
	1650 3750 1750 3750
Wire Wire Line
	2050 3750 2050 3800
Wire Wire Line
	1950 3800 1950 3750
Connection ~ 1950 3750
Wire Wire Line
	1950 3750 2050 3750
Wire Wire Line
	1850 3800 1850 3750
Connection ~ 1850 3750
Wire Wire Line
	1850 3750 1950 3750
Wire Wire Line
	1750 3800 1750 3750
Connection ~ 1750 3750
Wire Wire Line
	1750 3750 1850 3750
$Comp
L Device:C C4
U 1 1 5E1B53F0
P 9950 1300
F 0 "C4" H 10065 1346 50  0000 L CNN
F 1 "100nF" H 10065 1255 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 9988 1150 50  0001 C CNN
F 3 "~" H 9950 1300 50  0001 C CNN
	1    9950 1300
	1    0    0    -1  
$EndComp
$Comp
L Device:C C5
U 1 1 5E1B5956
P 10400 1300
F 0 "C5" H 10515 1346 50  0000 L CNN
F 1 "100nF" H 10515 1255 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 10438 1150 50  0001 C CNN
F 3 "~" H 10400 1300 50  0001 C CNN
	1    10400 1300
	1    0    0    -1  
$EndComp
$Comp
L Device:C C9
U 1 1 5E1B5C37
P 10850 2050
F 0 "C9" H 10965 2096 50  0000 L CNN
F 1 "100nF" H 10965 2005 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 10888 1900 50  0001 C CNN
F 3 "~" H 10850 2050 50  0001 C CNN
	1    10850 2050
	1    0    0    -1  
$EndComp
$Comp
L Device:C C8
U 1 1 5E1B607E
P 10400 2050
F 0 "C8" H 10515 2096 50  0000 L CNN
F 1 "100nF" H 10515 2005 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 10438 1900 50  0001 C CNN
F 3 "~" H 10400 2050 50  0001 C CNN
	1    10400 2050
	1    0    0    -1  
$EndComp
$Comp
L Device:C C6
U 1 1 5E1B635D
P 10850 1300
F 0 "C6" H 10965 1346 50  0000 L CNN
F 1 "100nF" H 10965 1255 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric" H 10888 1150 50  0001 C CNN
F 3 "~" H 10850 1300 50  0001 C CNN
	1    10850 1300
	1    0    0    -1  
$EndComp
Wire Wire Line
	1950 6800 1950 6850
Wire Wire Line
	1950 6850 1850 6850
Wire Wire Line
	1650 6850 1650 6800
Wire Wire Line
	1650 6900 1650 6850
Connection ~ 1650 6850
Wire Wire Line
	1750 6850 1750 6800
Connection ~ 1750 6850
Wire Wire Line
	1750 6850 1650 6850
Wire Wire Line
	1850 6800 1850 6850
Connection ~ 1850 6850
Wire Wire Line
	1850 6850 1750 6850
NoConn ~ 2450 5200
NoConn ~ 2450 5500
NoConn ~ 1150 5500
NoConn ~ 1150 6600
Text Label 2450 6100 0    50   ~ 0
RX
Text Label 2450 6000 0    50   ~ 0
TX
NoConn ~ 2450 5900
NoConn ~ 1150 5200
Wire Wire Line
	2600 6000 2450 6000
$Comp
L power:GNDD #PWR041
U 1 1 5E981735
P 1650 6900
F 0 "#PWR041" H 1650 6650 50  0001 C CNN
F 1 "GNDD" H 1654 6745 50  0000 C CNN
F 2 "" H 1650 6900 50  0001 C CNN
F 3 "" H 1650 6900 50  0001 C CNN
	1    1650 6900
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR018
U 1 1 5E981EE0
P 10400 1450
F 0 "#PWR018" H 10400 1200 50  0001 C CNN
F 1 "GNDD" H 10404 1295 50  0000 C CNN
F 2 "" H 10400 1450 50  0001 C CNN
F 3 "" H 10400 1450 50  0001 C CNN
	1    10400 1450
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR017
U 1 1 5E9827D4
P 9950 1450
F 0 "#PWR017" H 9950 1200 50  0001 C CNN
F 1 "GNDD" H 9954 1295 50  0000 C CNN
F 2 "" H 9950 1450 50  0001 C CNN
F 3 "" H 9950 1450 50  0001 C CNN
	1    9950 1450
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR019
U 1 1 5E982A88
P 10850 1450
F 0 "#PWR019" H 10850 1200 50  0001 C CNN
F 1 "GNDD" H 10854 1295 50  0000 C CNN
F 2 "" H 10850 1450 50  0001 C CNN
F 3 "" H 10850 1450 50  0001 C CNN
	1    10850 1450
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR026
U 1 1 5E982E36
P 10400 2200
F 0 "#PWR026" H 10400 1950 50  0001 C CNN
F 1 "GNDD" H 10404 2045 50  0000 C CNN
F 2 "" H 10400 2200 50  0001 C CNN
F 3 "" H 10400 2200 50  0001 C CNN
	1    10400 2200
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR027
U 1 1 5E98316D
P 10850 2200
F 0 "#PWR027" H 10850 1950 50  0001 C CNN
F 1 "GNDD" H 10854 2045 50  0000 C CNN
F 2 "" H 10850 2200 50  0001 C CNN
F 3 "" H 10850 2200 50  0001 C CNN
	1    10850 2200
	1    0    0    -1  
$EndComp
Text GLabel 9850 6200 0    50   Input ~ 0
T_NRST_SWIM
Text GLabel 3750 1100 2    50   Input ~ 0
STLINK_USB_D+
$Comp
L power:VBUS #PWR011
U 1 1 5F1CAB36
P 2900 1350
F 0 "#PWR011" H 2900 1200 50  0001 C CNN
F 1 "VBUS" H 2915 1523 50  0000 C CNN
F 2 "" H 2900 1350 50  0001 C CNN
F 3 "" H 2900 1350 50  0001 C CNN
	1    2900 1350
	1    0    0    -1  
$EndComp
Wire Wire Line
	1900 1100 2000 1100
Wire Wire Line
	2000 1100 2000 1050
$Comp
L stlink-rescue:USB_C_Receptacle_USB2.0-Connector J2
U 1 1 5E141D2F
P 950 1700
F 0 "J2" H 1057 2567 50  0000 C CNN
F 1 "USB Type C" H 1057 2476 50  0000 C CNN
F 2 "Connector_USB:USB_C_Receptacle_Palconn_UTC16-G" H 1100 1700 50  0001 C CNN
F 3 "https://www.usb.org/sites/default/files/documents/usb_type-c.zip" H 1100 1700 50  0001 C CNN
	1    950  1700
	1    0    0    -1  
$EndComp
Wire Wire Line
	1550 1700 1550 1600
Wire Wire Line
	1550 1800 1550 1900
Wire Wire Line
	1600 1700 1550 1700
Connection ~ 1550 1700
Wire Wire Line
	1600 1800 1550 1800
Connection ~ 1550 1800
$Comp
L power:VBUS #PWR04
U 1 1 5F214D81
P 7450 1050
F 0 "#PWR04" H 7450 900 50  0001 C CNN
F 1 "VBUS" H 7465 1223 50  0000 C CNN
F 2 "" H 7450 1050 50  0001 C CNN
F 3 "" H 7450 1050 50  0001 C CNN
	1    7450 1050
	1    0    0    -1  
$EndComp
$Comp
L power:VBUS #PWR06
U 1 1 5F215625
P 4650 1150
F 0 "#PWR06" H 4650 1000 50  0001 C CNN
F 1 "VBUS" H 4665 1323 50  0000 C CNN
F 2 "" H 4650 1150 50  0001 C CNN
F 3 "" H 4650 1150 50  0001 C CNN
	1    4650 1150
	1    0    0    -1  
$EndComp
$Comp
L Connector_Generic:Conn_01x06 J3
U 1 1 5F2190BA
P 10100 3300
F 0 "J3" H 10018 3717 50  0000 C CNN
F 1 "SWD" H 10018 3626 50  0000 C CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_1x06_P2.54mm_Vertical" H 10100 3300 50  0001 C CNN
F 3 "~" H 10100 3300 50  0001 C CNN
	1    10100 3300
	-1   0    0    -1  
$EndComp
$Comp
L Connector_Generic:Conn_01x06 J5
U 1 1 5F21B63F
P 10100 4150
F 0 "J5" H 10018 4567 50  0000 C CNN
F 1 "SWIM+VCP" H 10018 4476 50  0000 C CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_1x06_P2.54mm_Vertical" H 10100 4150 50  0001 C CNN
F 3 "~" H 10100 4150 50  0001 C CNN
	1    10100 4150
	-1   0    0    -1  
$EndComp
Wire Wire Line
	5850 7150 5800 7150
NoConn ~ 650  2600
$Comp
L Device:R R12
U 1 1 5FCB0DD9
P 1750 1800
F 0 "R12" V 1650 1800 50  0000 C CNN
F 1 "22R" V 1750 1800 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 1680 1800 50  0001 C CNN
F 3 "~" H 1750 1800 50  0001 C CNN
	1    1750 1800
	0    -1   -1   0   
$EndComp
$Comp
L Device:R R11
U 1 1 5FCB0DDF
P 1750 1700
F 0 "R11" V 1850 1700 50  0000 C CNN
F 1 "22R" V 1750 1700 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 1680 1700 50  0001 C CNN
F 3 "~" H 1750 1700 50  0001 C CNN
	1    1750 1700
	0    -1   -1   0   
$EndComp
Wire Wire Line
	1950 1300 2150 1300
Wire Wire Line
	2150 1300 2150 1450
Connection ~ 1950 1300
Wire Wire Line
	1550 1300 1600 1300
Wire Wire Line
	1600 1400 1550 1400
Wire Wire Line
	1550 1100 1600 1100
$Comp
L Transistor_BJT:MMBT3904 Q1
U 1 1 5FD15A95
P 3250 1200
F 0 "Q1" V 3578 1200 50  0000 C CNN
F 1 "MMBT9013" V 3487 1200 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23" H 3450 1125 50  0001 L CIN
F 3 "https://www.onsemi.com/pub/Collateral/2N3903-D.PDF" H 3250 1200 50  0001 L CNN
	1    3250 1200
	0    -1   -1   0   
$EndComp
Wire Wire Line
	3050 1100 2900 1100
Wire Wire Line
	2900 1100 2900 1050
$Comp
L Device:R R6
U 1 1 5FD1F92D
P 3050 1400
F 0 "R6" V 3150 1400 50  0000 C CNN
F 1 "10K" V 3050 1400 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 2980 1400 50  0001 C CNN
F 3 "~" H 3050 1400 50  0001 C CNN
	1    3050 1400
	0    1    -1   0   
$EndComp
Wire Wire Line
	2900 1400 2900 1350
$Comp
L Device:R R8
U 1 1 5FD2823C
P 3450 1500
F 0 "R8" V 3350 1500 50  0000 C CNN
F 1 "36K" V 3450 1500 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 3380 1500 50  0001 C CNN
F 3 "~" H 3450 1500 50  0001 C CNN
	1    3450 1500
	0    -1   -1   0   
$EndComp
$Comp
L Device:R R7
U 1 1 5FD28242
P 3450 1400
F 0 "R7" V 3550 1400 50  0000 C CNN
F 1 "100R" V 3450 1400 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 3380 1400 50  0001 C CNN
F 3 "~" H 3450 1400 50  0001 C CNN
	1    3450 1400
	0    -1   -1   0   
$EndComp
Wire Wire Line
	3200 1400 3250 1400
Connection ~ 3250 1400
Wire Wire Line
	3250 1400 3300 1400
Wire Wire Line
	3300 1500 3250 1500
Wire Wire Line
	3250 1500 3250 1400
Wire Wire Line
	3600 1500 3650 1500
Wire Wire Line
	3650 1500 3650 1550
Wire Wire Line
	6150 1300 6100 1300
Wire Wire Line
	5500 1300 5450 1300
Wire Wire Line
	5400 850  5450 850 
Wire Wire Line
	5450 850  5450 1200
Wire Wire Line
	6150 1300 6400 1300
Connection ~ 6150 1300
Wire Wire Line
	6150 1250 6150 1300
Wire Wire Line
	2050 3700 2050 3750
$Comp
L power:+3V3 #PWR08
U 1 1 5FE1659C
P 9950 1150
F 0 "#PWR08" H 9950 1000 50  0001 C CNN
F 1 "+3V3" H 9965 1323 50  0000 C CNN
F 2 "" H 9950 1150 50  0001 C CNN
F 3 "" H 9950 1150 50  0001 C CNN
	1    9950 1150
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR09
U 1 1 5FE16A3D
P 10400 1150
F 0 "#PWR09" H 10400 1000 50  0001 C CNN
F 1 "+3V3" H 10415 1323 50  0000 C CNN
F 2 "" H 10400 1150 50  0001 C CNN
F 3 "" H 10400 1150 50  0001 C CNN
	1    10400 1150
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR010
U 1 1 5FE16EB7
P 10850 1150
F 0 "#PWR010" H 10850 1000 50  0001 C CNN
F 1 "+3V3" H 10865 1323 50  0000 C CNN
F 2 "" H 10850 1150 50  0001 C CNN
F 3 "" H 10850 1150 50  0001 C CNN
	1    10850 1150
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR024
U 1 1 5FE1711B
P 10400 1900
F 0 "#PWR024" H 10400 1750 50  0001 C CNN
F 1 "+3V3" H 10415 2073 50  0000 C CNN
F 2 "" H 10400 1900 50  0001 C CNN
F 3 "" H 10400 1900 50  0001 C CNN
	1    10400 1900
	1    0    0    -1  
$EndComp
$Comp
L power:+3V3 #PWR025
U 1 1 5FE17570
P 10850 1900
F 0 "#PWR025" H 10850 1750 50  0001 C CNN
F 1 "+3V3" H 10865 2073 50  0000 C CNN
F 2 "" H 10850 1900 50  0001 C CNN
F 3 "" H 10850 1900 50  0001 C CNN
	1    10850 1900
	1    0    0    -1  
$EndComp
Text Notes 9850 900  0    50   ~ 0
Decoupling capacitors:\none per each VDD, VDA, and VBAT
Wire Notes Line
	500  2850 4450 2850
Connection ~ 3000 4050
Wire Wire Line
	3000 4000 3000 4050
Wire Wire Line
	3000 4050 2950 4050
Text GLabel 3300 4050 2    50   Input ~ 0
T_SWIM_IN
$Comp
L Device:R R16
U 1 1 5ED1FFEB
P 3150 4050
F 0 "R16" V 3050 4050 50  0000 C CNN
F 1 "220R" V 3150 4050 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 3080 4050 50  0001 C CNN
F 3 "~" H 3150 4050 50  0001 C CNN
	1    3150 4050
	0    -1   1    0   
$EndComp
$Comp
L power:+3V3 #PWR033
U 1 1 5ED1F9AF
P 3000 3700
F 0 "#PWR033" H 3000 3550 50  0001 C CNN
F 1 "+3V3" H 3015 3873 50  0000 C CNN
F 2 "" H 3000 3700 50  0001 C CNN
F 3 "" H 3000 3700 50  0001 C CNN
	1    3000 3700
	1    0    0    -1  
$EndComp
$Comp
L Device:R R15
U 1 1 5ED1652B
P 3000 3850
F 0 "R15" V 2900 3850 50  0000 C CNN
F 1 "680R" V 3000 3850 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 2930 3850 50  0001 C CNN
F 3 "~" H 3000 3850 50  0001 C CNN
	1    3000 3850
	1    0    0    1   
$EndComp
Text GLabel 2950 4050 0    50   Input ~ 0
T_SWIM
Text GLabel 3300 4450 2    50   Input ~ 0
T_SWDIO_IN
Text Notes 600  7700 0    50   ~ 0
KA-NUCLEO-F411CE uses STM32F103CBU6 as STLink\nGreen Pill uses STM32F103CBT6 as Black Magic Probe\nSpeedy uses STM32F103C8T6 as STLink v2.1\nBlack Magic Probe 2.1 uses STM32F103BBU6\nSTM32+MSD+VCP or STM32+AUDIO can be done with STM32F1xxCBxx only!\nOtherwise: "The up-to-date firmware is too big for this board" Error\nTheoretically, can be substituted by STM32L151C8T6
Text GLabel 3000 4250 0    50   Input ~ 0
T_NRST_SWIM
Text GLabel 3000 4450 0    50   Input ~ 0
T_SWDIO
Text GLabel 3300 4250 2    50   Input ~ 0
T_NRST_SWIM_IN
$Comp
L Device:R R17
U 1 1 5E1605A4
P 3150 4250
F 0 "R17" V 3250 4250 50  0000 C CNN
F 1 "220R" V 3150 4250 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 3080 4250 50  0001 C CNN
F 3 "~" H 3150 4250 50  0001 C CNN
	1    3150 4250
	0    -1   -1   0   
$EndComp
$Comp
L Device:R R18
U 1 1 5E2426E2
P 3150 4450
F 0 "R18" V 3050 4450 50  0000 C CNN
F 1 "100R" V 3150 4450 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 3080 4450 50  0001 C CNN
F 3 "~" H 3150 4450 50  0001 C CNN
	1    3150 4450
	0    -1   1    0   
$EndComp
Text GLabel 3000 4650 0    50   Input ~ 0
Board_ID
Wire Wire Line
	3350 4650 3300 4650
Wire Wire Line
	4050 7150 4100 7150
Text GLabel 10350 6000 2    50   Input ~ 0
T_VCP_TX(h)
Text GLabel 10350 6100 2    50   Output ~ 0
T_VCP_RX(h)
Text GLabel 10350 6300 2    50   Input ~ 0
T_SWIM(h)
Text GLabel 10350 5800 2    50   Input ~ 0
T_SWO(h)
Text GLabel 10350 5700 2    50   Output ~ 0
T_NRST_SWD(h)
Text GLabel 10350 5600 2    50   Output ~ 0
T_SWDIO(h)
Text GLabel 10350 5500 2    50   Output ~ 0
T_SWDCLK(h)
Wire Wire Line
	10350 6300 10150 6300
$Comp
L Device:R R28
U 1 1 5FEF60A1
P 10000 6300
F 0 "R28" V 10050 6100 50  0000 C CNN
F 1 "47R" V 10000 6300 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 9930 6300 50  0001 C CNN
F 3 "~" H 10000 6300 50  0001 C CNN
	1    10000 6300
	0    -1   -1   0   
$EndComp
Wire Wire Line
	10350 6100 10150 6100
$Comp
L Device:R R26
U 1 1 5FEFB56D
P 10000 6100
F 0 "R26" V 10050 5900 50  0000 C CNN
F 1 "47R" V 10000 6100 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 9930 6100 50  0001 C CNN
F 3 "~" H 10000 6100 50  0001 C CNN
	1    10000 6100
	0    -1   -1   0   
$EndComp
Wire Wire Line
	10350 6000 10150 6000
$Comp
L Device:R R25
U 1 1 5FF00464
P 10000 6000
F 0 "R25" V 10050 5800 50  0000 C CNN
F 1 "47R" V 10000 6000 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 9930 6000 50  0001 C CNN
F 3 "~" H 10000 6000 50  0001 C CNN
	1    10000 6000
	0    -1   -1   0   
$EndComp
Wire Wire Line
	10350 5800 10150 5800
$Comp
L Device:R R24
U 1 1 5FF0538C
P 10000 5800
F 0 "R24" V 10050 5600 50  0000 C CNN
F 1 "47R" V 10000 5800 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 9930 5800 50  0001 C CNN
F 3 "~" H 10000 5800 50  0001 C CNN
	1    10000 5800
	0    -1   -1   0   
$EndComp
Wire Wire Line
	10350 5700 10150 5700
$Comp
L Device:R R23
U 1 1 5FF0A263
P 10000 5700
F 0 "R23" V 10050 5500 50  0000 C CNN
F 1 "47R" V 10000 5700 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 9930 5700 50  0001 C CNN
F 3 "~" H 10000 5700 50  0001 C CNN
	1    10000 5700
	0    -1   -1   0   
$EndComp
Wire Wire Line
	10350 5600 10150 5600
$Comp
L Device:R R22
U 1 1 5FF0F3D7
P 10000 5600
F 0 "R22" V 10050 5400 50  0000 C CNN
F 1 "47R" V 10000 5600 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 9930 5600 50  0001 C CNN
F 3 "~" H 10000 5600 50  0001 C CNN
	1    10000 5600
	0    -1   -1   0   
$EndComp
Wire Wire Line
	10350 5500 10150 5500
$Comp
L Device:R R21
U 1 1 5FF145EC
P 10000 5500
F 0 "R21" V 10050 5300 50  0000 C CNN
F 1 "47R" V 10000 5500 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 9930 5500 50  0001 C CNN
F 3 "~" H 10000 5500 50  0001 C CNN
	1    10000 5500
	0    -1   -1   0   
$EndComp
Text GLabel 10350 5400 2    50   Output ~ 0
T_JTDI(h)
Wire Wire Line
	10350 5400 10150 5400
$Comp
L Device:R R20
U 1 1 5FF1A09F
P 10000 5400
F 0 "R20" V 10050 5200 50  0000 C CNN
F 1 "47R" V 10000 5400 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 9930 5400 50  0001 C CNN
F 3 "~" H 10000 5400 50  0001 C CNN
	1    10000 5400
	0    -1   -1   0   
$EndComp
Text GLabel 9850 5800 0    50   Input ~ 0
T_SWO
Text GLabel 9850 6300 0    50   Input ~ 0
T_SWIM
Text GLabel 9850 5600 0    50   Input ~ 0
T_SWDIO
Text GLabel 9850 5500 0    50   Input ~ 0
SWDCLK
Text GLabel 9850 5400 0    50   Input ~ 0
T_JTDI
Text GLabel 9850 5700 0    50   Input ~ 0
T_NRST_SWD
Text GLabel 9850 6100 0    50   Input ~ 0
STLINK_TX
Text GLabel 9850 6000 0    50   Output ~ 0
STLINK_RX
NoConn ~ 1150 4800
$Comp
L power:GNDD #PWR038
U 1 1 5FF2D2A7
P 800 5350
F 0 "#PWR038" H 800 5100 50  0001 C CNN
F 1 "GNDD" H 804 5195 50  0000 C CNN
F 2 "" H 800 5350 50  0001 C CNN
F 3 "" H 800 5350 50  0001 C CNN
	1    800  5350
	1    0    0    -1  
$EndComp
Wire Wire Line
	1150 5300 800  5300
Wire Wire Line
	800  5300 800  5350
Connection ~ 4100 7150
Wire Wire Line
	5050 7150 5100 7150
Connection ~ 5100 7150
Wire Wire Line
	5100 7150 5350 7150
Wire Wire Line
	8750 1050 8750 1100
Connection ~ 8750 1100
$Comp
L Jumper:Jumper_2_Open JP1
U 1 1 5FFF801D
P 5100 6950
F 0 "JP1" V 5054 7048 50  0000 L CNN
F 1 "Flash" V 5145 7048 50  0000 L CNN
F 2 "Connector_PinSocket_1.27mm:PinSocket_2x01_P1.27mm_Vertical" H 5100 6950 50  0001 C CNN
F 3 "~" H 5100 6950 50  0001 C CNN
	1    5100 6950
	0    1    1    0   
$EndComp
$Comp
L power:+3V3 #PWR040
U 1 1 5FFF897F
P 5100 6750
F 0 "#PWR040" H 5100 6600 50  0001 C CNN
F 1 "+3V3" H 5115 6923 50  0000 C CNN
F 2 "" H 5100 6750 50  0001 C CNN
F 3 "" H 5100 6750 50  0001 C CNN
	1    5100 6750
	1    0    0    -1  
$EndComp
$Comp
L power:GNDD #PWR043
U 1 1 6000604F
P 4100 7550
F 0 "#PWR043" H 4100 7300 50  0001 C CNN
F 1 "GNDD" H 4104 7395 50  0000 C CNN
F 2 "" H 4100 7550 50  0001 C CNN
F 3 "" H 4100 7550 50  0001 C CNN
	1    4100 7550
	1    0    0    -1  
$EndComp
Wire Wire Line
	5100 7250 5100 7150
Wire Wire Line
	5350 7250 5350 7150
Wire Wire Line
	4100 7050 4100 7150
Wire Wire Line
	4100 7150 4100 7250
Wire Wire Line
	8750 4400 8850 4400
Connection ~ 8850 4400
$EndSCHEMATC
